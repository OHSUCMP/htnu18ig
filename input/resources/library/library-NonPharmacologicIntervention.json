{
  "resourceType": "Library",
  "id": "library-NonPharmacologicIntervention",
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/ohsu/htnu18ig/Library/NonPharmacologicIntervention",
  "version": "0.1",
  "name": "NonPharmacologicIntervention",
  "title": "Non-medicinal Therapy Logic",
  "description": "Decision logic for providing tailored lifestyle recommendations based on patient behaviors.",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBOb25QaGFybWFjb2xvZ2ljSW50ZXJ2ZW50aW9uIHZlcnNpb24gJzAuMScKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJyBjYWxsZWQgRkhJUkhlbHBlcnMKaW5jbHVkZSBPSFNVSFROQ29tbW9uIHZlcnNpb24gJzAuMScgY2FsbGVkIENvbW1vbgoKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycKY29kZXN5c3RlbSAiR29hbCBhY2hpZXZlbWVudCBzdGF0dXMiOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9nb2FsLWFjaGlldmVtZW50JwoKdmFsdWVzZXQgIlRvYmFjY28gVXNlIENlc3NhdGlvbiBDb3Vuc2VsaW5nIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4zLjUwOScKdmFsdWVzZXQgIldlaWdodCBSZWR1Y3Rpb24gUmVjb21tZW5kYXRpb25zIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTExNi40MjAnCnZhbHVlc2V0ICJCTUkgRm9sbG93IFVwIFBsYW4gU05PTUVEQ1QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTk1LjExMScKdmFsdWVzZXQgIkFsY29ob2wgQnJpZWYgSW50ZXJ2ZW50aW9uIGFuZCBDb3Vuc2VsaW5nIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTAzMi4xMjQnCnZhbHVlc2V0ICJDb3Vuc2VsaW5nIGZvciBOdXRyaXRpb24iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk1LjEyLjEwMDMnCnZhbHVlc2V0ICJQaHlzaWNhbCBBY3Rpdml0eSBSZWNvbW1lbmRhdGlvbnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTE2LjQxOCcKdmFsdWVzZXQgIlRvYmFjY28gU21va2luZyBTdGF0dXMgW0N1cnJlbnRdIChTb2NpYWwgSGlzdG9yeSkgKExPSU5DKSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExNDYuMTMzMCcKdmFsdWVzZXQgIlRvYmFjY28gVXNlciI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMi40MjInCnZhbHVlc2V0ICJCTUkgUmF0aW8iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjAwLjEuMTQ5MCcKdmFsdWVzZXQgIkF2ZXJhZ2UgTnVtYmVyIG9mIERyaW5rcyBwZXIgRHJpbmtpbmcgRGF5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwNi4xMS4xMDMwJwp2YWx1ZXNldCAiQWxjb2hvbCBBYnVzZSBEaXNvcmRlciI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyMjIuMjQnCgpjb2RlICJQQUNLUyBBIERBWSI6ICc4NjYzLTcnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdDaWdhcmV0dGVzIHNtb2tlZCBjdXJyZW50IChwYWNrIHBlciBkYXkpIC0gUmVwb3J0ZWQnCgpjb250ZXh0IFBhdGllbnQKCmRlZmluZSAiSW5mbyI6CiAgJ2luZm8nCgpkZWZpbmUgZnVuY3Rpb24gIkxhc3QgQ291bnNlbGluZyBQcm9jZWR1cmUiKHByb2NlZHVyZXMgTGlzdDxGSElSLlByb2NlZHVyZT4pOgogICAgKExhc3QocHJvY2VkdXJlcyBQIHNvcnQgYnkgc3RhcnQgb2YgQ29tbW9uLiJOb3JtYWxpemUgSW50ZXJ2YWwiKHBlcmZvcm1lZCkpKQoKZGVmaW5lIGZ1bmN0aW9uICJVbmlxdWUgR29hbCBJZCIoZ29hbCBTdHJpbmcpOgogIGdvYWwgKyBUb1N0cmluZyhOb3coKSkKCi8qIEV4dHJhY3QgdGhlIENPQUNIIENvZGUgZnJvbSB0aGUgR29hbCAqLwpkZWZpbmUgZnVuY3Rpb24gIkdvYWwgQ2F0ZWdvcnkiKGdvYWwgRkhJUi5Hb2FsKToKICBzaW5nbGV0b24gZnJvbSAoZ29hbC5jYXRlZ29yeSBjYXRlZ29yeQogICAgbGV0IGNvZGluZzogc2luZ2xldG9uIGZyb20gKGNhdGVnb3J5LmNvZGluZyBjIHdoZXJlIGMuc3lzdGVtLnZhbHVlID0gJ2h0dHBzOi8vY29hY2gub2hzdS5lZHUnKQogICAgcmV0dXJuIEZISVJIZWxwZXJzLlRvQ29kZShjb2RpbmcpKQoKLyogUmV0dXJuIGEgbGlzdCBjb250YWluaW5nIHRoZSBqc29uIHN0cmluZyBuZWVkZWQgdG8gdXBkYXRlIGVhY2ggZ2l2ZW4gR29hbCAqLwpkZWZpbmUgZnVuY3Rpb24gIlVwZGF0ZSBHb2FscyBTdHJpbmciKGdvYWxzIExpc3Q8RkhJUi5Hb2FsPik6CiAgZ29hbHMgR29hbAogICAgbGV0IGNvZGluZzogIkdvYWwgQ2F0ZWdvcnkiKEdvYWwpCiAgICByZXR1cm4gJ3siaWQiOiAiJyArIEdvYWwuaWQgKyAnIiwgInR5cGUiOiAidXBkYXRlLWdvYWwiLCAicmVmZXJlbmNlcyI6IHsic3lzdGVtIjoiJyArIGNvZGluZy5zeXN0ZW0gKyAnIiwgImNvZGUiOiInICsgY29kaW5nLmNvZGUgKyAnIn0sICJsYWJlbCI6ICJHb2FsOiAnKyBHb2FsLmRlc2NyaXB0aW9uLnRleHQgKyAnIn0nCgpkZWZpbmUgZnVuY3Rpb24gIkdvYWwgU3VtbWFyeSIoZ29hbHMgTGlzdDxGSElSLkdvYWw+KToKICBnb2FscyBHb2FsIHJldHVybiAnPHN0cm9uZz4nICsgR29hbC5kZXNjcmlwdGlvbi50ZXh0ICsgJzwvc3Ryb25nPicKCmRlZmluZSAiUGF0aWVudCBOYW1lIjoKICBGaXJzdChQYXRpZW50Lm5hbWUuZ2l2ZW4pCiAgICsgJyAnICsKICBGaXJzdChQYXRpZW50Lm5hbWUuZmFtaWx5KQoKLyogUmVjb21tZW5kYXRpb24gQ3JpdGVyaWEgLSBOb24tUGhhcm1hY29sb2dpYyBJbnRlcnZlbnRpb25zICAqLwpkZWZpbmUgIk1lZXRzIEluY2x1c2lvbiBDcml0ZXJpYSI6CiAgZXhpc3RzIENvbW1vbi4iQ29uZGl0aW9uIEluZGljYXRpbmcgUHJlZXhpc3RpbmcgSHlwZXJ0ZW5zaW9uIgoKZGVmaW5lICJNZWV0cyBFeGNsdXNpb24gQ3JpdGVyaWEiOgogIENvbW1vbi4iUGF0aWVudCBVbmRlciBBZ2UgMTgiCiAgICBvciBDb21tb24uIlBhdGllbnQgT3ZlciBBZ2UgODAiCiAgICBvciBleGlzdHMgQ29tbW9uLiJDb25kaXRpb24gSW5kaWNhdGluZyBFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSIKICAgIG9yIGV4aXN0cyBDb21tb24uIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIKICAgIG9yIENvbW1vbi4iSFROIENyaXNpcyIKCmRlZmluZSAiSW4gUG9wdWxhdGlvbiI6CiAgIk1lZXRzIEluY2x1c2lvbiBDcml0ZXJpYSIKICBhbmQgbm90ICJNZWV0cyBFeGNsdXNpb24gQ3JpdGVyaWEiCgovKioqKiogRGVjaXNpb24gRGlhbW9uZHMgKioqKiovCmRlZmluZSAiUGF0aWVudCBIYXMgQmVoYXZpb3JhbCBHb2FscyI6CiAgZXhpc3RzICJUb2JhY2NvIENlc3NhdGlvbiBHb2FscyIgb3IKICBleGlzdHMgIldlaWdodCBMb3NzIEdvYWxzIiBvcgogIGV4aXN0cyAiQWxjb2hvbCBHb2FscyIgb3IKICBleGlzdHMgIlBoeXNpY2FsIEFjdGl2aXR5IEdvYWxzIiBvcgogIGV4aXN0cyAiTnV0cml0aW9uIEdvYWxzIgoKZGVmaW5lICJFbnRlciBXb3JrZmxvdyI6CiAgIkluIFBvcHVsYXRpb24iIGFuZCAoIlBhdGllbnQgSGFzIEJlaGF2aW9yYWwgR29hbHMiIG9yIChDb21tb24uIlBhdGllbnQgaGFzIGEgQlAgR29hbCIgYW5kIG5vdCBDb21tb24uIkJQIEdvYWwgTWV0IikpCgovKioqKiogU01PS0lORyBDQVJEIE9VVFBVVCAqKioqKi8KCmRlZmluZSAiU21va2luZyBSZWNvbW1lbmRhdGlvbiI6CiAgaWYgZXhpc3RzICJUb2JhY2NvIENlc3NhdGlvbiBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAnU21va2luZyBjZXNzYXRpb24gZ29hbCBkdWUgZm9yIHVwZGF0ZS4nCiAgZWxzZSBpZiBleGlzdHMgIlRvYmFjY28gQ2Vzc2F0aW9uIEdvYWxzIiB0aGVuICdTbW9raW5nIGNlc3NhdGlvbiBnb2FsIGNoZWNrLWluLicKICBlbHNlIGlmICJQYXRpZW50IGlzIEN1cnJlbnRseSBhIFNtb2tlciIgYW5kICJMYXN0IFNtb2tpbmcgQ291bnNlbGluZyBQcm9jZWR1cmUiIGlzIG51bGwgdGhlbiAnRGlzY3VzcyBzbW9raW5nIGNlc3NhdGlvbi4nCiAgZWxzZSBpZiAiUGF0aWVudCBpcyBDdXJyZW50bHkgYSBTbW9rZXIiIHRoZW4gJ1JlbWluZCBhYm91dCBzbW9raW5nIGNlc3NhdGlvbi4nCiAgZWxzZSAnJwoKZGVmaW5lICJTbW9raW5nIFJhdGlvbmFsZSBDb21iaW5lZCBEYXRhIjoKICAiU21va2luZyBSYXRpb25hbGUiICsgJ3wnICsgIlNtb2tpbmcgU3VnZ2VzdGlvbnMiICsgJ3xhdC1tb3N0LW9uZXwnICsgIlNtb2tpbmcgTGlua3MiCgpkZWZpbmUgIlNtb2tpbmcgUmF0aW9uYWxlIjoKICBpZiBleGlzdHMgIlRvYmFjY28gQ2Vzc2F0aW9uIEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICd7eyNwYXRpZW50fX1Zb3Ugc2V0IGEgc21va2luZyBjZXNzYXRpb24gZ29hbCBhbmQgaXQgaXMgdGltZSB0byB1cGRhdGUgaG93IHRoYXQgZ29hbCB3ZW50Lnt7L3BhdGllbnR9fScKICBlbHNlIGlmIGV4aXN0cyAiVG9iYWNjbyBDZXNzYXRpb24gR29hbHMiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBzZXQgYSBzbW9raW5nIGNlc3NhdGlvbiBnb2FsOyBpdCBpc25cJ3QgcXVpdGUgdGhlIHRpbWUgeW91IHNldCB0byB1cGRhdGUsIGJ1dCB5b3UgY2FuIHVwZGF0ZSB0aGF0IGdvYWwgYXQgYW55IHRpbWUuPGJyPicgKyAiVG9iYWNjbyBHb2FsIFN1bW1hcnkiICsgJ3t7L3BhdGllbnR9fScKICBlbHNlIGlmICJQYXRpZW50IGlzIEN1cnJlbnRseSBhIFNtb2tlciIgYW5kICJMYXN0IFNtb2tpbmcgQ291bnNlbGluZyBQcm9jZWR1cmUiIGlzIG51bGwgdGhlbiAne3sjcGF0aWVudH19UmVkdWNpbmcgeW91ciBzbW9raW5nIHdpbGwgaGVscCBsb3dlciBibG9vZCBwcmVzc3VyZSwgdGhlIHJpc2sgb2Ygc3Ryb2tlLCBhbmQgb3RoZXIgaGFybWZ1bCBldmVudHMuIFBsZWFzZSBkaXNjdXNzIG1ldGhvZHMgdG8gcmVkdWNlIHNtb2tpbmcgd2l0aCB5b3VyIGNhcmUgdGVhbS57ey9wYXRpZW50fX0KICAgIHt7I2NhcmVUZWFtfX1QYXRpZW50IHJlcG9ydHMgdGhleSBzbW9rZS4gQ291bnNlbCBhYm91dCBxdWl0dGluZyBhY2NvcmRpbmcgdG8geW91ciBsb2NhbCBwcm90b2NvbC57ey9jYXJlVGVhbX19JwogIGVsc2UgaWYgIlBhdGllbnQgaXMgQ3VycmVudGx5IGEgU21va2VyIiB0aGVuICd7eyNwYXRpZW50fX1Zb3UgcHJldmlvdXNseSByZWNlaXZlZCBjb3Vuc2VsaW5nIGFib3V0IHF1aXR0aW5nIHNtb2tpbmcsIHdoaWNoIHdvdWxkIGxvd2VyIHlvdXIgYmxvb2QgcHJlc3N1cmUgYW5kIG90aGVyIGhlYWx0aCByaXNrcy4gUGxlYXNlIGNvbnNpZGVyIHJlYWRkcmVzc2luZyB0aGlzIGdvYWwue3svcGF0aWVudH19CiAgICB7eyNjYXJlVGVhbX19UGF0aWVudCBzdGlsbCBzbW9rZXMsIGJ1dCBoYXMgYmVlbiBjb3Vuc2VsZWQuIENvbnNpZGVyIHJlbWluZGluZyBhYm91dCBxdWl0dGluZyBhY2NvcmRpbmcgdG8geW91ciBsb2NhbCBwcm90b2NvbC57ey9jYXJlVGVhbX19JwogIGVsc2UgJycKCmRlZmluZSAiU21va2luZyBTdWdnZXN0aW9ucyI6CiAgaWYgZXhpc3RzICJUb2JhY2NvIENlc3NhdGlvbiBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAnWycgKyBDb21iaW5lKCJVcGRhdGUgR29hbHMgU3RyaW5nIigiVG9iYWNjbyBDZXNzYXRpb24gR29hbHMgTmVlZGluZyBVcGRhdGUiKSwgJywnKSArICddJwogIGVsc2UgaWYgZXhpc3RzICJUb2JhY2NvIENlc3NhdGlvbiBHb2FscyIgdGhlbiAnWyB7ICJpZCI6ICJnb2FsLXN1Z2dlc3Rpb24iLCAibGFiZWwiOiAiIiwgInR5cGUiOiAic3VnZ2VzdGlvbi1saW5rIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IlZpZXcvRWRpdCBHb2FscyIsICJ1cmwiOiIvZ29hbHMifV0gfSBdJwogIGVsc2UgaWYgIlBhdGllbnQgaXMgQ3VycmVudGx5IGEgU21va2VyIiBhbmQgIkxhc3QgU21va2luZyBDb3Vuc2VsaW5nIFByb2NlZHVyZSIgaXMgbnVsbCB0aGVuICdbCiAgICB7ImlkIjogInNtb2tpbmctY291bnNlbGluZyIsICJ0eXBlIjoiY291bnNlbGluZy1saW5rIiwgInJlZmVyZW5jZXMiOiB7InN5c3RlbSI6Imh0dHA6Ly9zbm9tZWQuaW5mby9zY3QiLCAiY29kZSI6IjIyNTMyMzAwMCJ9LCJsYWJlbCI6ICJTbW9raW5nIENlc3NhdGlvbiBDb3Vuc2VsaW5nIiwiYWN0aW9ucyI6IFt7InVybCI6Ii9jb3Vuc2VsaW5nL3Ntb2tpbmctY2Vzc2F0aW9uIiwgImxhYmVsIjoiQ2xpY2sgaGVyZSB0byBsZWFybiBtb3JlIGFib3V0IHRvYmFjY28gY2Vzc2F0aW9uLiJ9XX0sCiAgICB7ImlkIjogIicgKyAiVW5pcXVlIEdvYWwgSWQiKCdzbW9raW5nLWdvYWwtJykgKyAnIiwgInR5cGUiOiJnb2FsIiwgInJlZmVyZW5jZXMiOnsic3lzdGVtIjoiaHR0cHM6Ly9jb2FjaC5vaHN1LmVkdSIsICJjb2RlIjoic21va2luZy1jZXNzYXRpb24iLCAiZGlzcGxheSI6ICJTbW9raW5nIENlc3NhdGlvbiJ9LCAibGFiZWwiOiAiU2V0IGEgVG9iYWNjbyBDZXNzYXRpb24gR29hbCIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJSZWR1Y2UgbXkgdG9iYWNjbyB1c2UgdG8gW3F1YW50aXR5XSBbbWV0aG9kOmNpZ2FyZXR0ZXNdIHBlciBbdGltZSBwZXJpb2RdLiJ9XSB9XScKICBlbHNlIGlmICJQYXRpZW50IGlzIEN1cnJlbnRseSBhIFNtb2tlciIgdGhlbiAnWyB7ICJpZCI6ICInICsgIlVuaXF1ZSBHb2FsIElkIignc21va2luZy1nb2FsLScpICsgJyIsICJ0eXBlIjoiZ29hbCIsICJyZWZlcmVuY2VzIjp7InN5c3RlbSI6Imh0dHBzOi8vY29hY2gub2hzdS5lZHUiLCAiY29kZSI6InNtb2tpbmctY2Vzc2F0aW9uIiwgImRpc3BsYXkiOiAiU21va2luZyBDZXNzYXRpb24ifSwgImxhYmVsIjogIlNldCBhIFRvYmFjY28gQ2Vzc2F0aW9uIEdvYWwiLCAiYWN0aW9ucyI6IFt7ImxhYmVsIjoiUmVkdWNlIG15IHRvYmFjY28gdXNlIHRvIFtxdWFudGl0eV0gW21ldGhvZDpjaWdhcmV0dGVzXSBwZXIgW3RpbWUgcGVyaW9kXS4ifV0gfSBdJwogIGVsc2UgJycKCmRlZmluZSAiU21va2luZyBMaW5rcyI6CiAgJ1sKICAgIHsgImxhYmVsIjogIkFIQTogU21va2luZyBhbmQgeW91ciBIZWFsdGgiLCAidXJsIjogImh0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUvY2hhbmdlcy15b3UtY2FuLW1ha2UtdG8tbWFuYWdlLWhpZ2gtYmxvb2QtcHJlc3N1cmUvc21va2luZy1oaWdoLWJsb29kLXByZXNzdXJlLWFuZC15b3VyLWhlYWx0aCJ9CiAgXScKCmRlZmluZSAiVG9iYWNjbyBHb2FsIFN1bW1hcnkiOgogIENvbWJpbmUoIkdvYWwgU3VtbWFyeSIoIlRvYmFjY28gQ2Vzc2F0aW9uIEdvYWxzIiksICc8YnI+JykKCmRlZmluZSAiU21va2luZyBJbmRpY2F0b3IgU3RhdHVzIjoKICBpZiBleGlzdHMgIlRvYmFjY28gQ2Vzc2F0aW9uIEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICd3YXJuaW5nJwogIGVsc2UgJ2luZm8nCgovKioqKiogV0VJR0hUIExPU1MgQ0FSRCBPVVRQVVQgKioqKiovCgpkZWZpbmUgIkJNSSBSZWNvbW1lbmRhdGlvbiI6CiAgaWYgZXhpc3RzICJXZWlnaHQgTG9zcyBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAnV2VpZ2h0IGxvc3MgZ29hbCBkdWUgZm9yIHVwZGF0ZS4nCiAgZWxzZSBpZiBleGlzdHMgIldlaWdodCBMb3NzIEdvYWxzIiB0aGVuICdXZWlnaHQgbG9zcyBnb2FsIGNoZWNrLWluLicKICBlbHNlIGlmICJQYXRpZW50IEJNSSBpcyBHcmVhdGVyIHRoYW4gMjUga2cvbTIiIGFuZCAiTGFzdCBCTUkgQ291bnNlbGluZyBQcm9jZWR1cmUiIGlzIG51bGwgdGhlbiAnQ29uc2lkZXIgd2VpZ2h0IGxvc3Mgc3RyYXRlZ2llcy4nCiAgZWxzZSBpZiAiUGF0aWVudCBCTUkgaXMgR3JlYXRlciB0aGFuIDI1IGtnL20yIiB0aGVuICdSZW1pbmQgYWJvdXQgd2VpZ2h0IGxvc3MuJwogIGVsc2UgJycKCmRlZmluZSAiQk1JIFJhdGlvbmFsZSBDb21iaW5lZCBEYXRhIjoKICAiQk1JIFJhdGlvbmFsZSIgKyAnfCcgKyAiQk1JIFN1Z2dlc3Rpb25zIiArICd8YXQtbW9zdC1vbmV8JyArICJCTUkgTGlua3MiCgpkZWZpbmUgIkJNSSBSYXRpb25hbGUiOgogIGlmIGV4aXN0cyAiV2VpZ2h0IExvc3MgR29hbHMgTmVlZGluZyBVcGRhdGUiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBzZXQgYSBnb2FsIGZvciB3ZWlnaHQgbG9zcyBhbmQgaXQgaXMgdGltZSB0byB1cGRhdGUgaG93IHRoYXQgZ29hbCB3ZW50Lnt7L3BhdGllbnR9fScKICBlbHNlIGlmIGV4aXN0cyAiV2VpZ2h0IExvc3MgR29hbHMiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBzZXQgYSBnb2FsIGZvciB3ZWlnaHQgbG9zczsgaXQgaXNuXCd0IHF1aXRlIHRoZSB0aW1lIHlvdSBzZXQgdG8gdXBkYXRlLCBidXQgeW91IGNhbiB1cGRhdGUgYXQgYW55IHRpbWUuPGJyPicgKyAiV2VpZ2h0IExvc3MgR29hbCBTdW1tYXJ5IiArICd7ey9wYXRpZW50fX0nCiAgZWxzZSBpZiAiUGF0aWVudCBCTUkgaXMgR3JlYXRlciB0aGFuIDI1IGtnL20yIiBhbmQgIkxhc3QgQk1JIENvdW5zZWxpbmcgUHJvY2VkdXJlIiBpcyBudWxsIHRoZW4gJ3t7I3BhdGllbnR9fVlvdXIgY3VycmVudCB3ZWlnaHQgc3VnZ2VzdHMgdGhhdCB3ZWlnaHQgcmVkdWN0aW9uIHdpbGwgaGVscCBsb3dlciB5b3VyIGJsb29kIHByZXNzdXJlLCB0aGUgcmlzayBvZiBzdHJva2UsIGFuZCBvdGhlciBoYXJtZnVsIGV2ZW50cy4gQ29uc2lkZXIgc2VsZWN0aW5nIGEgd2VpZ2h0IGxvc3MgZ29hbCB3aGljaCBjYW4gaGVscCB5b3UgcmVkdWNlIHdlaWdodC57ey9wYXRpZW50fX0KICAgIHt7I2NhcmVUZWFtfX1QYXRpZW50IGhhcyBhIEJNSSBvZiAyNSBvciBncmVhdGVyLiBHdWlkZWxpbmVzIHJlY29tbWVuZCB3ZWlnaHQgbG9zcyB0byBhaWQgaW4gbG93ZXJpbmcgYmxvb2QgcHJlc3N1cmUue3svY2FyZVRlYW19fScKICBlbHNlIGlmICJQYXRpZW50IEJNSSBpcyBHcmVhdGVyIHRoYW4gMjUga2cvbTIiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBwcmV2aW91c2x5IHJlY2VpdmVkIGNvdW5zZWxpbmcgYWJvdXQgd2VpZ2h0IGxvc3MuIFdlaWdodCByZWR1Y3Rpb24gd2lsbCBoZWxwIGxvd2VyIHlvdXIgYmxvb2QgcHJlc3N1cmUuIFBsZWFzZSBjb25zaWRlciByZWFkZHJlc3NpbmcgdGhpcyBnb2FsLnt7L3BhdGllbnR9fQogICAge3sjY2FyZVRlYW19fVBhdGllbnQgaGFzIGEgQk1JIG9mIDI1IG9yIGdyZWF0ZXI7IHRoZXkgaGF2ZSBiZWVuIGNvdW5zZWxpbmcsIGJ1dCBtYXkgbmVlZCBhIHJlbWluZGVyLnt7L2NhcmVUZWFtfX0nCiAgZWxzZSAnJwoKZGVmaW5lICJCTUkgU3VnZ2VzdGlvbnMiOgogIGlmIGV4aXN0cyAiV2VpZ2h0IExvc3MgR29hbHMgTmVlZGluZyBVcGRhdGUiIHRoZW4gJ1snICsgQ29tYmluZSgiVXBkYXRlIEdvYWxzIFN0cmluZyIoIldlaWdodCBMb3NzIEdvYWxzIE5lZWRpbmcgVXBkYXRlIiksICcsJykgKyAnXScKICBlbHNlIGlmIGV4aXN0cyAiV2VpZ2h0IExvc3MgR29hbHMiIHRoZW4gJ1sgeyAiaWQiOiAiZ29hbC1zdWdnZXN0aW9uIiwgImxhYmVsIjogIiIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJWaWV3L0VkaXQgR29hbHMiLCAidXJsIjoiL2dvYWxzIn1dIH0gXScKICBlbHNlIGlmICJQYXRpZW50IEJNSSBpcyBHcmVhdGVyIHRoYW4gMjUga2cvbTIiIGFuZCAiTGFzdCBCTUkgQ291bnNlbGluZyBQcm9jZWR1cmUiIGlzIG51bGwgdGhlbiAnWwogICAgeyJpZCI6ICJ3ZWlnaHQtbG9zcy1jb3Vuc2VsaW5nIiwgImxhYmVsIjogIldlaWdodCBMb3NzIENvdW5zZWxpbmciLCAidHlwZSI6ICJjb3Vuc2VsaW5nLWxpbmsiLCAicmVmZXJlbmNlcyI6IHsic3lzdGVtIjoiaHR0cDovL3Nub21lZC5pbmZvL3NjdCIsICJjb2RlIjoiMjY2NzI0MDAxIn0sICJhY3Rpb25zIjogWyB7ImxhYmVsIjoiTGVhcm4gbW9yZSBhYm91dCB3ZWlnaHQgbG9zcy4iLCAidXJsIjoiL2NvdW5zZWxpbmcvd2VpZ2h0LWxvc3MifV19LAogICAgeyJpZCI6ICInICsgIlVuaXF1ZSBHb2FsIElkIignd2VpZ2h0LWxvc3MtZ29hbC0nKSArICciLCAidHlwZSI6ImdvYWwiLCAicmVmZXJlbmNlcyI6eyJzeXN0ZW0iOiJodHRwczovL2NvYWNoLm9oc3UuZWR1IiwgImNvZGUiOiJ3ZWlnaHQtbG9zcyIsICJkaXNwbGF5IjogIldlaWdodCBMb3NzIn0sICJsYWJlbCI6ICJTZXQgYSBXZWlnaHQgTG9zcyBHb2FsIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IlJlZHVjZSBteSB3ZWlnaHQgYnkgW3F1YW50aXR5XSBwb3VuZHMuIn1dIH0KICBdJwogIGVsc2UgaWYgIlBhdGllbnQgQk1JIGlzIEdyZWF0ZXIgdGhhbiAyNSBrZy9tMiIgdGhlbiAnWyB7ICJpZCI6ICInICsgIlVuaXF1ZSBHb2FsIElkIignd2VpZ2h0LWxvc3MtZ29hbC0nKSArICciLCAidHlwZSI6ImdvYWwiLCAicmVmZXJlbmNlcyI6eyJzeXN0ZW0iOiJodHRwczovL2NvYWNoLm9oc3UuZWR1IiwgImNvZGUiOiJ3ZWlnaHQtbG9zcyIsICJkaXNwbGF5IjogIldlaWdodCBMb3NzIn0sICJsYWJlbCI6ICJTZXQgYSBXZWlnaHQgTG9zcyBHb2FsIiwgImFjdGlvbnMiOiBbImxhYmVsIjoiUmVkdWNlIG15IHdlaWdodCBieSBbcXVhbnRpdHldIHBvdW5kcy4ifV0gfSBdJwogIGVsc2UgJycKCmRlZmluZSAiQk1JIExpbmtzIjoKICAnWwogICAgeyJsYWJlbCI6IlVuaXZlcnNpdHkgb2YgTWljaGlnYW46IEh5cGVydGVuc2lvbiIsICJ1cmwiOiJodHRwczovL3Vocy51bWljaC5lZHUvaHlwZXJ0ZW5zaW9uIn0sCiAgICB7ImxhYmVsIjoiQUhBOiBDaGFuZ2VzIFlvdSBDYW4gTWFrZSB0byBNYW5hZ2UgSGlnaCBCbG9vZCBQcmVzc3VyZSIsICJ1cmwiOiJodHRwczovL3d3dy5oZWFydC5vcmcvZW4vaGVhbHRoLXRvcGljcy9oaWdoLWJsb29kLXByZXNzdXJlL2NoYW5nZXMteW91LWNhbi1tYWtlLXRvLW1hbmFnZS1oaWdoLWJsb29kLXByZXNzdXJlIn0KICBdJwoKZGVmaW5lICJXZWlnaHQgTG9zcyBHb2FsIFN1bW1hcnkiOgogIENvbWJpbmUoIkdvYWwgU3VtbWFyeSIoIldlaWdodCBMb3NzIEdvYWxzIiksICc8YnI+JykKCmRlZmluZSAiV2VpZ2h0IExvc3MgSW5kaWNhdG9yIFN0YXR1cyI6CiAgaWYgZXhpc3RzICJXZWlnaHQgTG9zcyBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAnd2FybmluZycKICBlbHNlICdpbmZvJwoKLyoqKioqIEFMQ09IT0wgQ0FSRCBPVVRQVVQgKioqKiovCgpkZWZpbmUgIkFsY29ob2wgUmVjb21tZW5kYXRpb24iOgogIGlmIGV4aXN0cyAiQWxjb2hvbCBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAnQWxjb2hvbCBtb2RlcmF0aW9uIGdvYWwgZHVlIGZvciB1cGRhdGUuJwogIGVsc2UgaWYgZXhpc3RzICJBbGNvaG9sIEdvYWxzIiB0aGVuICdBbGNvaG9sIG1vZGVyYXRpb24gY2hlY2staW4uJwogIGVsc2UgaWYgIlBhdGllbnQgaXMgYSBIZWF2eSBBbGNvaG9saWMgRHJpbmtlciIgYW5kICJMYXN0IEFsY29ob2wgQ291bnNlbGluZyBQcm9jZWR1cmUiIGlzIG51bGwgdGhlbiAnRGlzY3VzcyBhbGNvaG9sIG1vZGVyYXRpb24uJwogIGVsc2UgaWYgIlBhdGllbnQgaXMgYSBIZWF2eSBBbGNvaG9saWMgRHJpbmtlciIgdGhlbiAnUmVtaW5kZXIgYWJvdXQgQWxjb2hvbCBjb3Vuc2VsaW5nLicKICBlbHNlICcnCgpkZWZpbmUgIkFsY29ob2wgUmF0aW9uYWxlIENvbWJpbmVkIERhdGEiOgogICJBbGNvaG9sIFJhdGlvbmFsZSIgKyAnfCcgKyAiQWxjb2hvbCBTdWdnZXN0aW9ucyIgKyAnfGF0LW1vc3Qtb25lfCcgKyAiQWxjb2hvbCBMaW5rcyIKCmRlZmluZSAiQWxjb2hvbCBSYXRpb25hbGUiOgogIGlmIGV4aXN0cyAiQWxjb2hvbCBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAne3sjcGF0aWVudH19WW91IHNldCBhIGdvYWwgdG8gcmVkdWNlIGFsY29ob2wgYW5kIGl0IGlzIHRpbWUgdG8gdXBkYXRlIGhvdyB0aGF0IGdvYWwgd2VudC57ey9wYXRpZW50fX0nCiAgZWxzZSBpZiBleGlzdHMgIkFsY29ob2wgR29hbHMiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBzZXQgYSBnb2FsIHRvIHJlZHVjZSBhbGNvaG9sOyBpdCBpc25cJ3QgcXVpdGUgdGhlIHRpbWUgeW91IHNldCB0byB1cGRhdGUsIGJ1dCB5b3UgY2FuIHVwZGF0ZSBhdCBhbnkgdGltZS48YnI+JyArICJBbGNvaG9sIE1vZGVyYXRpb24gR29hbCBTdW1tYXJ5IiArICd7ey9wYXRpZW50fX0nCiAgZWxzZSBpZiAiUGF0aWVudCBpcyBhIEhlYXZ5IEFsY29ob2xpYyBEcmlua2VyIiBhbmQgIkxhc3QgQWxjb2hvbCBDb3Vuc2VsaW5nIFByb2NlZHVyZSIgaXMgbnVsbCB0aGVuICd7eyNwYXRpZW50fX1SZWR1Y2luZyB5b3VyIGFsY29ob2wgY29uc3VtcHRpb24gd2lsbCBoZWxwIGxvd2VyIHlvdXIgYmxvb2QgcHJlc3N1cmUsIGFsb25nIHdpdGggb3RoZXIgaGVhbHRoIHJpc2tzLiBQbGVhc2UgZGlzY3VzcyBtZXRob2RzIHRvIHJlZHVjZSB5b3VyIGFsY29ob2wgY29uc3VtcHRpb24gd2l0aCB5b3VyIGNhcmUgdGVhbS57ey9wYXRpZW50fX0nCiAgZWxzZSBpZiAiUGF0aWVudCBpcyBhIEhlYXZ5IEFsY29ob2xpYyBEcmlua2VyIiB0aGVuICdZb3UgcHJldmlvdXNseSByZWNlaXZlZCBjb3Vuc2VsaW5nIGFib3V0IGFsY29ob2wgY29uc3VtcHRpb24uIE1vZGVyYXRpbmcgYWxjb2hvbCBjb25zdW1wdGlvbiBoYXMgcHJvdmVuIGJlbmVmaXRzIHRvIGhlYXJ0IGhlYWx0aCBhbmQgcmVkdWNpbmcgYmxvb2QgcHJlc3N1cmUuIFBsZWFzZSBjb25zaWRlciByZWFkZHJlc3NpbmcgdGhpcyBnb2FsLicKICBlbHNlICcnCgpkZWZpbmUgIkFsY29ob2wgU3VnZ2VzdGlvbnMiOgogIGlmIGV4aXN0cyAiQWxjb2hvbCBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAnWycgKyBDb21iaW5lKCJVcGRhdGUgR29hbHMgU3RyaW5nIigiQWxjb2hvbCBHb2FscyBOZWVkaW5nIFVwZGF0ZSIpLCAnLCcpICsgJ10nCiAgZWxzZSBpZiBleGlzdHMgIkFsY29ob2wgR29hbHMiIHRoZW4gJ1sgeyAiaWQiOiAiZ29hbC1zdWdnZXN0aW9uIiwgImxhYmVsIjogIiIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJWaWV3L0VkaXQgR29hbHMiLCAidXJsIjoiL2dvYWxzIn1dIH0gXScKICBlbHNlIGlmICJQYXRpZW50IGlzIGEgSGVhdnkgQWxjb2hvbGljIERyaW5rZXIiIGFuZCAiTGFzdCBBbGNvaG9sIENvdW5zZWxpbmcgUHJvY2VkdXJlIiBpcyBudWxsIHRoZW4gJ1sKICAgIHsiaWQiOiAiYWxjb2hvbC1jb3Vuc2VsaW5nIiwgImxhYmVsIjogIkFsY29ob2wgQ291bnNlbGluZyIsICJ0eXBlIjogImNvdW5zZWxpbmctbGluayIsICJyZWZlcmVuY2VzIjogeyJzeXN0ZW0iOiJodHRwOi8vc25vbWVkLmluZm8vc2N0IiwgImNvZGUiOiIyNDE2NTAwNyJ9LCAiYWN0aW9ucyI6IFsgeyJsYWJlbCI6IkxlYXJuIG1vcmUgYWJvdXQgYWxjb2hvbCBtb2RlcmF0aW9uLiIsICJ1cmwiOiIvY291bnNlbGluZy9hbGNvaG9sLW1vZGVyYXRpb24ifV19LAogICAgeyJpZCI6ICInICsgIlVuaXF1ZSBHb2FsIElkIignYWxjb2hvbC1nb2FsLScpICsgJyIsICJ0eXBlIjoiZ29hbCIsICJyZWZlcmVuY2VzIjp7InN5c3RlbSI6Imh0dHBzOi8vY29hY2gub2hzdS5lZHUiLCAiY29kZSI6ImFsY29ob2wtbW9kZXJhdGlvbiIsICJkaXNwbGF5IjogIkFsY29ob2wgTW9kZXJhdGlvbiJ9LCAibGFiZWwiOiAiU2V0IGFuIEFsY29ob2wgTW9kZXJhdGlvbiBHb2FsIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IlJlZHVjZSBteSBhbGNvaG9sIGNvbnN1bXB0aW9uIHRvIFtxdWFudGl0eV0gZHJpbmtzIHBlciBbdGltZSBwZXJpb2RdLiJ9XSB9CiAgXScKICBlbHNlIGlmICJQYXRpZW50IGlzIGEgSGVhdnkgQWxjb2hvbGljIERyaW5rZXIiIHRoZW4gJ1t7ICJpZCI6ICInICsgIlVuaXF1ZSBHb2FsIElkIignYWxjb2hvbC1nb2FsLScpICsgJyIsICJ0eXBlIjoiZ29hbCIsICJyZWZlcmVuY2VzIjp7InN5c3RlbSI6Imh0dHBzOi8vY29hY2gub2hzdS5lZHUiLCAiY29kZSI6ImFsY29ob2wtbW9kZXJhdGlvbiIsICJkaXNwbGF5IjogIkFsY29ob2wgTW9kZXJhdGlvbiJ9LCAibGFiZWwiOiAiU2V0IGFuIEFsY29ob2wgTW9kZXJhdGlvbiBHb2FsIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IlJlZHVjZSBteSBhbGNvaG9sIGNvbnN1bXB0aW9uIHRvIFtxdWFudGl0eV0gZHJpbmtzIHBlciBbdGltZSBwZXJpb2RdLiJ9XSB9IF0nCiAgZWxzZSAnJwoKZGVmaW5lICJBbGNvaG9sIExpbmtzIjoKICAnWwogICAgeyJsYWJlbCI6IkFIQTogQWxjb2hvbCBhbmQgSGlnaCBCbG9vZCBQcmVzc3VyZSIsICJ1cmwiOiJodHRwczovL3d3dy5oZWFydC5vcmcvZW4vaGVhbHRoLXRvcGljcy9oaWdoLWJsb29kLXByZXNzdXJlL2NoYW5nZXMteW91LWNhbi1tYWtlLXRvLW1hbmFnZS1oaWdoLWJsb29kLXByZXNzdXJlL2xpbWl0aW5nLWFsY29ob2wtdG8tbWFuYWdlLWhpZ2gtYmxvb2QtcHJlc3N1cmUifQogIF0nCgpkZWZpbmUgIkFsY29ob2wgTW9kZXJhdGlvbiBHb2FsIFN1bW1hcnkiOgogIENvbWJpbmUoIkdvYWwgU3VtbWFyeSIoIkFsY29ob2wgR29hbHMiKSwgJzxicj4nKQoKZGVmaW5lICJBbGNvaG9sIE1vZGVyYXRpb24gSW5kaWNhdG9yIFN0YXR1cyI6CiAgaWYgZXhpc3RzICJBbGNvaG9sIEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICd3YXJuaW5nJwogIGVsc2UgJ2luZm8nCgovKioqKiogTlVUUklUSU9OIENBUkQgT1VUUFVUICoqKioqLwoKZGVmaW5lICJOdXRyaXRpb24gUmVjb21tZW5kYXRpb24iOgogIGlmIGV4aXN0cyAiTnV0cml0aW9uIEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICdOdXRyaXRpb24gZ29hbCB1cGRhdGUuJwogIGVsc2UgaWYgZXhpc3RzICJOdXRyaXRpb24gR29hbHMiIHRoZW4gJ051dHJpdGlvbiBnb2FsIGNoZWNrLWluLicKICBlbHNlIGlmICJMYXN0IE51dHJpdGlvbiBDb3Vuc2VsaW5nIFByb2NlZHVyZSIgaXMgbnVsbCB0aGVuICdEaXNjdXNzIGRpZXRhcnkgY2hhbmdlcyAod2l0aCBzYWx0L3NvZGl1bSByZWR1Y3Rpb24pLicKICBlbHNlICdSZW1pbmRlciBhYm91dCBudXRyaXRpb24uJwoKZGVmaW5lICJOdXRyaXRpb24gUmF0aW9uYWxlIENvbWJpbmVkIERhdGEiOgogICJOdXRyaXRpb24gUmF0aW9uYWxlIiArICd8JyArICJOdXRyaXRpb24gU3VnZ2VzdGlvbnMiICsgJ3xhdC1tb3N0LW9uZXwnICsgIk51dHJpdGlvbiBMaW5rcyIKCmRlZmluZSAiTnV0cml0aW9uIFJhdGlvbmFsZSI6CiAgaWYgZXhpc3RzICJOdXRyaXRpb24gR29hbHMgTmVlZGluZyBVcGRhdGUiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBzZXQgYSBudXRyaXRpb24gZ29hbCBhbmQgaXQgaXMgdGltZSB0byB1cGRhdGUgaXQue3svcGF0aWVudH19JwogIGVsc2UgaWYgZXhpc3RzICJOdXRyaXRpb24gR29hbHMiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBzZXQgYSBudXRyaXRpb24gZ29hbDsgaXQgaXNuXCd0IHF1aXRlIHRoZSB0aW1lIHlvdSBzZXQgdG8gdXBkYXRlIGl0LCBidXQgeW91IG1heSB1cGRhdGUgdGhhdCBnb2FsIGF0IGFueSB0aW1lLjxicj4nICsgIk51dHJpdGlvbiBHb2FsIFN1bW1hcnkiICsgJ3t7L3BhdGllbnR9fScKICBlbHNlIGlmICJMYXN0IE51dHJpdGlvbiBDb3Vuc2VsaW5nIFByb2NlZHVyZSIgaXMgbnVsbCB0aGVuICd7eyNwYXRpZW50fX1DaG9vc2luZyB0aGUgREFTSCBkaWV0LCBhIGxvdyBzb2RpdW0gZGlldCwgb3IgYW5vdGhlciBoZWFydC1oZWFsdGh5IGRpZXQgbWF5IGxvd2VyIHlvdXIgZWxldmF0ZWQgYmxvb2QgcHJlc3N1cmUgYW5kIHJlZHVjZSB5b3VyIHJpc2sgb2YgaGVhcnQgYXR0YWNrIGFuZCBzdHJva2UuIFBsZWFzZSBkaXNjdXNzIGNob29zaW5nIGEgZGlldCB3aXRoIHlvdXIgY2FyZSB0ZWFtLnt7L3BhdGllbnR9fQogICAge3sjY2FyZVRlYW19fVBhdGllbnQgbmVlZHMgY291bnNlbGluZyBhYm91dCByZWR1Y2luZyBzb2RpdW0gb3IgY2hvb3NpbmcgYSBoZWFydCBoZWFsdGh5IGRpZXQue3svY2FyZVRlYW19fScKICBlbHNlICdZb3UgaGF2ZSBwcmV2aW91c2x5IHJlY2VpdmVkIGNvdW5zZWxpbmcgYWJvdXQgZGlldGFyeSBjaGFuZ2UuIE1haW50YWluaW5nIGEgaGVhbHRoeSBkaWV0IHRoYXQgYXZvaWRzIGV4Y2VzcyBzYWx0L3NvZGl1bSB3aWxsIGhlbHAgaGVhcnQgaGVhbHRoIGFuZCBhc3Npc3QgaW4gY29udHJvbGxpbmcgYmxvb2QgcHJlc3N1cmUuIFBsZWFzZSBjb25zaWRlciByZWFkcmVzc2luZyB0aGlzIGdvYWwuJwoKZGVmaW5lICJOdXRyaXRpb24gU3VnZ2VzdGlvbnMiOgogIGlmIGV4aXN0cyAiTnV0cml0aW9uIEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICdbJyArIENvbWJpbmUoIlVwZGF0ZSBHb2FscyBTdHJpbmciKCJOdXRyaXRpb24gR29hbHMgTmVlZGluZyBVcGRhdGUiKSwgJywnKSArICddJwogIGVsc2UgaWYgZXhpc3RzICJOdXRyaXRpb24gR29hbHMiIHRoZW4gJ1sgeyAiaWQiOiAiZ29hbC1zdWdnZXN0aW9uIiwgImxhYmVsIjogIiIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJWaWV3L0VkaXQgR29hbHMiLCAidXJsIjoiL2dvYWxzIn1dIH0gXScKICBlbHNlIGlmICJMYXN0IE51dHJpdGlvbiBDb3Vuc2VsaW5nIFByb2NlZHVyZSIgaXMgbnVsbCB0aGVuICdbCiAgICB7ImlkIjogIm51dHJpdGlvbi1jb3Vuc2VsaW5nIiwgImxhYmVsIjogIk51dHJpdGlvbiBDb3Vuc2VsaW5nIiwgInR5cGUiOiAiY291bnNlbGluZy1saW5rIiwgInJlZmVyZW5jZXMiOiB7InN5c3RlbSI6Imh0dHA6Ly9zbm9tZWQuaW5mby9zY3QiLCAiY29kZSI6IjExODE2MDAzIn0sICJhY3Rpb25zIjogWyB7ImxhYmVsIjoiTGVhcm4gbW9yZSBhYm91dCBudXRyaXRpb24gYW5kIGRpZXQgY2hhbmdlcy4iLCAidXJsIjoiL2NvdW5zZWxpbmcvZGlldCJ9XX0sCiAgICB7ImlkIjogIicgKyAiVW5pcXVlIEdvYWwgSWQiKCdudXRyaXRpb24tZ29hbC0nKSArICciLCAidHlwZSI6ImdvYWwiLCAicmVmZXJlbmNlcyI6eyJzeXN0ZW0iOiJodHRwczovL2NvYWNoLm9oc3UuZWR1IiwgImNvZGUiOiJudXRyaXRpb24iLCAiZGlzcGxheSI6ICJOdXRyaXRpb24ifSwgImxhYmVsIjogIlNldCBhIE51dHJpdGlvbi9EaWV0IENoYW5nZSBHb2FsIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IkF2b2lkIGVhdGluZyBbZm9vZCBpdGVtXSBmb3IgdGhlIG5leHQgW3F1YW50aXR5XSBbdGltZSBwZXJpb2Q6d2VlayhzKV0uIn1dfQogIF0nCiAgZWxzZSAnW3sgImlkIjogIicgKyAiVW5pcXVlIEdvYWwgSWQiKCdudXRyaXRpb24tZ29hbC0nKSArICciLCAidHlwZSI6ImdvYWwiLCAicmVmZXJlbmNlcyI6eyJzeXN0ZW0iOiJodHRwczovL2NvYWNoLm9oc3UuZWR1IiwgImNvZGUiOiJudXRyaXRpb24iLCAiZGlzcGxheSI6ICJOdXRyaXRpb24ifSwgImxhYmVsIjogIlNldCBhIE51dHJpdGlvbi9EaWV0IENoYW5nZSBHb2FsIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IkF2b2lkIGVhdGluZyBbZm9vZCBpdGVtXSBmb3IgdGhlIG5leHQgW3F1YW50aXR5XSBbdGltZSBwZXJpb2Q6d2VlayhzKV0uIn1dIH0gXScKCmRlZmluZSAiTnV0cml0aW9uIExpbmtzIjoKICAnWwogICAgeyJsYWJlbCI6ICJOSUg6IERBU0ggRGlldCIsICJ1cmwiOiAiaHR0cHM6Ly93d3cubmhsYmkubmloLmdvdi9oZWFsdGgtdG9waWNzL2Rhc2gtZWF0aW5nLXBsYW4ifSwKICAgIHsibGFiZWwiOiAiQ0RDOiBFYXRpbmcgSGVhbHRoeSIsICJ1cmwiOiAiaHR0cHM6Ly93d3cuY2RjLmdvdi9oZWFsdGh5d2VpZ2h0L2hlYWx0aHlfZWF0aW5nL2luZGV4Lmh0bWwifQogIF0nCgpkZWZpbmUgIk51dHJpdGlvbiBHb2FsIFN1bW1hcnkiOgogICAgQ29tYmluZSgiR29hbCBTdW1tYXJ5IigiTnV0cml0aW9uIEdvYWxzIiksICc8YnI+JykKCmRlZmluZSAiTnV0cml0aW9uIEluZGljYXRvciBTdGF0dXMiOgogIGlmIGV4aXN0cyAiTnV0cml0aW9uIEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICd3YXJuaW5nJwogIGVsc2UgJ2luZm8nCgovKioqKiogUEhZU0lDQUwgQUNUSVZJVFkgQ0FSRCBPVVRQVVQgKioqKiovCgpkZWZpbmUgIlBoeXNpY2FsIEFjdGl2aXR5IFJlY29tbWVuZGF0aW9uIjoKICBpZiBleGlzdHMgIlBoeXNpY2FsIEFjdGl2aXR5IEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICdQaHlzaWNhbCBhY3Rpdml0eSBnb2FsIHVwZGF0ZS4nCiAgZWxzZSBpZiBleGlzdHMgIlBoeXNpY2FsIEFjdGl2aXR5IEdvYWxzIiB0aGVuICdQaHlzaWNhbCBhY3Rpdml0eSBnb2FsIGNoZWNrLWluLicKICBlbHNlIGlmICJMYXN0IFBoeXNpY2FsIEFjdGl2aXR5IENvdW5zZWxpbmcgUHJvY2VkdXJlIiBpcyBudWxsIHRoZW4gJ0Rpc2N1c3MgcGh5c2ljYWwgYWN0aXZpdHkuJwogIGVsc2UgJ1JlbWluZGVyIGFib3V0IHBoeXNpY2FsIGFjdGl2aXR5LicKCmRlZmluZSAiUGh5c2ljYWwgQWN0aXZpdHkgUmF0aW9uYWxlIENvbWJpbmVkIERhdGEiOgogICJQaHlzaWNhbCBBY3Rpdml0eSBSYXRpb25hbGUiICsgJ3wnICsgIlBoeXNpY2FsIEFjdGl2aXR5IFN1Z2dlc3Rpb25zIiArICd8YXQtbW9zdC1vbmV8JyArICJQaHlzaWNhbCBBY3Rpdml0eSBMaW5rcyIKCmRlZmluZSAiUGh5c2ljYWwgQWN0aXZpdHkgUmF0aW9uYWxlIjoKICBpZiBleGlzdHMgIlBoeXNpY2FsIEFjdGl2aXR5IEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICd7eyNwYXRpZW50fX1Zb3Ugc2V0IGEgcGh5c2ljYWwgYWN0aXZpdHkgZ29hbCBhbmQgaXQgaXMgdGltZSB0byB1cGRhdGUgaG93IHRoYXQgZ29hbCB3ZW50Lnt7L3BhdGllbnR9fScKICBlbHNlIGlmIGV4aXN0cyAiUGh5c2ljYWwgQWN0aXZpdHkgR29hbHMiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSBzZXQgYSBwaHlzaWNhbCBhY3Rpdml0eSBnb2FsOyBpdCBpc25cJ3QgcXVpdGUgdGhlIHRpbWUgeW91IHNldCB0byB1cGRhdGUgaXQsIGJ1dCB5b3UgbWF5IHVwZGF0ZSB0aGF0IGdvYWwgYXQgYW55IHRpbWUuPGJyPicgKyAiUGh5c2ljYWwgQWN0aXZpdHkgR29hbCBTdW1tYXJ5IiArICd7ey9wYXRpZW50fX0nCiAgZWxzZSBpZiAiTGFzdCBQaHlzaWNhbCBBY3Rpdml0eSBDb3Vuc2VsaW5nIFByb2NlZHVyZSIgaXMgbnVsbCB0aGVuICd7eyNwYXRpZW50fX1QaHlzaWNhbCBhY3Rpdml0eSBjYW4gaGVscCByZWR1Y2UgeW91ciBibG9vZCBwcmVzc3VyZSwgcmlzayBvZiBzdHJva2UsIGFuZCBvdGhlciBoYXJtZnVsIGV2ZW50cy4gUGxlYXNlIGRpc2N1c3MgbWV0aG9kcyB0byBpbmNyZWFzZSB5b3VyIHBoeXNpY2FsIGFjdGl2aXR5IHdpdGggeW91ciBjYXJlIHRlYW0ue3svcGF0aWVudH19CiAgICB7eyNjYXJlVGVhbX19UGF0aWVudCBuZWVkcyBjb3Vuc2VsaW5nIGFib3V0IGluY3JlYXNpbmcgcGh5c2ljYWwgYWN0aXZpdHkue3svY2FyZVRlYW19fScKICBlbHNlICdZb3UgcHJldmlvdXNseSByZWNlaXZlZCBjb3Vuc2VsaW5nIGFib3V0IHBoeXNpY2FsIGFjdGl2aXR5LiBNYWludGFpbmluZyBhdCBsZWFzdCBhIG1vZGVyYXRlIGFtb3VudCBvZiBwaHlzaWNhbCBhY3Rpdml0eSB3aWxsIGhlbHAgY29udHJvbCBibG9vZCBwcmVzc3VyZS4gUGxlYXNlIGNvbnNpZGVyIHJlYWRkcmVzc2luZyB0aGlzIGdvYWwuJwoKZGVmaW5lICJQaHlzaWNhbCBBY3Rpdml0eSBTdWdnZXN0aW9ucyI6CiAgaWYgZXhpc3RzICJQaHlzaWNhbCBBY3Rpdml0eSBHb2FscyBOZWVkaW5nIFVwZGF0ZSIgdGhlbiAnWycgKyBDb21iaW5lKCJVcGRhdGUgR29hbHMgU3RyaW5nIigiUGh5c2ljYWwgQWN0aXZpdHkgR29hbHMgTmVlZGluZyBVcGRhdGUiKSwgJywnKSArICddJwogIGVsc2UgaWYgZXhpc3RzICJQaHlzaWNhbCBBY3Rpdml0eSBHb2FscyIgdGhlbiAnWyB7ICJpZCI6ICJnb2FsLXN1Z2dlc3Rpb24iLCAibGFiZWwiOiAiIiwgInR5cGUiOiAic3VnZ2VzdGlvbi1saW5rIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IlZpZXcvRWRpdCBHb2FscyIsICJ1cmwiOiIvZ29hbHMifV0gfSBdJwogIGVsc2UgaWYgIkxhc3QgUGh5c2ljYWwgQWN0aXZpdHkgQ291bnNlbGluZyBQcm9jZWR1cmUiIGlzIG51bGwgdGhlbiAnWwogICAgeyJpZCI6ICJwaHlzaWNhbC1hY3Rpdml0eS1jb3Vuc2VsaW5nIiwgImxhYmVsIjogIlBoeXNpY2FsIEFjdGl2aXR5IENvdW5zZWxpbmciLCAidHlwZSI6ICJjb3Vuc2VsaW5nLWxpbmsiLCAicmVmZXJlbmNlcyI6IHsic3lzdGVtIjoiaHR0cDovL3Nub21lZC5pbmZvL3NjdCIsICJjb2RlIjoiMzA0NTA3MDAzIn0sICJhY3Rpb25zIjogWyB7ImxhYmVsIjoiTGVhcm4gbW9yZSBhYm91dCBwaHlzaWNhbCBhY3Rpdml0eS4iLCAidXJsIjoiL2NvdW5zZWxpbmcvcGh5c2ljYWwtYWN0aXZpdHkifV19LAogICAgeyJpZCI6ICInICsgIlVuaXF1ZSBHb2FsIElkIigncGh5c2ljYWwtYWN0aXZpdHktZ29hbC0nKSArICciLCAidHlwZSI6ImdvYWwiLCAicmVmZXJlbmNlcyI6eyJzeXN0ZW0iOiJodHRwczovL2NvYWNoLm9oc3UuZWR1IiwgImNvZGUiOiJwaHlzaWNhbC1hY3Rpdml0eSIsICJkaXNwbGF5IjogIlBoeXNpY2FsIEFjdGl2aXR5In0sICJsYWJlbCI6ICJTZXQgYSBQaHlzaWNhbCBBY3Rpdml0eSBHb2FsIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IkV4ZXJjaXNlIGZvciBbcXVhbnRpdHldIFt0aW1lIHBlcmlvZDpob3Vyc10sIFtxdWFudGl0eV0gdGltZXMgcGVyIFt0aW1lIHBlcmlvZF0uIn1dIH0KICBdJwogIGVsc2UgJ1t7ICJpZCI6ICInICsgIlVuaXF1ZSBHb2FsIElkIigncGh5c2ljYWwtYWN0aXZpdHktZ29hbC0nKSArICciLCAidHlwZSI6ImdvYWwiLCAicmVmZXJlbmNlcyI6eyJzeXN0ZW0iOiJodHRwczovL2NvYWNoLm9oc3UuZWR1IiwgImNvZGUiOiJwaHlzaWNhbC1hY3Rpdml0eSIsICJkaXNwbGF5IjogIlBoeXNpY2FsIEFjdGl2aXR5In0sICJsYWJlbCI6ICJTZXQgYSBQaHlzaWNhbCBBY3Rpdml0eSBHb2FsIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IkV4ZXJjaXNlIGZvciBbcXVhbnRpdHldIFt0aW1lIHBlcmlvZDpob3Vyc10sIFtxdWFudGl0eV0gdGltZXMgcGVyIFt0aW1lIHBlcmlvZF0uIn1dIH0gXScKCmRlZmluZSAiUGh5c2ljYWwgQWN0aXZpdHkgTGlua3MiOgogICdbCiAgICB7ImxhYmVsIjogIkFIQTogR2V0dGluZyBBY3RpdmUgdG8gQ29udHJvbCB5b3VyIEhpZ2ggQmxvb2QgUHJlc3N1cmUiLCAidXJsIjogImh0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUvY2hhbmdlcy15b3UtY2FuLW1ha2UtdG8tbWFuYWdlLWhpZ2gtYmxvb2QtcHJlc3N1cmUvZ2V0dGluZy1hY3RpdmUtdG8tY29udHJvbC1oaWdoLWJsb29kLXByZXNzdXJlIn0sCiAgICB7ImxhYmVsIjogIkhlYWx0aC5nb3Y6IEN1cnJlbnQgcGh5c2ljYWwgYWN0aXZpdHkgZ3VpZGVsaW5lcyIsICJ1cmwiOiAiaHR0cHM6Ly9oZWFsdGguZ292L291ci13b3JrL3BoeXNpY2FsLWFjdGl2aXR5L2N1cnJlbnQtZ3VpZGVsaW5lcyJ9LAogICAgeyJsYWJlbCI6ICJDREM6IFBoeXNpY2FsIEFjdGl2aXR5IEluZGV4IiwgInVybCI6Imh0dHBzOi8vd3d3LmNkYy5nb3YvcGh5c2ljYWxhY3Rpdml0eS9pbmRleC5odG1sIn0KICBdJwoKZGVmaW5lICJQaHlzaWNhbCBBY3Rpdml0eSBHb2FsIFN1bW1hcnkiOgogICAgQ29tYmluZSgiR29hbCBTdW1tYXJ5IigiUGh5c2ljYWwgQWN0aXZpdHkgR29hbHMiKSwgJzxicj4nKQoKZGVmaW5lICJQaHlzaWNhbCBBY3Rpdml0eSBJbmRpY2F0b3IgU3RhdHVzIjoKICBpZiBleGlzdHMgIlBoeXNpY2FsIEFjdGl2aXR5IEdvYWxzIE5lZWRpbmcgVXBkYXRlIiB0aGVuICd3YXJuaW5nJwogIGVsc2UgJ2luZm8nCgpkZWZpbmUgIkV4Y2x1c2lvbiBSZWFzb24iOgogIGlmICJNZWV0cyBFeGNsdXNpb24gQ3JpdGVyaWEiIHRoZW4KICAgICgKICAgICAgJ1BhdGllbnQgd2FzIGV4Y2x1ZGVkIGZyb20gbm9uLXBoYXJtYWNvbG9naWMgaW50ZXJ2ZW50aW9ucyBmb3IgaHlwZXJ0ZW5zaW9uIGR1ZSB0byAnCiAgICAgICsgKAogICAgICAgICAgaWYgQ29tbW9uLiJQYXRpZW50IFVuZGVyIEFnZSAxOCIgdGhlbiAnYmVpbmcgdW5kZXIgdGhlIGFnZSBvZiAxOC4nCiAgICAgICAgICBlbHNlIGlmIENvbW1vbi4iUGF0aWVudCBPdmVyIEFnZSA4MCIgdGhlbiAnYmVpbmcgb3ZlciB0aGUgYWdlIG9mIDgwLicKICAgICAgICAgIGVsc2UgaWYgZXhpc3RzIENvbW1vbi4iQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiIHRoZW4gJ2hhdmluZyBlbmQgc3RhZ2UgcmVuYWwgZGlzZWFzZS4nCiAgICAgICAgICBlbHNlIGlmIGV4aXN0cyBDb21tb24uIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIgdGhlbiAnYmVpbmcgcHJlZ25hbnQuJwogICAgICAgICAgZWxzZSBpZiBDb21tb24uIkhUTiBDcmlzaXMiIHRoZW4gJ2EgcmVjZW50IGhpZ2ggYmxvb2QgcHJlc3N1cmUgd2FybmluZy4nCiAgICAgICAgICBlbHNlICcnCiAgICAgICAgKQogICAgKQogIGVsc2UgJycKCi8qIE5vbi1QaGFybWFjb2xvZ2ljIEludGVydmVudGlvbnMgV29ya2Zsb3cgKi8KZGVmaW5lICJHb2FscyI6CiAgKENvbW1vbi5RdWFsaWZpZWRHb2FsKFsiR29hbCJdKSkgR29hbCB3aGVyZSBHb2FsLmxpZmVjeWNsZVN0YXR1cyA9ICdhY3RpdmUnCgovLyBMb29rIGZvciBjdXN0b20gdG9iYWNjbyBnb2FsIGNvZGluZwpkZWZpbmUgIlRvYmFjY28gQ2Vzc2F0aW9uIEdvYWxzIjoKICAiR29hbHMiIEdvYWwKICAgIHdoZXJlIEdvYWwuY2F0ZWdvcnkuY29kaW5nLmNvZGUgY29udGFpbnMgJ3Ntb2tpbmctY2Vzc2F0aW9uJwoKLy8gUmV0dXJuIEdvYWxzIHBhc3QgdGFyZ2V0IGRhdGUKZGVmaW5lICJUb2JhY2NvIENlc3NhdGlvbiBHb2FscyBOZWVkaW5nIFVwZGF0ZSI6CiAgKCJUb2JhY2NvIENlc3NhdGlvbiBHb2FscyIpIEdvYWwKICAgIHdoZXJlIEZpcnN0KEdvYWwudGFyZ2V0KS5kdWUudmFsdWUgc2FtZSBkYXkgb3IgYmVmb3JlIFRvZGF5KCkKCi8vIEFsbCBvYnNlcnZhdGlvbnMgcGVydGFpbmluZyB0byBzbW9raW5nCmRlZmluZSAiU21va2luZyBTdGF0dXMgT2JzZXJ2YXRpb25zIjoKICAoQ29tbW9uLlF1YWxpZmllZE9ic2VydmF0aW9uKFsiT2JzZXJ2YXRpb24iOiAiVG9iYWNjbyBTbW9raW5nIFN0YXR1cyBbQ3VycmVudF0gKFNvY2lhbCBIaXN0b3J5KSAoTE9JTkMpIl0pKQoKLy8gQWxsIG9ic2VydmF0aW9ucyBpbmRpY2F0aW5nIHBhdGllbnQgaXMgYSBzbW9rZXIKZGVmaW5lICJPYnNlcnZhdGlvbnMgSW5kaWNhdGluZyBQYXRpZW50IGlzIGEgU21va2VyIjoKICAiU21va2luZyBTdGF0dXMgT2JzZXJ2YXRpb25zIiBTbW9raW5nU3RhdHVzCiAgICB3aGVyZSBTbW9raW5nU3RhdHVzLnZhbHVlIGFzIENvZGVhYmxlQ29uY2VwdCBpbiAiVG9iYWNjbyBVc2VyIgogICAgICBhbmQgc2luZ2xldG9uIGZyb20gKAogICAgICAgIFNtb2tpbmdTdGF0dXMuY29tcG9uZW50IEMKICAgICAgICAgIHdoZXJlIEZISVJIZWxwZXJzLlRvQ29uY2VwdChDLmNvZGUpIH4gIlBBQ0tTIEEgREFZIgogICAgICAgICAgICBhbmQgQy52YWx1ZSBpcyBRdWFudGl0eSBhbmQgQ29tbW9uLldpdGhVbml0KEMudmFsdWUsICdQYWNrcy9EYXknKQogICAgICApIGlzIG5vdCBudWxsCgpkZWZpbmUgIk1vc3QgUmVjZW50IE9ic2VydmF0aW9uIG9mIFBhdGllbnQgU21va2luZyBTdGF0dXMiOgogIExhc3QoCiAgICAiU21va2luZyBTdGF0dXMgT2JzZXJ2YXRpb25zIiBTbW9raW5nT2JzZXJ2ZWQKICAgIHNvcnQgYnkgQ29hbGVzY2UoZW5kIG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihlZmZlY3RpdmUpLCBpc3N1ZWQpCiAgKQoKZGVmaW5lICJQYXRpZW50IGlzIEN1cnJlbnRseSBhIFNtb2tlciI6CiAgIkluIFBvcHVsYXRpb24iIGFuZCAiT2JzZXJ2YXRpb25zIEluZGljYXRpbmcgUGF0aWVudCBpcyBhIFNtb2tlciIgY29udGFpbnMgIk1vc3QgUmVjZW50IE9ic2VydmF0aW9uIG9mIFBhdGllbnQgU21va2luZyBTdGF0dXMiCgovLyBMb29rIGZvciBjdXN0b20gd2VpZ2h0IGxvc3MgZ29hbCBjb2RpbmcKZGVmaW5lICJXZWlnaHQgTG9zcyBHb2FscyI6CiAgIkdvYWxzIiBHb2FsCiAgICB3aGVyZSBHb2FsLmNhdGVnb3J5LmNvZGluZy5jb2RlIGNvbnRhaW5zICd3ZWlnaHQtbG9zcycKCi8vIFJldHVybiBHb2FscyBwYXN0IHRhcmdldCBkYXRlCmRlZmluZSAiV2VpZ2h0IExvc3MgR29hbHMgTmVlZGluZyBVcGRhdGUiOgogICgiV2VpZ2h0IExvc3MgR29hbHMiKSBHb2FsCiAgICB3aGVyZSBGaXJzdChHb2FsLnRhcmdldCkuZHVlLnZhbHVlIHNhbWUgZGF5IG9yIGJlZm9yZSBUb2RheSgpCgovLyBJcyBwYXRpZW50J3MgQk1JID4gMjU/CmRlZmluZSAiT2JzZXJ2YXRpb25zIFNwZWNpZnlpbmcgUGF0aWVudCBCTUkiOgogIChDb21tb24uUXVhbGlmaWVkT2JzZXJ2YXRpb24oWyJPYnNlcnZhdGlvbiI6ICJCTUkgUmF0aW8iXSkpIEJNSU9ic2VydmVkCiAgICB3aGVyZSBCTUlPYnNlcnZlZC52YWx1ZSBpcyBRdWFudGl0eQogICAgICBhbmQgQ29tbW9uLldpdGhVbml0KEJNSU9ic2VydmVkLnZhbHVlLCAna2cvbTInKQoKZGVmaW5lICJNb3N0IFJlY2VudCBQYXRpZW50IEJNSSI6CiAgTGFzdCgKICAgICJPYnNlcnZhdGlvbnMgU3BlY2lmeWluZyBQYXRpZW50IEJNSSIgQk1JT2JzZXJ2ZWQKICAgIHNvcnQgYnkgQ29hbGVzY2UoZW5kIG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihlZmZlY3RpdmUpLCBpc3N1ZWQpCiAgKQoKZGVmaW5lICJQYXRpZW50IEJNSSBpcyBHcmVhdGVyIHRoYW4gMjUga2cvbTIiOgogICJJbiBQb3B1bGF0aW9uIiBhbmQgIk1vc3QgUmVjZW50IFBhdGllbnQgQk1JIi52YWx1ZSA+PSAyNS4wICdrZy9tMicKCi8vIExvb2sgZm9yIGN1c3RvbSBhbGNvaG9sIGdvYWwgY29kaW5nCmRlZmluZSAiQWxjb2hvbCBHb2FscyI6CiAgIkdvYWxzIiBHb2FsCiAgICB3aGVyZSBHb2FsLmNhdGVnb3J5LmNvZGluZy5jb2RlIGNvbnRhaW5zICdhbGNvaG9sLW1vZGVyYXRpb24nCgovLyBSZXR1cm4gR29hbHMgcGFzdCB0YXJnZXQgZGF0ZQpkZWZpbmUgIkFsY29ob2wgR29hbHMgTmVlZGluZyBVcGRhdGUiOgogICgiQWxjb2hvbCBHb2FscyIpIEdvYWwKICAgIHdoZXJlIEZpcnN0KEdvYWwudGFyZ2V0KS5kdWUudmFsdWUgc2FtZSBkYXkgb3IgYmVmb3JlIFRvZGF5KCkKCi8vIERvZXMgcGF0aWVudCBkcmluayBoZWF2aWx5PwpkZWZpbmUgIk9ic2VydmF0aW9ucyBNZWFzdXJpbmcgQW1vdW50IG9mIEFsY29ob2xpYyBEcmlua3MgUGF0aWVudCBoYXMgcGVyIERyaW5raW5nIERheSI6CiAgKENvbW1vbi5RdWFsaWZpZWRPYnNlcnZhdGlvbihbIk9ic2VydmF0aW9uIjogIkF2ZXJhZ2UgTnVtYmVyIG9mIERyaW5rcyBwZXIgRHJpbmtpbmcgRGF5Il0pKSBEcmlua3NQZXJEYXkKICAgIHdoZXJlIERyaW5rc1BlckRheS52YWx1ZSBpcyBRdWFudGl0eQogICAgICBhbmQgQ29tbW9uLldpdGhVbml0KERyaW5rc1BlckRheS52YWx1ZSwgJ0RyaW5rcy9EYXknKQoKZGVmaW5lICJNb3N0IFJlY2VudCBQYXRpZW50IERyaW5raW5nIE9ic2VydmF0aW9uIjoKICBMYXN0KAogICAgIk9ic2VydmF0aW9ucyBNZWFzdXJpbmcgQW1vdW50IG9mIEFsY29ob2xpYyBEcmlua3MgUGF0aWVudCBoYXMgcGVyIERyaW5raW5nIERheSIgRHJpbmtzUGVyRGF5CiAgICBzb3J0IGJ5IENvYWxlc2NlKGVuZCBvZiBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoZWZmZWN0aXZlKSwgaXNzdWVkKQogICkKCmRlZmluZSAiSGVhdnkgRGFpbHkgRHJpbmtlciI6CiAgaWYgUGF0aWVudC5nZW5kZXIgPSAnbWFsZScgdGhlbiAzLjAKICBlbHNlIDIuMAoKZGVmaW5lICJDb25kaXRpb24gSW5kaWNhdGluZyBBbGNvaG9sIEFidXNlIERpc29yZGVyIjoKICBDb21tb24uIkNvbmRpdGlvbnMiIFByb2JsZW0KICAgIHdoZXJlIFByb2JsZW0uY29kZSBpbiAiQWxjb2hvbCBBYnVzZSBEaXNvcmRlciIgYW5kIGVuZCBvZiBDb21tb24uIlByZXZhbGVuY2UgUGVyaW9kIihQcm9ibGVtKSA+PSBUb2RheSgpCgpkZWZpbmUgIlBhdGllbnQgaXMgYSBIZWF2eSBBbGNvaG9saWMgRHJpbmtlciI6CiAgaWYgbm90ICJJbiBQb3B1bGF0aW9uIiB0aGVuCiAgICBmYWxzZQogIGVsc2UKICAgICJNb3N0IFJlY2VudCBQYXRpZW50IERyaW5raW5nIE9ic2VydmF0aW9uIi52YWx1ZS52YWx1ZSA+PSAiSGVhdnkgRGFpbHkgRHJpbmtlciIgb3IKICAgICAgZXhpc3RzICJDb25kaXRpb24gSW5kaWNhdGluZyBBbGNvaG9sIEFidXNlIERpc29yZGVyIgoKZGVmaW5lICJOdXRyaXRpb24gR29hbHMiOgogICJHb2FscyIgR29hbAogICAgd2hlcmUgR29hbC5jYXRlZ29yeS5jb2RpbmcuY29kZSBjb250YWlucyAnbnV0cml0aW9uJwoKZGVmaW5lICJOdXRyaXRpb24gR29hbHMgTmVlZGluZyBVcGRhdGUiOgogICgiTnV0cml0aW9uIEdvYWxzIikgR29hbAogICAgd2hlcmUgRmlyc3QoR29hbC50YXJnZXQpLmR1ZS52YWx1ZSBzYW1lIGRheSBvciBiZWZvcmUgVG9kYXkoKQoKZGVmaW5lICJQaHlzaWNhbCBBY3Rpdml0eSBHb2FscyI6CiAgIkdvYWxzIiBHb2FsCiAgICB3aGVyZSBHb2FsLmNhdGVnb3J5LmNvZGluZy5jb2RlIGNvbnRhaW5zICdwaHlzaWNhbC1hY3Rpdml0eScKCmRlZmluZSAiUGh5c2ljYWwgQWN0aXZpdHkgR29hbHMgTmVlZGluZyBVcGRhdGUiOgogICgiUGh5c2ljYWwgQWN0aXZpdHkgR29hbHMiKSBHb2FsCiAgICB3aGVyZSBGaXJzdChHb2FsLnRhcmdldCkuZHVlLnZhbHVlIHNhbWUgZGF5IG9yIGJlZm9yZSBUb2RheSgpCgovKioqKiogQ09VTlNFTElORyBQUk9DRURVUkVTICoqKioqLwovLyBHZXQgYWxsIHByb2NlZHVyZXMgZm9yIHN1YmplY3Qgc2luY2UgRXBpYyBkb2VzIG5vdCBzdXBwb3J0IGdldHRpbmcgYnkgY29kZQpkZWZpbmUgIlByb2NlZHVyZXMiOgogIENvbW1vbi5RdWFsaWZpZWRQcm9jZWR1cmUoWyJQcm9jZWR1cmUiXSkKCmRlZmluZSAiTGFzdCBBbGNvaG9sIENvdW5zZWxpbmcgUHJvY2VkdXJlIjoKICAiTGFzdCBDb3Vuc2VsaW5nIFByb2NlZHVyZSIoIlByb2NlZHVyZXMiIFByb2NlZHVyZQogICAgd2hlcmUgUHJvY2VkdXJlLmNvZGUgaW4gIkFsY29ob2wgQnJpZWYgSW50ZXJ2ZW50aW9uIGFuZCBDb3Vuc2VsaW5nIikKCmRlZmluZSAiTGFzdCBTbW9raW5nIENvdW5zZWxpbmcgUHJvY2VkdXJlIjoKICAiTGFzdCBDb3Vuc2VsaW5nIFByb2NlZHVyZSIoIlByb2NlZHVyZXMiIFByb2NlZHVyZQogICAgd2hlcmUgUHJvY2VkdXJlLmNvZGUgaW4gIlRvYmFjY28gVXNlIENlc3NhdGlvbiBDb3Vuc2VsaW5nIikKCmRlZmluZSAiTGFzdCBCTUkgQ291bnNlbGluZyBQcm9jZWR1cmUiOgogICJMYXN0IENvdW5zZWxpbmcgUHJvY2VkdXJlIigiUHJvY2VkdXJlcyIgUHJvY2VkdXJlCiAgICB3aGVyZSBQcm9jZWR1cmUuY29kZSBpbiAiV2VpZ2h0IFJlZHVjdGlvbiBSZWNvbW1lbmRhdGlvbnMiIG9yIFByb2NlZHVyZS5jb2RlIGluICJCTUkgRm9sbG93IFVwIFBsYW4gU05PTUVEQ1QiKQoKZGVmaW5lICJMYXN0IE51dHJpdGlvbiBDb3Vuc2VsaW5nIFByb2NlZHVyZSI6CiAgIkxhc3QgQ291bnNlbGluZyBQcm9jZWR1cmUiKCJQcm9jZWR1cmVzIiBQcm9jZWR1cmUKICAgIHdoZXJlIFByb2NlZHVyZS5jb2RlIGluICJDb3Vuc2VsaW5nIGZvciBOdXRyaXRpb24iKQoKZGVmaW5lICJMYXN0IFBoeXNpY2FsIEFjdGl2aXR5IENvdW5zZWxpbmcgUHJvY2VkdXJlIjoKICAiTGFzdCBDb3Vuc2VsaW5nIFByb2NlZHVyZSIoIlByb2NlZHVyZXMiIFByb2NlZHVyZQogICAgd2hlcmUgUHJvY2VkdXJlLmNvZGUgaW4gIlBoeXNpY2FsIEFjdGl2aXR5IFJlY29tbWVuZGF0aW9ucyIpCgovKiBBY3Rpb24gQ29uZGl0aW9uYWxzIGRlZmluZWQgaW4gUGxhbiBEZWZpbml0aW9uICovCmRlZmluZSAiUGF0aWVudCBTbW9raW5nIEdvYWxzIEFjdGlvbiBQYXRoIjoKICAiRW50ZXIgV29ya2Zsb3ciIGFuZCAoIlBhdGllbnQgaXMgQ3VycmVudGx5IGEgU21va2VyIiBvciBleGlzdHMgIlRvYmFjY28gQ2Vzc2F0aW9uIEdvYWxzIikKCmRlZmluZSAiUGF0aWVudCBXZWlnaHQgTG9zcyBHb2FscyBBY3Rpb24gUGF0aCI6CiAgIkVudGVyIFdvcmtmbG93IiBhbmQgKCJQYXRpZW50IEJNSSBpcyBHcmVhdGVyIHRoYW4gMjUga2cvbTIiIG9yIGV4aXN0cyAiV2VpZ2h0IExvc3MgR29hbHMiKQoKZGVmaW5lICJQYXRpZW50IEFsY29ob2wgR29hbHMgQWN0aW9uIFBhdGgiOgogICJFbnRlciBXb3JrZmxvdyIgYW5kICgiUGF0aWVudCBpcyBhIEhlYXZ5IEFsY29ob2xpYyBEcmlua2VyIiBvciBleGlzdHMgIkFsY29ob2wgR29hbHMiKQoKZGVmaW5lICJQYXRpZW50IE51dHJpdGlvbiBHb2FscyBBY3Rpb24gUGF0aCI6CiAgIkVudGVyIFdvcmtmbG93IgoKZGVmaW5lICJQYXRpZW50IFBoeXNpY2FsIEFjdGl2aXR5IEdvYWxzIEFjdGlvbiBQYXRoIjoKICAiRW50ZXIgV29ya2Zsb3ciCgpkZWZpbmUgIlRFU1QgR2V0IEF2ZXJhZ2UgQWxsIEJQIExhc3QgMiBZZWFycyI6CiAgQ29tbW9uLiJBdmcgQlAiKENvbW1vbi4iQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIGZvciBMYXN0IDIgWWVhcnMiKQoKZGVmaW5lICJURVNUIEdldCBBdmVyYWdlIE1vc3QgUmVjZW50IEJQIFNldCI6CiAgQ29tbW9uLiJBdmcgQlAiKENvbW1vbi4iTW9zdCBSZWNlbnQgQlAgU2V0IikK"
  } ]
}