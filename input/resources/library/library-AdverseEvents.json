{
  "resourceType": "Library",
  "id": "library-AdverseEvents",
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/ohsu/htnu18ig/Library/AdverseEvents",
  "version": "0.1",
  "name": "AdverseEvents",
  "title": "Adverse Event Logic",
  "description": "Decision logic for identifying recent adverse reactions that may be related to hypertension medications",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBBZHZlcnNlRXZlbnRzIHZlcnNpb24gJzAuMScNCg0KdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScNCg0KaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjAuMScgY2FsbGVkIEZISVJIZWxwZXJzDQppbmNsdWRlIE9IU1VIVE5Db21tb24gdmVyc2lvbiAnMC4xJyBjYWxsZWQgQ29tbW9uDQoNCmNvZGVzeXN0ZW0gIkFkdmVyc2VFdmVudE91dGNvbWVDb2RlU3lzdGVtIjogJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWR2ZXJzZS1ldmVudC1vdXRjb21lJw0KY29kZSAib25nb2luZyI6ICdvbmdvaW5nJyBmcm9tICJBZHZlcnNlRXZlbnRPdXRjb21lQ29kZVN5c3RlbSIgZGlzcGxheSAnT25nb2luZycNCmNvZGUgInJlc29sdmVkIjogJ3Jlc29sdmVkJyBmcm9tICJBZHZlcnNlRXZlbnRPdXRjb21lQ29kZVN5c3RlbSIgZGlzcGxheSAnUmVzb2x2ZWQnDQoNCmNvbnRleHQgUGF0aWVudA0KDQpkZWZpbmUgZnVuY3Rpb24gIkFFIEV2ZW50IERpc3BsYXkiKGNvZGVzIExpc3Q8RkhJUi5Db2Rpbmc+KToNCiAgRmlyc3QoY29kZXMgQyB3aGVyZSBDLmNvZGUgIT0gJ2NvYWNoLWFkdmVyc2UtZXZlbnQnKS5kaXNwbGF5DQoNCmRlZmluZSBmdW5jdGlvbiAiQUUgU3VnZ2VzdGlvbiBTdHJpbmciKGFlcyBMaXN0PEZISVIuQWR2ZXJzZUV2ZW50Pik6DQogIGFlcyBBRSByZXR1cm4gJ3siaWQiOiAiJyArIEFFLmlkICsgJyIsICJ0eXBlIjogImFkdmVyc2UtZXZlbnQiLCAibGFiZWwiOiAiJyArICJBRSBFdmVudCBEaXNwbGF5IihBRS5ldmVudC5jb2RpbmcpICsgJyJ9Jw0KDQpkZWZpbmUgZnVuY3Rpb24gIkNvbnRhY3QgU3VnZ2VzdGlvbiBTdHJpbmciKGFlcyBMaXN0PEZISVIuQWR2ZXJzZUV2ZW50Pik6DQogIGFlcyBBRSByZXR1cm4gIkFFIEV2ZW50IERpc3BsYXkiKEFFLmV2ZW50LmNvZGluZykNCg0KZGVmaW5lICJVbnRyZWF0ZWQgUmVjb21tZW5kYXRpb24iOg0KICAnQ29uc2lkZXIgYWRqdXN0aW5nIHRyZWF0bWVudC4nDQoNCmRlZmluZSAiVW50cmVhdGVkIFJhdGlvbmFsZSBDb21iaW5lZCBEYXRhIjoNCiAgIlVudHJlYXRlZCBSYXRpb25hbGUiICsgJ3wnICsgIlVudHJlYXRlZCBTdWdnZXN0aW9ucyIgKyAnfCcgKyAiU2VsZWN0aW9uIEJlaGF2aW9yIiArICd8JyArICJMaW5rcyINCg0KZGVmaW5lICJVbnRyZWF0ZWQgUmF0aW9uYWxlIjoNCiAgJ1lvdSByZWNlbnRseSBoYWQgYSBjb25kaXRpb24gcmVjb3JkZWQgdGhhdCA8c3Ryb25nPm1heSBiZSBhbiBhZHZlcnNlIGV2ZW50IGZyb20gaGlnaCBibG9vZCBwcmVzc3VyZSB0cmVhdG1lbnQ8L3N0cm9uZz4uIENvbnRhY3RpbmcgeW91ciBjYXJlIHRlYW0gd2lsbCBoZWxwIHRoZW0gcmVzb2x2ZSBpdC4nDQoNCmRlZmluZSAiVW50cmVhdGVkIFN1Z2dlc3Rpb25zIjoNCiAgJ1t7ICJpZCI6ICJjb250YWN0LXN1Z2dlc3Rpb24iLCAibGFiZWwiOiAiQ29udGFjdCBjYXJlIHRlYW0iLCAidHlwZSI6ICJzdWdnZXN0aW9uLWxpbmsiLCAiYWN0aW9ucyI6IFt7ImxhYmVsIjoiQ29udGFjdCB5b3VyIGNhcmUgdGVhbSBhYm91dCB5b3VyIGNvbmRpdGlvbihzKTogJyArIENvbWJpbmUoIkNvbnRhY3QgU3VnZ2VzdGlvbiBTdHJpbmciKCJVbnRyZWF0ZWQgQWR2ZXJzZSBFdmVudHMiKSwgJywgJykgKyAnIiAsICJ1cmwiOiIvY29udGFjdD90b2tlbj11bnRyZWF0ZWQtYWR2ZXJzZS1ldmVudCJ9XSB9LCcgKw0KICBDb21iaW5lKCJBRSBTdWdnZXN0aW9uIFN0cmluZyIoIlVudHJlYXRlZCBBZHZlcnNlIEV2ZW50cyIpLCAnLCcpICsNCiAgJ10nDQoNCmRlZmluZSAiVW50cmVhdGVkIEluZGljYXRvciBTdGF0dXMiOg0KICAnY3JpdGljYWwnDQoNCmRlZmluZSAiVHJlYXRlZCBJbmRpY2F0b3IgU3RhdHVzIjoNCiAgJ3dhcm5pbmcnDQoNCmRlZmluZSAiU2VsZWN0aW9uIEJlaGF2aW9yIjoNCiAgJ2F0LW1vc3Qtb25lJw0KDQpkZWZpbmUgIkxpbmtzIjoNCiAgJycNCg0KZGVmaW5lICJUcmVhdGVkIFJlY29tbWVuZGF0aW9uIjoNCiAgJ1NlZSBjYXJlIHRlYW0gYW5kIGRpc2N1c3MgdHJlYXRtZW50IGZvciBoeXBlcnRlbnNpb24gaWYgZXZlbnQgcmVjdXJzLicNCg0KZGVmaW5lICJUcmVhdGVkIFJhdGlvbmFsZSBDb21iaW5lZCBEYXRhIjoNCiAgIlRyZWF0ZWQgUmF0aW9uYWxlIiArICd8JyArICJUcmVhdGVkIFN1Z2dlc3Rpb25zIiArICd8JyArICJTZWxlY3Rpb24gQmVoYXZpb3IiICsgJ3wnICsgIkxpbmtzIg0KDQpkZWZpbmUgIlRyZWF0ZWQgUmF0aW9uYWxlIjoNCiAgJ1lvdSByZWNlbnRseSBoYWQgYSBjb25kaXRpb24gcmVjb3JkZWQgdGhhdCBtYXkgYmUgYW4gYWR2ZXJzZSBldmVudCBmcm9tIGhpZ2ggYmxvb2QgcHJlc3N1cmUgdHJlYXRtZW50OyB5b3Ugbm90ZWQgdG8gdXMgdGhhdCB0aGlzIHdhcyBhbHJlYWR5IHRyZWF0ZWQsIGJ1dCA8c3Ryb25nPmlmIGl0IHJlY3VycyBvciBkb2VzblwndCBnZXQgYmV0dGVyLCBwbGVhc2UgY29udGFjdCB5b3VyIGNhcmUgdGVhbTwvc3Ryb25nPi4nDQoNCmRlZmluZSAiVHJlYXRlZCBTdWdnZXN0aW9ucyI6DQogICdbIHsgImlkIjogImNvbnRhY3Qtc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJDb250YWN0IGNhcmUgdGVhbSIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJDb250YWN0IHlvdXIgY2FyZSB0ZWFtIGFib3V0IHlvdXIgY29uZGl0aW9uKHMpOiAnICsgQ29tYmluZSgiQ29udGFjdCBTdWdnZXN0aW9uIFN0cmluZyIoIlRyZWF0ZWQgQWR2ZXJzZSBFdmVudHMiKSwgJywgJykgKyAnIiAsICJ1cmwiOiIvY29udGFjdD90b2tlbj10cmVhdGVkLWFkdmVyc2UtZXZlbnQifV0gfSBdJw0KDQovLyBPbmx5IGdldCB0aGUgYWR2ZXJzZSBldmVudHMgY29kZWQgZnJvbSB0aGUgYXBwbGljYXRpb24NCmRlZmluZSAiQWR2ZXJzZSBFdmVudHMiOg0KICBbQWR2ZXJzZUV2ZW50XSBBRSB3aGVyZSBBRS5ldmVudC5jb2RpbmcuY29kZSBjb250YWlucyAnY29hY2gtYWR2ZXJzZS1ldmVudCcNCg0KZGVmaW5lICJUcmVhdGVkIEFkdmVyc2UgRXZlbnRzIjoNCiAgIkFkdmVyc2UgRXZlbnRzIiBBRSB3aGVyZSBBRS5vdXRjb21lIH4gInJlc29sdmVkIg0KDQpkZWZpbmUgIlVudHJlYXRlZCBBZHZlcnNlIEV2ZW50cyI6DQogICJBZHZlcnNlIEV2ZW50cyIgQUUgd2hlcmUgQUUub3V0Y29tZSB+ICJvbmdvaW5nIg0KDQpkZWZpbmUgIlVudHJlYXRlZCBBZHZlcnNlIEV2ZW50cyBBY3Rpb24gUGF0aCI6DQogIGV4aXN0cyAiVW50cmVhdGVkIEFkdmVyc2UgRXZlbnRzIg0KDQpkZWZpbmUgIlRyZWF0ZWQgQWR2ZXJzZSBFdmVudHMgQWN0aW9uIFBhdGgiOg0KICBleGlzdHMgIlRyZWF0ZWQgQWR2ZXJzZSBFdmVudHMiDQo="
  } ]
}