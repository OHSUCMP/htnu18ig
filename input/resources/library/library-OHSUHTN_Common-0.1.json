{
  "resourceType": "Library",
  "id": "library-OHSUHTN-Common-0.1",
  "meta": {
    "versionId": "1",
    "lastUpdated": "2020-03-24T11:17:00.000-08:00"
  },
  "url": "https://github.com/OHSUCMP/htnu18ig/blob/master/input/resources/library/library-OHSUHTN_Common-0.1.json",
  "version": "0.0.1",
  "name": "OHSUHTN_Common",
  "title": "OHSU Common Hypertension Library",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [
      {
        "system": "http://hl7.org/fhir/library-type",
        "code": "logic-library",
        "display": "Logic Library"
      }
    ]
  },
  "date": "2020-03-24T00:00:00-08:00",
  "publisher": "Oregon Health and Science University",
  "description": "This library contains common OHSU Hypertension definitions and functions",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US",
          "display": "United States of America"
        }
      ]
    }
  ],
  "topic": [
    {
      "text": "Hypertension Management"
    }
  ],
  "contributor": [
    {
      "type": "author",
      "name": "Matthew Storer"
    }
  ],
  "copyright": "Â© OHSU 2020+.",
  "relatedArtifact": [
    {
      "type": "depends-on",
      "resource": {
        "reference": "Library/library-FHIRHelpers-4.0.1"
      }
    },
    {
      "type": "depends-on",
      "url": "http://hl7.org/fhir|4.0.1"
    }
  ],
  "content": [
    {
      "contentType": "text/cql",
      "data": "bGlicmFyeSBPSFNVSFROX0NvbW1vbiB2ZXJzaW9uICcwLjEnCgp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJwoKaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjAuMScgY2FsbGVkIEZISVJIZWxwZXJzCgpjb2Rlc3lzdGVtICJMT0lOQyI6ICdodHRwOi8vbG9pbmMub3JnJwoKdmFsdWVzZXQgIkJsb29kIFByZXNzdXJlIE1lYXN1cmVkIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjYwMC4yMDEyJwoKY29kZSAiQmxvb2QgUHJlc3N1cmUiOiAnNTUyODQtNCcgZnJvbSAiTE9JTkMiIGRpc3BsYXkgJ2Jsb29kIHByZXNzdXJlJwpjb2RlICJTeXN0b2xpYyBCbG9vZCBQcmVzc3VyZSI6ICc4NDgwLTYnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdTeXN0b2xpYyBibG9vZCBwcmVzc3VyZScKY29kZSAiRGlhc3RvbGljIEJsb29kIFByZXNzdXJlIjogJzg0NjItNCcgZnJvbSAiTE9JTkMiIGRpc3BsYXkgJ0RpYXN0b2xpYyBibG9vZCBwcmVzc3VyZScKCnBhcmFtZXRlciBNZWFzdXJlbWVudFBlcmlvZCBkZWZhdWx0IEludGVydmFsWwogIEAyMDE5LTAxLTAxVDAwOjAwOjAwLjAsCiAgQDIwMTktMDYtMzBUMjM6NTk6NTkuMAopCgpjb250ZXh0IFBhdGllbnQKCmRlZmluZSAiQWR1bHQgYXQgc3RhcnQgb2YgTWVhc3VyZW1lbnQgUGVyaW9kIjoKICBBZ2VJblllYXJzQXQoc3RhcnQgb2YgTWVhc3VyZW1lbnRQZXJpb2QpID49IDE4CgovLyBCbG9vZCBQcmVzc3VyZSBTdHVmZiAvLy8vLy8vLy8vLy8vLy8vLwoKZGVmaW5lICJOb3JtYWwgQlAiOgogICJBdmcgQlAiIE8KICAgIHdoZXJlIE8uc3lzdG9saWMudmFsdWUgPCAxMjAKICAgIGFuZCBPLmRpYXN0b2xpYy52YWx1ZSA8IDgwCgpkZWZpbmUgIkVsZXZhdGVkIEJQIjoKICAiQXZnIEJQIiBPCiAgICB3aGVyZSBPLnN5c3RvbGljLnZhbHVlID49IDEyMCBhbmQgTy5zeXN0b2xpYy52YWx1ZSA8IDEzMAogICAgYW5kIE8uZGlhc3RvbGljLnZhbHVlIDwgODAKCmRlZmluZSAiSFROIFN0YWdlIDEgQlAiOgogICJBdmcgQlAiIE8KICAgIHdoZXJlIChPLnN5c3RvbGljLnZhbHVlID49IDEzMCBhbmQgTy5zeXN0b2xpYy52YWx1ZSA8IDE0MCkKICAgIG9yIChPLmRpYXN0b2xpYy52YWx1ZSA+PSA4MCBhbmQgTy5kaWFzdG9saWMudmFsdWUgPCA5MCkKCmRlZmluZSAiSFROIFN0YWdlIDIgQlAiOgogICJBdmcgQlAiIE8KICAgIHdoZXJlIE8uc3lzdG9saWMudmFsdWUgPj0gMTQwCiAgICBvciBPLmRpYXN0b2xpYy52YWx1ZSA+PSA5MAoKZGVmaW5lICJIVE4gQ3Jpc2lzIEJQIjoKICAiQXZnIEJQIiBPCiAgICB3aGVyZSBPLnN5c3RvbGljLnZhbHVlID4gMTgwCiAgICBvciBPLmRpYXN0b2xpYy52YWx1ZSA+IDEyMAoKZGVmaW5lICJTeXN0b2xpYyBCUCBWYXJpYWJpbGl0eSBTdHJpbmciOgogICJTeXN0b2xpYyBCUCBWYXJpYWJpbGl0eSIgUwogICAgcmV0dXJuIFRvU3RyaW5nKFJvdW5kKFMudmFsdWUsIDEpKSArICcgJyArIFMudW5pdAoKZGVmaW5lICJTeXN0b2xpYyBCUCBWYXJpYWJpbGl0eSI6CiAgU3RkRGV2KCJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIE8KICAgIHJldHVybiBhbGwgRkhJUkhlbHBlcnMuVG9RdWFudGl0eShzaW5nbGV0b24gZnJvbSAoTy5jb21wb25lbnQgQyB3aGVyZSBGSElSSGVscGVycy5Ub0NvbmNlcHQoQy5jb2RlKSB+ICJTeXN0b2xpYyBCbG9vZCBQcmVzc3VyZSIpLnZhbHVlKQogICkKCi8vIFNjcmVlbmluZwpkZWZpbmUgIkF2ZyBMYXN0IDQgQlAgU3RyaW5nIjoKICAiQXZnIExhc3QgNCBCUCIgTwogICAgcmV0dXJuIFRvU3RyaW5nKFJvdW5kKE8uc3lzdG9saWMudmFsdWUpKSArICcvJyArIFRvU3RyaW5nKFJvdW5kKE8uZGlhc3RvbGljLnZhbHVlKSkgKyAnICcgKyBPLnN5c3RvbGljLnVuaXQKCi8vIFNjcmVlbmluZwpkZWZpbmUgIkF2ZyBMYXN0IDQgQlAiOgogIFR1cGxlIHsgc3lzdG9saWM6ICJBdmcgTGFzdCA0IFN5c3RvbGljIEJQIiwgZGlhc3RvbGljOiAiQXZnIExhc3QgNCBEaWFzdG9saWMgQlAiIH0KCi8vIFNjcmVlbmluZwpkZWZpbmUgIkF2ZyBMYXN0IDQgU3lzdG9saWMgQlAiOgogIEF2ZygiTGFzdCA0IEJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyIgTwogICAgcmV0dXJuIGFsbCBGSElSSGVscGVycy5Ub1F1YW50aXR5KHNpbmdsZXRvbiBmcm9tIChPLmNvbXBvbmVudCBDIHdoZXJlIEZISVJIZWxwZXJzLlRvQ29uY2VwdChDLmNvZGUpIH4gIlN5c3RvbGljIEJsb29kIFByZXNzdXJlIikudmFsdWUpCiAgKQoKLy8gU2NyZWVuaW5nCmRlZmluZSAiQXZnIExhc3QgNCBEaWFzdG9saWMgQlAiOgogIEF2ZygiTGFzdCA0IEJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyIgTwogICAgcmV0dXJuIGFsbCBGSElSSGVscGVycy5Ub1F1YW50aXR5KHNpbmdsZXRvbiBmcm9tIChPLmNvbXBvbmVudCBDIHdoZXJlIEZISVJIZWxwZXJzLlRvQ29uY2VwdChDLmNvZGUpIH4gIkRpYXN0b2xpYyBCbG9vZCBQcmVzc3VyZSIpLnZhbHVlKQogICkKCi8vIFNjcmVlbmluZwpkZWZpbmUgIkxhc3QgNCBCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiOgogIFRha2UoKCJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIE8KICAgIHNvcnQgYnkgaXNzdWVkIGRlc2MKICApLCA0KQoKZGVmaW5lICJBdmcgQlAgU3RyaW5nIjoKICAiQXZnIEJQIiBPCiAgICByZXR1cm4gVG9TdHJpbmcoUm91bmQoTy5zeXN0b2xpYy52YWx1ZSkpICsgJy8nICsgVG9TdHJpbmcoUm91bmQoTy5kaWFzdG9saWMudmFsdWUpKSArICcgJyArIE8uc3lzdG9saWMudW5pdAoKZGVmaW5lICJBdmcgQlAiOgogIFR1cGxlIHsgc3lzdG9saWM6ICJBdmcgU3lzdG9saWMgQlAiLCBkaWFzdG9saWM6ICJBdmcgRGlhc3RvbGljIEJQIiB9CgpkZWZpbmUgIkF2ZyBTeXN0b2xpYyBCUCI6CiAgQXZnKCJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIE8KICAgIHJldHVybiBhbGwgRkhJUkhlbHBlcnMuVG9RdWFudGl0eShzaW5nbGV0b24gZnJvbSAoTy5jb21wb25lbnQgQyB3aGVyZSBGSElSSGVscGVycy5Ub0NvbmNlcHQoQy5jb2RlKSB+ICJTeXN0b2xpYyBCbG9vZCBQcmVzc3VyZSIpLnZhbHVlKQogICkKCmRlZmluZSAiQXZnIERpYXN0b2xpYyBCUCI6CiAgQXZnKCJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIE8KICAgIHJldHVybiBhbGwgRkhJUkhlbHBlcnMuVG9RdWFudGl0eShzaW5nbGV0b24gZnJvbSAoTy5jb21wb25lbnQgQyB3aGVyZSBGSElSSGVscGVycy5Ub0NvbmNlcHQoQy5jb2RlKSB+ICJEaWFzdG9saWMgQmxvb2QgUHJlc3N1cmUiKS52YWx1ZSkKICApCgpkZWZpbmUgIkJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyI6CiAgIFtPYnNlcnZhdGlvbjogIkJsb29kIFByZXNzdXJlIl0gTwogICB3aGVyZSAiTm9ybWFsaXplIEludGVydmFsIihPLmVmZmVjdGl2ZSkgZHVyaW5nIE1lYXN1cmVtZW50UGVyaW9kCiAgICAgIGFuZCBPLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJyB9CgoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCgpkZWZpbmUgZnVuY3Rpb24gIk5vcm1hbGl6ZSBJbnRlcnZhbCIoY2hvaWNlIENob2ljZTxGSElSLmRhdGVUaW1lLCBGSElSLlBlcmlvZCwgRkhJUi5UaW1pbmcsIEZISVIuaW5zdGFudCwgRkhJUi5zdHJpbmcsIEZISVIuQWdlLCBGSElSLlJhbmdlPik6CiAgY2FzZQoJICB3aGVuIGNob2ljZSBpcyBGSElSLmRhdGVUaW1lIHRoZW4KICAgIAlJbnRlcnZhbFtGSElSSGVscGVycy5Ub0RhdGVUaW1lKGNob2ljZSBhcyBGSElSLmRhdGVUaW1lKSwgRkhJUkhlbHBlcnMuVG9EYXRlVGltZShjaG9pY2UgYXMgRkhJUi5kYXRlVGltZSldCgkJd2hlbiBjaG9pY2UgaXMgRkhJUi5QZXJpb2QgdGhlbgogIAkJRkhJUkhlbHBlcnMuVG9JbnRlcnZhbChjaG9pY2UgYXMgRkhJUi5QZXJpb2QpCgkJd2hlbiBjaG9pY2UgaXMgRkhJUi5pbnN0YW50IHRoZW4KCQkJSW50ZXJ2YWxbRkhJUkhlbHBlcnMuVG9EYXRlVGltZShjaG9pY2UgYXMgRkhJUi5pbnN0YW50KSwgRkhJUkhlbHBlcnMuVG9EYXRlVGltZShjaG9pY2UgYXMgRkhJUi5pbnN0YW50KV0KCQl3aGVuIGNob2ljZSBpcyBGSElSLkFnZSB0aGVuCgkJICBJbnRlcnZhbFtGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpICsgRkhJUkhlbHBlcnMuVG9RdWFudGl0eShjaG9pY2UgYXMgRkhJUi5BZ2UpLAoJCQkgIEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSkgKyBGSElSSGVscGVycy5Ub1F1YW50aXR5KGNob2ljZSBhcyBGSElSLkFnZSkgKyAxIHllYXIpCgkJd2hlbiBjaG9pY2UgaXMgRkhJUi5SYW5nZSB0aGVuCgkJICBJbnRlcnZhbFtGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpICsgRkhJUkhlbHBlcnMuVG9RdWFudGl0eSgoY2hvaWNlIGFzIEZISVIuUmFuZ2UpLmxvdyksCgkJCSAgRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSArIEZISVJIZWxwZXJzLlRvUXVhbnRpdHkoKGNob2ljZSBhcyBGSElSLlJhbmdlKS5oaWdoKSArIDEgeWVhcikKCQl3aGVuIGNob2ljZSBpcyBGSElSLlRpbWluZyB0aGVuCgkJICBNZXNzYWdlKG51bGwgYXMgSW50ZXJ2YWw8RGF0ZVRpbWU+LCB0cnVlLCAnMScsICdFcnJvcicsICdDYW5ub3QgY29tcHV0ZSBhIHNpbmdsZSBpbnRlcnZhbCBmcm9tIGEgVGltaW5nIHR5cGUnKQogICAgd2hlbiBjaG9pY2UgaXMgRkhJUi5zdHJpbmcgdGhlbgogICAgICBNZXNzYWdlKG51bGwgYXMgSW50ZXJ2YWw8RGF0ZVRpbWU+LCB0cnVlLCAnMScsICdFcnJvcicsICdDYW5ub3QgY29tcHV0ZSBhbiBpbnRlcnZhbCBmcm9tIGEgU3RyaW5nIHZhbHVlJykKCQllbHNlCgkJCW51bGwgYXMgSW50ZXJ2YWw8RGF0ZVRpbWU+CgllbmQK"
    }
  ]
}
