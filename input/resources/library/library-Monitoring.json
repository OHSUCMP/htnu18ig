{
  "resourceType": "Library",
  "id": "library-Monitoring",
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/ohsu/htnu18ig/Library/Monitoring",
  "version": "0.1",
  "name": "Monitoring",
  "title": "Monitoring Logic",
  "description": "Decision logic for monitoring progress in a patient previously diagnosed with hypertension",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBNb25pdG9yaW5nIHZlcnNpb24gJzAuMScKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJyBjYWxsZWQgRkhJUkhlbHBlcnMKaW5jbHVkZSBPSFNVSFROQ29tbW9uIHZlcnNpb24gJzAuMScgY2FsbGVkIENvbW1vbgoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIkluZm8iOgogICdpbmZvJwoKZGVmaW5lICJXYXJuaW5nIjoKICAnd2FybmluZycKCmRlZmluZSAiQ3JpdGljYWwiOgogICdjcml0aWNhbCcKCmRlZmluZSAiRXJyb3JzIjoKICBudWxsCgpkZWZpbmUgIlBhdGllbnQgTmFtZSI6CiAgRmlyc3QoUGF0aWVudC5uYW1lLmdpdmVuKQogICArICcgJyArCiAgRmlyc3QoUGF0aWVudC5uYW1lLmZhbWlseSkKCi8qIFJlY29tbWVuZGF0aW9uIENyaXRlcmlhIC0gTW9uaXRvcmluZyBIeXBlcnRlbnNpb24gICovCmRlZmluZSAiTWVldHMgSW5jbHVzaW9uIENyaXRlcmlhIjoKIGV4aXN0cyBDb21tb24uIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWV4aXN0aW5nIEh5cGVydGVuc2lvbiIKCmRlZmluZSAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIjoKICBDb21tb24uIlBhdGllbnQgVW5kZXIgQWdlIDE4IgogICAgb3IgQ29tbW9uLiJQYXRpZW50IE92ZXIgQWdlIDgwIgogICAgb3IgZXhpc3RzIENvbW1vbi4iQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiCiAgICBvciBleGlzdHMgQ29tbW9uLiJDb25kaXRpb24gSW5kaWNhdGluZyBQcmVnbmFuY3kiCiAgICBvciBDb21tb24uIkhUTiBDcmlzaXMiCgpkZWZpbmUgIkluIFBvcHVsYXRpb24iOgogICJNZWV0cyBJbmNsdXNpb24gQ3JpdGVyaWEiCiAgYW5kIG5vdCAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIgoKZGVmaW5lICJSZWNvbW1lbmRhdGlvbiI6CiAgaWYgbm90ICJJbiBQb3B1bGF0aW9uIiB0aGVuICcnCiAgLy8gMTIKICBlbHNlIGlmIG5vdCBDb21tb24uIlBhdGllbnQgaGFzIGEgQlAgR29hbCIgdGhlbiAnRGlzY3VzcyB0YXJnZXQgYmxvb2QgcHJlc3N1cmUgYW5kIHNldCBhIGJsb29kIHByZXNzdXJlIGdvYWwnCiAgLy8gMTMKICBlbHNlIGlmIG5vdCBDb21tb24uIkhhcyBCUCBTZXQiIHRoZW4gJ0NvbnNpZGVyIG9idGFpbmluZyBhZGRpdGlvbmFsIGJsb29kIHByZXNzdXJlIG1lYXN1cmVtZW50cy4nCiAgLy8gMTQuYQogIGVsc2UgaWYgQ29tbW9uLiJQYXRpZW50IEhhcyBQb3RlbnRpYWwgSFROIFN0YWdlIDIgQlAiIHRoZW4gJ0Jsb29kIHByZXNzdXJlIGdvYWwgbm90IHJlYWNoZWQuIERpc2N1c3MgdHJlYXRtZW50IG9wdGlvbnMuJwogIC8vIDE0LmIKICBlbHNlIGlmIENvbW1vbi4iQWJvdmUgR29hbCBBdmVyYWdlIE1vc3QgUmVjZW50IiB0aGVuICdCbG9vZCBwcmVzc3VyZSBnb2FsIG5vdCByZWFjaGVkLiBEaXNjdXNzIHRyZWF0bWVudCBvcHRpb25zLicKICAvLyAxNgogIGVsc2UgaWYgQ29tbW9uLiJCUCBIaWdobHkgVmFyaWFibGUiIHRoZW4gJ1VzZSBhbWJ1bGF0b3J5IGJsb29kIHByZXNzdXJlIG1vbml0b3JpbmcgdG8gYWRkcmVzcyBibG9vZCBwcmVzc3VyZSB2YXJpYWJpbGl0eS4nCiAgZWxzZSAnUGF0aWVudCBhdCBnb2FsJwoKZGVmaW5lICJSYXRpb25hbGUgQ29tYmluZWQgRGF0YSI6CiAgIlJhdGlvbmFsZSIgKyAnfCcgKyAiU3VnZ2VzdGlvbnMiICsgJ3wnICsgIlNlbGVjdGlvbiBCZWhhdmlvciIgKyAnfCcgKyAiTGlua3MiCgpkZWZpbmUgIlJhdGlvbmFsZSI6CiAgaWYgbm90ICJJbiBQb3B1bGF0aW9uIiB0aGVuICcnCiAgZWxzZSBpZiBub3QgQ29tbW9uLiJQYXRpZW50IGhhcyBhIEJQIEdvYWwiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSByZWNlbnRseSByZWNlaXZlZCBhIGh5cGVydGVuc2lvbiAoaGlnaCBibG9vZCBwcmVzc3VyZSkgZGlhZ25vc2lzLiAgU2V0dGluZyBnb2FscyBmb3IgbG93ZXJpbmcgeW91ciBibG9vZCBwcmVzc3VyZSBoYXMgYmVlbiBwcm92ZW4gdG8gaGVscCBvdmVyYWxsIGhlYWx0aCBhbmQgcmVkdWNlIHlvdXIgY2hhbmNlIG9mIHN0cm9rZSBvciBvdGhlciBjb25kaXRpb25zLnt7L3BhdGllbnR9fQogICAge3sjY2FyZVRlYW19fU5vIEJQIEdvYWwgc2V0OiBTZXR0aW5nIGEgYmxvb2QgcHJlc3N1cmUgZ29hbCBjYW4gaGVscCBlbmdhZ2UgcGF0aWVudHMgYW5kIGltcHJvdmUgb3V0Y29tZXMuIEZvciBtb3N0IHBhdGllbnRzLCBjaG9vc2luZyBhIHRhcmdldCBiZXR3ZWVuIDwxMjAtMTQwLzgwLTkwIGlzIHJlY29tbWVuZGVkOyBsb3dlciB0YXJnZXRzIG1heSBiZSBmb3IgQVNDVkQsIEFTQ1ZEIHJpc2sgPjEwJSwgbXVsdGltb3JiaWRpdHkgKENLRCBhbmQgZGlhYmV0ZXMpLCBvciBwcmVmZXJlbmNlOyBoaWdoZXIgdGFyZ2V0cyBtYXkgYmUgZm9yIGFnZSwgYWR2ZXJzZSBldmVudHMsIG9yIGZyYWlsdHkue3svY2FyZVRlYW19fScKICBlbHNlIGlmIG5vdCBDb21tb24uIkhhcyBCUCBTZXQiIHRoZW4gJ3t7I3BhdGllbnR9fVNpbmNlIHdlIGRvIG5vdCBoYXZlIGVub3VnaCBibG9vZCBwcmVzc3VyZSBtZWFzdXJlbWVudHMgdG8gb2J0YWluIGEgZnVsbCBwaWN0dXJlIG9mIHlvdXIgaGVhbHRoLCB3ZSByZWNvbW1lbmQgeW91IHRha2UgYSBmdWxsIHNldCBvZiBtZWFzdXJlbWVudHMuIFdlIGNvbnNpZGVyIGEgZnVsbCBzZXQgdG8gYmUgbW9yZSB0aGFuIDQgaW4tb2ZmaWNlIG1lYXN1cmVtZW50cywgNiBob21lIG1lYXN1cmVtZW50cywgb3IgMjQgaG91cnMgb2YgYW1idWxhdG9yeSBtb25pdG9yaW5nLnt7L3BhdGllbnR9fQogICAge3sjY2FyZVRlYW19fVBhdGllbnQgZG9lcyBub3QgaGF2ZSBlbm91Z2ggYmxvb2QgcHJlc3N1cmVzIHRvIG1ha2UgYSBzdHJvbmcgZGV0ZXJtaW5hdGlvbiBvZiBjb250cm9sIG9yIGRpYWdub3Npcy4gV2UgY29uc2lkZXIgYSBmdWxsIHNldCB0byBiZSBtb3JlIHRoYW4gNCBpbi1vZmZpY2UgbWVhc3VyZW1lbnRzLCA2IGhvbWUgbWVhc3VyZW1lbnRzLCBvciAyNCBob3VycyBvZiBhbWJ1bGF0b3J5IG1vbml0b3Jpbmcue3svY2FyZVRlYW19fScKICBlbHNlIGlmIENvbW1vbi4iUGF0aWVudCBIYXMgUG90ZW50aWFsIEhUTiBTdGFnZSAyIEJQIiB0aGVuICd7eyNwYXRpZW50fX1Zb3UgYXJlIG5vdCBjdXJyZW50bHkgYXQgeW91ciBibG9vZCBwcmVzc3VyZSBnb2FsOyBvbmUgb3IgbW9yZSBvcHRpb25zIHByZXNlbnRlZCBoZXJlIGNhbiBwcm92aWRlIG1vcmUgc3BlY2lmaWMgZ3VpZGFuY2UgYWJvdXQgd2F5cyB0byBsb3dlciB5b3VyIGJsb29kIHByZXNzdXJlLiBIb3dldmVyLCB5b3UgY2FuIGFsd2F5cyBhc2sgcXVlc3Rpb25zIG9mIHlvdXIgY2FyZSB0ZWFtIGlmIHlvdSBuZWVkIGd1aWRhbmNlIG9yIHdhbnQgdG8gc2hhcmUgeW91ciBwcm9ncmVzcyBzbyBmYXIue3svcGF0aWVudH19CiAgICB7eyNjYXJlVGVhbX19QlAgbm90IGF0IGdvYWwuIENvbnNpZGVyIGluaXRpYXRpbmcgYW50aWh5cGVydGVuc2l2ZSBkcnVnIHRoZXJhcHkgd2l0aCBhIHNpbmdsZSBhbnRpaHlwZXJ0ZW5zaXZlIGRydWcgd2l0aCBkb3NhZ2UgdGl0cmF0aW9uIGFuZCBzZXF1ZW50aWFsIGFkZGl0aW9uIG9mIG90aGVyIGFnZW50cyB0byBhY2hpZXZlIHRoZSB0YXJnZXQgQlAue3svY2FyZVRlYW19fScKICBlbHNlIGlmIENvbW1vbi4iQWJvdmUgR29hbCBBdmVyYWdlIE1vc3QgUmVjZW50IiB0aGVuICd7eyNwYXRpZW50fX1Zb3VyIGJsb29kIHByZXNzdXJlcyBhcmUgYWJvdmUgeW91ciBnb2FsIGFuZCBtYXkgYmUgbWFuYWdlZCB2aWEgbGlmZXN0eWxlIGNoYW5nZSBlZmZvcnRzLCBzdWNoIGFzIGRpZXRhcnkgY2hhbmdlIG9yIGluY3JlYXNlZCBwaHlzaWNhbCBhY3Rpdml0eS4gSWYgdGhlc2UgZWZmb3J0cyBkbyBub3QgaW1wcm92ZSBibG9vZCBwcmVzc3VyZSBjb250cm9sLCBhbnRpaHlwZXJ0ZW5zaXZlIG1lZGljYXRpb24gY2FuIGJlIGNvbnNpZGVyZWQgYXQgYSBmdXR1cmUgdGltZS57ey9wYXRpZW50fX0KICAgIHt7I2NhcmVUZWFtfX1CUCBub3QgYXQgZ29hbC4gQ29uc2lkZXIgaW5pdGlhdGluZyBhbnRpaHlwZXJ0ZW5zaXZlIGRydWcgdGhlcmFweSB3aXRoIGEgc2luZ2xlIGFudGloeXBlcnRlbnNpdmUgZHJ1ZyB3aXRoIGRvc2FnZSB0aXRyYXRpb24gYW5kIHNlcXVlbnRpYWwgYWRkaXRpb24gb2Ygb3RoZXIgYWdlbnRzIHRvIGFjaGlldmUgdGhlIHRhcmdldCBCUC57ey9jYXJlVGVhbX19JwogIGVsc2UgaWYgQ29tbW9uLiJCUCBIaWdobHkgVmFyaWFibGUiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdXIgcmVjZW50IGJsb29kIHByZXNzdXJlIGlzIGFib3ZlIHlvdXIgZ29hbCBhbmQgYXBwZWFycyB0byBiZSBoaWdobHkgdmFyaWFibGUsIHdoaWNoIGNhbiBpbmRpY2F0ZSBhIGhlYWx0aCByaXNrLiBQbGVhc2UgcmVhY2ggb3V0IHRvIHlvdXIgY2FyZSB0ZWFtIGFib3V0IG9yZGVyaW5nIGFtYnVsYXRvcnkgYmxvb2QgcHJlc3N1cmUgbW9uaXRvcmluZyBvciBvYnRhaW5pbmcgYmV0dGVyIG1lYXN1cmVtZW50cyBmcm9tIGhvbWUgYmxvb2QgcHJlc3N1cmUgbW9uaXRvcmluZy57ey9wYXRpZW50fX0KICAgIHt7I2NhcmVUZWFtfX1JbiBhZHVsdHMgd2l0aCBzdXNwZWN0ZWQgYmxvb2QgcHJlc3N1cmUgdmFyaWFiaWxpdHksIHVzZSBBbWJ1bGF0b3J5IEJsb29kIFByZXNzdXJlIE1vbml0b3JpbmcgdG8gYmV0dGVyIHVuZGVyc3RhbmQgcmlzay4gSWYgQUJQTSBpcyBub3QgYXZhaWxhYmxlLCBkaXNjdXNzIG1vcmUgYmV0dGVyIHByb3RvY29scyBmb3IgaG9tZSBibG9vZCBwcmVzc3VyZSBtb25pdG9yaW5nLnt7L2NhcmVUZWFtfX0nCiAgZWxzZSAnTm8gRnVydGhlciBBY3Rpb24gUmVxdWlyZWQnCgpkZWZpbmUgIkluZGljYXRvciBTdGF0dXMiOgogIGlmIG5vdCAiSW4gUG9wdWxhdGlvbiIgdGhlbiAiSW5mbyIKICBlbHNlIGlmIG5vdCBDb21tb24uIlBhdGllbnQgaGFzIGEgQlAgR29hbCIgdGhlbiAiSW5mbyIKICBlbHNlIGlmIG5vdCBDb21tb24uIkhhcyBCUCBTZXQiIHRoZW4gIkluZm8iCiAgZWxzZSBpZiBDb21tb24uIlBhdGllbnQgSGFzIFBvdGVudGlhbCBIVE4gU3RhZ2UgMiBCUCIgdGhlbiAiV2FybmluZyIKICBlbHNlIGlmIENvbW1vbi4iQWJvdmUgR29hbCBBdmVyYWdlIE1vc3QgUmVjZW50IiB0aGVuICJXYXJuaW5nIgogIGVsc2UgaWYgQ29tbW9uLiJCUCBIaWdobHkgVmFyaWFibGUiIHRoZW4gIkluZm8iCiAgZWxzZSAiSW5mbyIKCmRlZmluZSAiU3VnZ2VzdGlvbnMiOgogIGlmIG5vdCAiSW4gUG9wdWxhdGlvbiIgdGhlbiAnJwogIGVsc2UgaWYgbm90IENvbW1vbi4iUGF0aWVudCBoYXMgYSBCUCBHb2FsIiB0aGVuICdbIHsgImlkIjogImJwLXJhZGlvLWdvYWwiLCAibGFiZWwiOiAiQlAgR29hbCIsICJ0eXBlIjogImJwLWdvYWwiLCAicmVmZXJlbmNlcyI6eyJzeXN0ZW0iOiJodHRwczovL2NvYWNoLm9oc3UuZWR1IiwgImNvZGUiOiJibG9vZC1wcmVzc3VyZSJ9LCAiYWN0aW9ucyI6IFt7ImxhYmVsIjoiMTQwLzkwIn0sIHsibGFiZWwiOiIxMzAvODAifSwgeyJsYWJlbCI6IjEyMC84MCJ9XX1dJwogIGVsc2UgaWYgbm90IENvbW1vbi4iSGFzIEJQIFNldCIgdGhlbiAnWyB7ICJpZCI6ICJlbnRlci1icC1zdWdnZXN0aW9uIiwgImxhYmVsIjogIkVudGVyIEJsb29kIFByZXNzdXJlIiwgInR5cGUiOiAic3VnZ2VzdGlvbi1saW5rIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IkNsaWNrIGhlcmUgdG8gZ28gdG8gdGhlIEhvbWUgQmxvb2QgUHJlc3N1cmUgZW50cnkgcGFnZS4iLCAidXJsIjoiL2JwLXJlYWRpbmdzIn1dIH0gXScKICBlbHNlIGlmIENvbW1vbi4iUGF0aWVudCBIYXMgUG90ZW50aWFsIEhUTiBTdGFnZSAyIEJQIiB0aGVuICdbIHsgImlkIjogImNvbnRhY3Qtc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJDb250YWN0IGNhcmUgdGVhbSIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJDb250YWN0IHlvdXIgY2FyZSB0ZWFtIGFib3V0IG9wdGlvbnMgdG8gY29udHJvbCB5b3VyIGhpZ2ggYmxvb2QgcHJlc3N1cmUiLCAidXJsIjoiL2NvbnRhY3Q/dG9rZW49cmVjb21tZW5kLXBoYXJtYS1hbmQtbm9ucGhhcm1hIn1dIH0gXScKICBlbHNlIGlmIENvbW1vbi4iQWJvdmUgR29hbCBBdmVyYWdlIE1vc3QgUmVjZW50IiB0aGVuICdbIHsgImlkIjogImNvbnRhY3Qtc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJDb250YWN0IGNhcmUgdGVhbSIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJDb250YWN0IHlvdXIgY2FyZSB0ZWFtIGFib3V0IG9wdGlvbnMgdG8gY29udHJvbCB5b3VyIGhpZ2ggYmxvb2QgcHJlc3N1cmUiLCAidXJsIjoiL2NvbnRhY3Q/dG9rZW49cmVjb21tZW5kLW5vbnBoYXJtYSJ9XSB9IF0nCiAgZWxzZSBpZiBDb21tb24uIkJQIEhpZ2hseSBWYXJpYWJsZSIgdGhlbiAnWyB7ImlkIjogImFtYnVsYXRvcnktc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJSZXF1ZXN0IEFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUiLCAidHlwZSI6ICJzdWdnZXN0aW9uLWxpbmsiLCAiYWN0aW9ucyI6IFt7ImxhYmVsIjoiQ2xpY2sgaGVyZSB0byByZXF1ZXN0IEFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUiLCAidXJsIjoiL2NvbnRhY3Q/dG9rZW49YW1idWxhdG9yeS1icHMifV0gfSBdJwogIGVsc2UgJycKCmRlZmluZSAiU2VsZWN0aW9uIEJlaGF2aW9yIjoKICAnYXQtbW9zdC1vbmUnCgpkZWZpbmUgIkxpbmtzIjoKICBpZiBub3QgIkluIFBvcHVsYXRpb24iIHRoZW4gJycKICBlbHNlIGlmIG5vdCBDb21tb24uIlBhdGllbnQgaGFzIGEgQlAgR29hbCIgdGhlbiAnW3sibGFiZWwiOiAiQUhBOiBVbmRlcnN0YW5kaW5nIEhpZ2ggQmxvb2QgUHJlc3N1cmUgUmVhZGluZ3MiLCAidXJsIjogImh0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUvdW5kZXJzdGFuZGluZy1ibG9vZC1wcmVzc3VyZS1yZWFkaW5ncyJ9XScKICBlbHNlIGlmIG5vdCBDb21tb24uIkhhcyBCUCBTZXQiIHRoZW4gJ1t7ImxhYmVsIjoiQmVsbCAyMDIxOiBUaGUgcG90ZW50aWFsIGZvciBvdmVyZGlhZ25vc2lzIGFuZCB1bmRlcmRpYWdub3NpcyBiZWNhdXNlIG9mIGJsb29kIHByZXNzdXJlIHZhcmlhYmlsaXR5OiBhIGNvbXBhcmlzb24gb2YgdGhlIDIwMTcgQUNDL0FIQSwgMjAxOCBFU0MvRVNIIGFuZCAyMDE5IE5JQ0UgaHlwZXJ0ZW5zaW9uIGd1aWRlbGluZXMiLCAidXJsIjoiaHR0cHM6Ly9wdWJtZWQubmNiaS5ubG0ubmloLmdvdi8zMjc3MzY1Mi8ifV0nCiAgZWxzZSBpZiBDb21tb24uIlBhdGllbnQgSGFzIFBvdGVudGlhbCBIVE4gU3RhZ2UgMiBCUCIgdGhlbiAnW3sibGFiZWwiOiJOSUg6IENvbnRyb2xsaW5nIGJsb29kIHByZXNzdXJlIiwgInVybCI6Imh0dHBzOi8vd3d3Lm5obGJpLm5paC5nb3YvZmlsZXMvZG9jcy9wdWJsaWMvaGVhcnQvaGJwX2xvdy5wZGYifV0nCiAgZWxzZSBpZiBDb21tb24uIkFib3ZlIEdvYWwgQXZlcmFnZSBNb3N0IFJlY2VudCIgdGhlbiAnW3sibGFiZWwiOiJOSUg6IENvbnRyb2xsaW5nIGJsb29kIHByZXNzdXJlIiwgInVybCI6Imh0dHBzOi8vd3d3Lm5obGJpLm5paC5nb3YvZmlsZXMvZG9jcy9wdWJsaWMvaGVhcnQvaGJwX2xvdy5wZGYifV0nCiAgZWxzZSBpZiBDb21tb24uIkJQIEhpZ2hseSBWYXJpYWJsZSIgdGhlbiAnW3sibGFiZWwiOiIyNC1ob3VyIEFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUgTW9uaXRvcmluZyIsICJ1cmwiOiJodHRwczovL215LmNsZXZlbGFuZGNsaW5pYy5vcmcvaGVhbHRoL2RpYWdub3N0aWNzLzE2MzMwLTI0LWhvdXItYW1idWxhdG9yeS1ibG9vZC1wcmVzc3VyZS1tb25pdG9yaW5nIn1dJwogIGVsc2UgJ1tdJwoKZGVmaW5lICJFeGNsdXNpb24gUmVhc29uIjoKICBpZiAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIiB0aGVuCiAgICAoCiAgICAgICdQYXRpZW50IHdhcyBleGNsdWRlZCBmcm9tIG1vbml0b3Jpbmcgb2YgaHlwZXJ0ZW5zaW9uIGR1ZSB0byAnCiAgICAgICsgKAogICAgICAgICAgaWYgQ29tbW9uLiJQYXRpZW50IFVuZGVyIEFnZSAxOCIgdGhlbiAnYmVpbmcgdW5kZXIgdGhlIGFnZSBvZiAxOC4nCiAgICAgICAgICBlbHNlIGlmIENvbW1vbi4iUGF0aWVudCBPdmVyIEFnZSA4MCIgdGhlbiAnYmVpbmcgb3ZlciB0aGUgYWdlIG9mIDgwLicKICAgICAgICAgIGVsc2UgaWYgZXhpc3RzIENvbW1vbi4iQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiIHRoZW4gJ2hhdmluZyBlbmQgc3RhZ2UgcmVuYWwgZGlzZWFzZS4nCiAgICAgICAgICBlbHNlIGlmIGV4aXN0cyBDb21tb24uIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIgdGhlbiAnYmVpbmcgcHJlZ25hbnQuJwogICAgICAgICAgZWxzZSBpZiBDb21tb24uIkhUTiBDcmlzaXMiIHRoZW4gJ2EgcmVjZW50IGhpZ2ggYmxvb2QgcHJlc3N1cmUgd2FybmluZy4nCiAgICAgICAgICBlbHNlICcnCiAgICAgICAgKQogICAgKQogIGVsc2UgJycKCmRlZmluZSAiTm8gRW50cnkgaW50byBQb3B1bGF0aW9uIjoKICBub3QgIk1lZXRzIEluY2x1c2lvbiBDcml0ZXJpYSIKICAgIGFuZCBub3QgIk1lZXRzIEV4Y2x1c2lvbiBDcml0ZXJpYSIKCmRlZmluZSAiTm8gRW50cnkgVGl0bGUiOgogICdQYXRpZW50IGRpZCBub3QgaGF2ZSBhIHByZWV4aXN0aW5nIGh5cGVydGVuc2l2ZSBjb25kaXRpb24uJwoKZGVmaW5lICJObyBFbnRyeSBEZXNjcmlwdGlvbiI6CiAgJ05vIEZ1cnRoZXIgQWN0aW9uIFJlcXVpcmVkLicKCi8qIFRFU1RTICovCmRlZmluZSAiVGVzdCBDb3VudCBBbGwgQlAiOgogIENvdW50KENvbW1vbi4iQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIGZvciBMYXN0IDIgWWVhcnMiKQoKZGVmaW5lICJUZXN0IE1vc3QgUmVjZW50IEJQIjoKICBDb21tb24uIk1vc3QgUmVjZW50IEJQIFJlYWRpbmciIEJQCiAgICByZXR1cm4gVHVwbGUgewogICAgICAiSUQiOiBCUC5pZCwKICAgICAgIkRhdGUiOiBCUC5lZmZlY3RpdmUuZW5kLAogICAgICAiU3lzdG9saWMiOiBzaW5nbGV0b24gZnJvbSAoQlAuY29tcG9uZW50IEMgd2hlcmUgQy5jb2RlIGluIENvbW1vbi4iU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUiKS52YWx1ZS52YWx1ZSwKICAgICAgIkRpYXN0b2xpYyI6IHNpbmdsZXRvbiBmcm9tIChCUC5jb21wb25lbnQgQyB3aGVyZSBDLmNvZGUgaW4gQ29tbW9uLiJEaWFzdG9saWMgQmxvb2QgUHJlc3N1cmUiKS52YWx1ZS52YWx1ZQogICAgfQoKZGVmaW5lICJUZXN0IEdldCBBbGwgQlAgT2JzZXJ2YXRpb24gUmVzb3VyY2VzIjoKICAoQ29tbW9uLiJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIEJQIHNvcnQgYnkgQ29hbGVzY2UoaXNzdWVkLCBzdGFydCBvZiBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoZWZmZWN0aXZlKSkpIEJQCiAgICByZXR1cm4gVHVwbGUgewogICAgICAiT2JzZXJ2YXRpb24gSUQiOiBCUC5pZAogICAgICB9CgpkZWZpbmUgIlRlc3QgR2V0IEhhcyBCUCBTZXQiOgogIENvbW1vbi4iSGFzIEJQIFNldCIKCmRlZmluZSAiVGVzdCBHZXQgTW9zdCBSZWNlbnQgQlAgU2V0IjoKICBDb21tb24uIk1vc3QgUmVjZW50IEJQIFNldCIgQlBTZXQKICAgIHJldHVybiBUdXBsZSB7CiAgICAgICJPYnNlcnZhdGlvbiBJRCI6IEJQU2V0LmlkLAogICAgICAiRW5jb3VudGVyIFJlZmVyZW5jZSI6IEJQU2V0LmVuY291bnRlci5yZWZlcmVuY2UKICAgICAgfQoKZGVmaW5lICJUZXN0IEFsbCBCUCBMYXN0IDIgWWVhcnMiOgogIENvbW1vbi4iQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIGZvciBMYXN0IDIgWWVhcnMiIEJQcwogICAgcmV0dXJuIFR1cGxlIHsKICAgICAgIk9ic2VydmF0aW9uIElEIjogQlBzLmlkLAogICAgICAiRGF0ZSI6IEJQcy5lZmZlY3RpdmUuZW5kLAogICAgICAiRW5jb3VudGVyIFJlZmVyZW5jZSI6IEJQcy5lbmNvdW50ZXIucmVmZXJlbmNlCiAgICAgIH0KCmRlZmluZSAiVGVzdCBHZXQgQXZlcmFnZSBBbGwgQlAgTGFzdCAyIFllYXJzIjoKICBDb21tb24uIkF2ZyBCUCIoQ29tbW9uLiJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMgZm9yIExhc3QgMiBZZWFycyIpCgpkZWZpbmUgIlRlc3QgR2V0IEF2ZXJhZ2UgTW9zdCBSZWNlbnQgQlAgU2V0IjoKICBDb21tb24uIkF2ZyBCUCIoQ29tbW9uLiJNb3N0IFJlY2VudCBCUCBTZXQiKQoKZGVmaW5lICJUZXN0IEdldCBCUCBHb2FsIjoKICBDb21tb24uIkJQIGZyb20gTW9zdCBSZWNlbnQgR29hbCIgQlBHb2FsCiAgICByZXR1cm4gVHVwbGUgeyBzeXN0b2xpYzogQlBHb2FsLnN5c3RvbGljLnZhbHVlLCAgZGlhc3RvbGljOiBCUEdvYWwuZGlhc3RvbGljLnZhbHVlIH0KCmRlZmluZSAiVGVzdCBHZXQgQWxsIEJQIFNCUCBDb2VmZmljaWVudCBWYXJpYWJpbGl0eSI6CiAgQ29tbW9uLiJTeXN0b2xpYyBCUCBWYXJpYWJpbGl0eSIoQ29tbW9uLiJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMgZm9yIExhc3QgMiBZZWFycyIpLnZhbHVlCgpkZWZpbmUgIlRFU1QgQ29uZGl0aW9uIFByZXZhbGVuY2UgUGVyaW9kIjoKICBDb21tb24uIkNvbmRpdGlvbnMiIFByb2JsZW0KICAgIHJldHVybiBDb21tb24uIlByZXZhbGVuY2UgUGVyaW9kIihQcm9ibGVtKQoKZGVmaW5lICJURVNUIENvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWV4aXN0aW5nIEh5cGVydGVuc2lvbiI6CiAgQ29tbW9uLiJDb25kaXRpb24gSW5kaWNhdGluZyBQcmVleGlzdGluZyBIeXBlcnRlbnNpb24iCg=="
  } ]
}