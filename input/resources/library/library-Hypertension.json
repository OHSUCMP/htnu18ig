{
  "resourceType": "Library",
  "id": "library-Hypertension",
  "meta": {
    "versionId": "1",
    "lastUpdated": "2020-04-15T13:00:00.000-06:00"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/ohsu/htnu18ig/Library/Hypertension",
  "version": "0.1",
  "name": "Hypertension",
  "title": "Library - OHSU Logic for identifying hypertension",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://hl7.org/fhir/library-type",
      "code": "logic-library",
      "display": "Logic Library"
    } ]
  },
  "date": "2020-04-15T00:00:00-08:00",
  "publisher": "Oregon Health and Science University (OHSU)",
  "description": "Identifies hypertension",
  "useContext": [ {
    "code": {
      "system": "http://hl7.org/fhir/usage-context-type",
      "code": "focus",
      "display": "Clinical Focus"
    }
  } ],
  "jurisdiction": [ {
    "coding": [ {
      "system": "urn:iso:std:iso:3166",
      "code": "US",
      "display": "United States of America"
    } ]
  } ],
  "purpose": "The purpose of this is to act as a 'hello world' sort of simple logic for testing end-to-end processing of the system.",
  "usage": "This is to be used in conjunction with a patient-facing FHIR application.",
  "copyright": "Â© OHSU 2020+.",
  "topic": [ {
    "text": "Hypertension Management"
  } ],
  "relatedArtifact": [ {
    "type": "depends-on",
    "resource": "http://hl7.org/fhir/Library/FHIR-ModelInfo|4.0.1"
  }, {
    "type": "depends-on",
    "resource": "http://hl7.org/fhir/Library/FHIRHelpers|4.0.1"
  }, {
    "type": "depends-on",
    "resource": "http://fhir.org/guides/ohsu/htnu18ig/Library/OHSUHTNCommon|0.1"
  }, {
    "type": "depends-on",
    "resource": "http://terminology.hl7.org/CodeSystem/v3-ActCode"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.2012"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1047.511"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1104.2"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.2.1045"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.3157.4012"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.10"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.2.590"
  }, {
    "type": "depends-on",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1108.15"
  } ],
  "parameter": [ {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Patient"
  }, {
    "name": "Info",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Warning",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Critical",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Errors",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Any"
  }, {
    "name": "Patient Name",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Blood Pressure Observations",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Observation"
  }, {
    "name": "Most Recent BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Observation"
  }, {
    "name": "Patient Has Above Normal BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Meets Inclusion Criteria",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Patient Under Age 18",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Patient Over Age 80",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Condition Indicating End Stage Renal Disease",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Condition"
  }, {
    "name": "Condition Indicating Pregnancy",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Condition"
  }, {
    "name": "Meets Exclusion Criteria",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "In Population",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Patient Has Hypertensive BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "HTN Crisis",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Condition Indicating Preexisting Hypertension",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Condition"
  }, {
    "name": "Diagnosis of Preexisting Hypertension",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Blood Pressure Observations for Last 2 Years",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Observation"
  }, {
    "name": "Ambulatory Blood Pressure Monitoring Procedures",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Procedure"
  }, {
    "name": "Patient Ambulatory Encounters",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Encounter"
  }, {
    "name": "Office Blood Pressure Observations",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Observation"
  }, {
    "name": "Home Blood Pressure Observations",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Observation"
  }, {
    "name": "Has BP Set",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Patient does not have a Set of BP Observations",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Ambulatory Blood Pressure Monitoring Observations",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Observation"
  }, {
    "name": "Most Recent BP Set",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Observation"
  }, {
    "name": "All BP",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Observation"
  }, {
    "name": "Patient Has Potential HTN Stage 2 BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Patient Has HTN Stage 2 BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "HTN Stage 2",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Consider HTN Stage 2",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Patient Has Potential HTN Stage 1 BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Consider HTN Stage 1",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Confirm HTN",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Prescribe HBP or ABP Monitoring",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Patient has Set of BP Observations",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Confirm need for Patient Ambulatory BP Monitoring",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Prescribe Ambulatory BP Monitoring",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Recommendation",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Rationale",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Indicator Status",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Exclusion Reason",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "No Further Action",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Test Patient Age on BP Reading",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "integer"
  }, {
    "name": "Test Count All BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "integer"
  }, {
    "name": "Test Most Recent BP",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Any"
  }, {
    "name": "Test Get All BP Observation Resources",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Any"
  }, {
    "name": "Test Get Encounter BP Observations",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Any"
  }, {
    "name": "Test Get Most Recent BP Set",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Any"
  }, {
    "name": "Test All BP Last 2 Years",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Any"
  }, {
    "name": "Test Get Average All BP Last 2 Years",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Any"
  }, {
    "name": "Test Get Average Most Recent BP Set",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Any"
  }, {
    "name": "Test Get All BP SBP Coefficient Variability",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "decimal"
  } ],
  "dataRequirement": [ {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Observation" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.2012"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.2.590"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.3157.4012"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.10"
    } ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Procedure" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1047.511"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBIeXBlcnRlbnNpb24gdmVyc2lvbiAnMC4xJwoKdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScKCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4wLjEnIGNhbGxlZCBGSElSSGVscGVycwppbmNsdWRlIE9IU1VIVE5Db21tb24gdmVyc2lvbiAnMC4xJyBjYWxsZWQgQ29tbW9uCgpjb2Rlc3lzdGVtICJ2MyBDb2RlIFN5c3RlbSBBY3RDb2RlIjogJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjMtQWN0Q29kZScKCi8qIEluY2x1c2lvbiAqLwp2YWx1ZXNldCAiQmxvb2QgUHJlc3N1cmUgTWVhc3VyZWQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjAwLjIwMTInCnZhbHVlc2V0ICJBbWJ1bGF0b3J5IEJsb29kIFByZXNzdXJlIE1vbml0b3JpbmcgKEFCUE0pIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0Ny41MTEnCnZhbHVlc2V0ICJTeXN0b2xpYyBibG9vZCBwcmVzc3VyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExMDQuMicKdmFsdWVzZXQgIkRpYXN0b2xpYyBCbG9vZCBQcmVzc3VyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMi4xMDQ1JwoKLyogRXhjbHVzaW9uICovCnZhbHVlc2V0ICJIeXBlcnRlbnNpb24iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMzE1Ny40MDEyJwp2YWx1ZXNldCAiTm9uIGVzc2VudGlhbCBIeXBlcnRlbnNpb24gU05PTUVEQ1QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDMyLjEwJwp2YWx1ZXNldCAiUHJlZ25hbmN5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4zLjM3OCcKdmFsdWVzZXQgIkVuZCBTdGFnZSBSZW5hbCBEaXNlYXNlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4yLjU5MCcKdmFsdWVzZXQgIkhvc3BpY2UgY2FyZSBhbWJ1bGF0b3J5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTEwOC4xNScKCmNvZGUgImFtYnVsYXRvcnkiOiAnQU1CJyBmcm9tICJ2MyBDb2RlIFN5c3RlbSBBY3RDb2RlIiBkaXNwbGF5ICdhbWJ1bGF0b3J5JwoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIkluZm8iOgogICdpbmZvJwoKZGVmaW5lICJXYXJuaW5nIjoKICAnd2FybmluZycKCmRlZmluZSAiQ3JpdGljYWwiOgogICdjcml0aWNhbCcKCmRlZmluZSAiRXJyb3JzIjoKICBudWxsCgpkZWZpbmUgIlBhdGllbnQgTmFtZSI6CiAgRmlyc3QoUGF0aWVudC5uYW1lLmdpdmVuKQogICArICcgJyArCiAgRmlyc3QoUGF0aWVudC5uYW1lLmZhbWlseSkKCgovKiBSZWNvbW1lbmRhdGlvbiBDcml0ZXJpYSAtIEh5cGVydGVuc2lvbiAgKi8KZGVmaW5lICJNZWV0cyBJbmNsdXNpb24gQ3JpdGVyaWEiOgogIlBhdGllbnQgSGFzIEFib3ZlIE5vcm1hbCBCUCIKCmRlZmluZSAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIjoKICAiUGF0aWVudCBVbmRlciBBZ2UgMTgiCiAgICBvciAiUGF0aWVudCBPdmVyIEFnZSA4MCIKICAgIG9yIGV4aXN0cyAiQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiCiAgICBvciBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIKCmRlZmluZSAiSW4gUG9wdWxhdGlvbiI6CiAgIk1lZXRzIEluY2x1c2lvbiBDcml0ZXJpYSIKICBhbmQgbm90ICJNZWV0cyBFeGNsdXNpb24gQ3JpdGVyaWEiCgpkZWZpbmUgIlJlY29tbWVuZGF0aW9uIjoKICBpZiBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIgdGhlbiAnU3RhbmRhcmQgaGlnaCBibG9vZCBwcmVzc3VyZSBndWlkZWxpbmVzIGRvIG5vdCBhcHBseScKICBlbHNlIGlmICJEaWFnbm9zaXMgb2YgUHJlZXhpc3RpbmcgSHlwZXJ0ZW5zaW9uIiB0aGVuICdTdGFuZGFyZCBoaWdoIGJsb29kIHByZXNzdXJlIGd1aWRlbGluZXMgZG8gbm90IGFwcGx5JwogIGVsc2UgaWYgZXhpc3RzICJDb25kaXRpb24gSW5kaWNhdGluZyBFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSIgdGhlbiAnU3RhbmRhcmQgaGlnaCBibG9vZCBwcmVzc3VyZSBndWlkZWxpbmVzIGRvIG5vdCBhcHBseScKICBlbHNlIGlmICJIVE4gQ3Jpc2lzIiB0aGVuICdXYXJuaW5nOiBQb3RlbnRpYWwgaHlwZXJ0ZW5zaXZlIGVtZXJnZW5jeS4gQ29uc3VsdCBkb2N0b3IgaW1tZWRpYXRlbHkuJwogIGVsc2UgaWYgbm90ICJIYXMgQlAgU2V0IiB0aGVuICdDb25zaWRlciBvYnRhaW5pbmcgYWRkaXRpb25hbCBibG9vZCBwcmVzc3VyZSBtZWFzdXJlbWVudHMnCiAgZWxzZSBpZiAiSFROIFN0YWdlIDIiIHRoZW4gJ1JlY29tbWVuZCBkaWFnbm9zaXMgb2YgU3RhZ2UgMiBoeXBlcnRlbnNpb24nCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDIiIHRoZW4gJ0NvbnNpZGVyIGRpYWdub3Npbmcgd2l0aCBTdGFnZSAyIGh5cGVydGVuc2lvbicKICBlbHNlIGlmICJDb25zaWRlciBIVE4gU3RhZ2UgMSIgdGhlbiAnQ29uc2lkZXIgZGlhZ25vc2luZyB3aXRoIFN0YWdlIDEgaHlwZXJ0ZW5zaW9uJwogIGVsc2UgaWYgIlByZXNjcmliZSBIQlAgb3IgQUJQIE1vbml0b3JpbmciIHRoZW4gJ1VzZSBhbWJ1bGF0b3J5IG9yIGhvbWUgYmxvb2QgcHJlc3N1cmUgbW9uaXRvcmluZyB0byBjb25maXJtIGRpYWdub3NpcycKICBlbHNlIGlmICJQcmVzY3JpYmUgQW1idWxhdG9yeSBCUCBNb25pdG9yaW5nIiB0aGVuICdVc2UgYW1idWxhdG9yeSBibG9vZCBwcmVzc3VyZSBtb25pdG9yaW5nIHRvIGFkZHJlc3MgYmxvb2QgcHJlc3N1cmUgdmFyaWFiaWxpdHknCiAgZWxzZSAnUGF0aWVudCBkb2VzIG5vdCBoYXZlIGFuIGluZGljYXRpb24gb2YgYSBoeXBlcnRlbnNpdmUgc3RhdGUuJwoKZGVmaW5lICJSYXRpb25hbGUgQ29tYmluZWQgRGF0YSI6CiAgIlJhdGlvbmFsZSIgKyAnOycgKyAiU291cmNlIiArICc7JyArICJTdWdnZXN0aW9ucyIgKyAnOycgKyAiU2VsZWN0aW9uIEJlaGF2aW9yIiArICc7JyArICJMaW5rcyIKCmRlZmluZSAiUmF0aW9uYWxlIjoKICBpZiBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIgdGhlbiAnUGxlYXNlIHNlZSB5b3VyIE9iLUd5biBwcm92aWRlciBmb3Igc3BlY2lhbGl6ZWQgY2FyZSByZWdhcmRpbmcgeW91ciBoaWdoIGJsb29kIHByZXNzdXJlIHJlYWRpbmcgd2hpbGUgcHJlZ25hbnQnCiAgZWxzZSBpZiAiRGlhZ25vc2lzIG9mIFByZWV4aXN0aW5nIEh5cGVydGVuc2lvbiIgdGhlbiAnQXMgeW91IGFscmVhZHkgaGF2ZSBhIGhpZ2ggYmxvb2QgcHJlc3N1cmUgZGlhZ25vc2lzLCBwbGVhc2Ugc2VlIHlvdXIgcHJvdmlkZXIgcmVnYXJkaW5nIHlvdXIgcmVjZW50IGhpZ2ggYmxvb2QgcHJlc3N1cmUgcmVhZGluZy4nCiAgZWxzZSBpZiBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIEVuZCBTdGFnZSBSZW5hbCBEaXNlYXNlIiB0aGVuICdQbGVhc2Ugc2VlIHlvdXIgbmVwaHJvbG9naXN0IGZvciBzcGVjaWFsaXplZCBjYXJlIHJlZ2FyZGluZyB5b3VyIHJlY2VudCBoaWdoIGJsb29kIHByZXNzdXJlIHJlYWRpbmcuJwogIGVsc2UgaWYgIkhUTiBDcmlzaXMiIHRoZW4gJ1lvdXIgYmxvb2QgcHJlc3N1cmUgaXMgdG9vIGhpZ2guICBTZWVrIHRyZWF0bWVudCBpbW1lZGlhdGVseS4gIFN5c3RvbGljIEJQID4gMTgwIG1tSGcgYW5kL29yIGRpYXN0b2xpYyBCUCA+IDEyMCBtbUhnIG1heSBpbmRpY2F0ZSBhIGh5cGVydGVuc2l2ZSBlbWVyZ2VuY3kuJwogIGVsc2UgaWYgbm90ICJIYXMgQlAgU2V0IiB0aGVuICdZb3UgaGFkIGEgaGlnaCBibG9vZCBwcmVzc3VyZSByZWFkaW5nIHJlY2VudGx5LiAgV2UgZG8gbm90IGhhdmUgZW5vdWdoIGJsb29kIHByZXNzdXJlIG1lYXN1cmVtZW50cyB0byBwcm92aWRlIGEgZnVsbCBwaWN0dXJlIG9mIHlvdXIgaGVhbHRoLiAgR2V0dGluZyBhIGZ1bGwgc2V0IG9mIGJsb29kIHByZXNzdXJlcyB3aWxsIGhlbHAgdXMgcHJvdmlkZSB0aGUgYmVzdCBjYXJlLiAgV2UgY29uc2lkZXIgYSBmdWxsIHNldCB0byBiZSBtb3JlIHRoYW4gNCBpbi1vZmZpY2UgbWVhc3VyZW1lbnRzLCA2IGhvbWUgbWVhc3VyZW1lbnRzLCBvciAyNCBob3VycyBvZiBhbWJ1bGF0b3J5IG1vbml0b3JpbmcuJwogIGVsc2UgaWYgIkhUTiBTdGFnZSAyIiB0aGVuICdZb3UgaGFkIGEgaGlnaCBibG9vZCBwcmVzc3VyZSByZWFkaW5nIHJlY2VudGx5LiAgUGxlYXNlIHNlZSB5b3VyIHByb3ZpZGVyIHRvIGxvd2VyIHlvdXIgYmxvb2QgcHJlc3N1cmUgYW5kIHJlZHVjZSB5b3VyIHJpc2sgb2Ygc3Ryb2tlIG9yIG90aGVyIGFkdmVyc2UgZXZlbnRzLiAgTW9yZSBzZXZlcmUgaHlwZXJ0ZW5zaW9uLCBzdGFnZSAyIGh5cGVydGVuc2lvbiBpcyBhIHN5c3RvbGljIHByZXNzdXJlIG9mIDE0MCBtbSBIZyBvciBoaWdoZXIgb3IgYSBkaWFzdG9saWMgcHJlc3N1cmUgb2YgOTAgbW0gSGcgb3IgaGlnaGVyLicKICBlbHNlIGlmICJDb25zaWRlciBIVE4gU3RhZ2UgMiIgdGhlbiAnWW91IGhhZCBhIGhpZ2ggYmxvb2QgcHJlc3N1cmUgcmVhZGluZyByZWNlbnRseS4gIFBsZWFzZSBzZWUgeW91ciBwcm92aWRlciB0byBsb3dlciB5b3VyIGJsb29kIHByZXNzdXJlIGFuZCByZWR1Y2UgeW91ciByaXNrIG9mIHN0cm9rZSBvciBvdGhlciBhZHZlcnNlIGV2ZW50cy4gIE1vcmUgc2V2ZXJlIGh5cGVydGVuc2lvbiwgc3RhZ2UgMiBoeXBlcnRlbnNpb24gaXMgYSBzeXN0b2xpYyBwcmVzc3VyZSBvZiAxNDAgbW0gSGcgb3IgaGlnaGVyIG9yIGEgZGlhc3RvbGljIHByZXNzdXJlIG9mIDkwIG1tIEhnIG9yIGhpZ2hlci4nCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDEiIHRoZW4gJ1lvdSBoYWQgYSBoaWdoIGJsb29kIHByZXNzdXJlIHJlYWRpbmcgcmVjZW50bHkuICBQbGVhc2Ugc2VlIHlvdXIgcHJvdmlkZXIgdG8gbG93ZXIgeW91ciBibG9vZCBwcmVzc3VyZSBhbmQgcmVkdWNlIHlvdXIgcmlzayBvZiBzdHJva2Ugb3Igb3RoZXIgYWR2ZXJzZSBldmVudHMuICBQb3NzaWJsZSBTdGFnZSAxIGh5cGVydGVuc2lvbiBpcyBhIHN5c3RvbGljIHByZXNzdXJlIG9mIDEzMCBtbSBIZyBvciBoaWdoZXIgb3IgYSBkaWFzdG9saWMgcHJlc3N1cmUgb2YgODAgbW0gSGcgb3IgaGlnaGVyLiAgWW91IG1heSBiZSBhYmxlIHRvIGNvbnRyb2wgeW91ciBibG9vZCBwcmVzc3VyZSB0aHJvdWdoIGxpZmVzdHlsZSBjaGFuZ2VzIG9yIHRocm91Z2ggbWVkaWNhdGlvbi4gIExpZmVzdHlsZSBjaGFuZ2VzIHdpbGwgaGF2ZSBvdGhlciBoZWFsdGggYmVuZWZpdHMsIHdoZXJlYXMgbWVkaWNhdGlvbnMgY2FycnkgYSBzbWFsbCByaXNrLicKICBlbHNlIGlmICJQcmVzY3JpYmUgSEJQIG9yIEFCUCBNb25pdG9yaW5nIiB0aGVuICdZb3UgaGFkIGEgaGlnaCBibG9vZCBwcmVzc3VyZSByZWFkaW5nIHJlY2VudGx5IGFuZCBoYXZlIGEgYmxvb2QgcHJlc3N1cmUgdGhhdCBpcyBpbiBhIGJvcmRlcmxpbmUgZm9yIGEgaHlwZXJ0ZW5zaW9uIGRpYWdub3Npcy4gIFRha2luZyBhIGZ1bGwgc2V0IG9mIGJsb29kIHByZXNzdXJlcywgYXBwcm94aW1hdGVseSA2IGRheXMgb2YgaG9tZSBtZWFzdXJlbWVudHMgKHR3aWNlIGEgZGF5KSwgb3IgMjQgaG91cnMgb2YgYW1idWxhdG9yeSBtb25pdG9yaW5nLCB3aWxsIGhlbHAgZmluZCB0aGUgcmlnaHQgZGlhZ25vc2lzLicKICBlbHNlIGlmICJQcmVzY3JpYmUgQW1idWxhdG9yeSBCUCBNb25pdG9yaW5nIiB0aGVuICdZb3UgaGFkIGEgaGlnaCBibG9vZCBwcmVzc3VyZSByZWFkaW5nIHJlY2VudGx5LiAgWW91ciBibG9vZCBwcmVzc3VyZSBoYXMgdmFyaWVkIGZyb20gcmVhZGluZyB0byByZWFkaW5nIHNpZ25pZmljYW50bHkuICBTb21ldGltZXMgdGhlcmUgaXMgYSBoZWFsdGggcmlzayB3aXRoIGhpZ2hseSB2YXJpYWJsZSBibG9vZCBwcmVzc3VyZS4gIEEgMjQgaG91ciBhbWJ1bGF0b3J5L3dhbGtpbmcgbWVhc3VyZW1lbnQgd2lsbCB1cyBwcm92aWRlIHRoZSBiZXN0IGNhcmUuJwogIGVsc2UgJ05vIEZ1cnRoZXIgQWN0aW9uIFJlcXVpcmVkLicKCmRlZmluZSAiSW5kaWNhdG9yIFN0YXR1cyI6CiAgaWYgZXhpc3RzICJDb25kaXRpb24gSW5kaWNhdGluZyBQcmVnbmFuY3kiIHRoZW4gIkluZm8iCiAgZWxzZSBpZiAiRGlhZ25vc2lzIG9mIFByZWV4aXN0aW5nIEh5cGVydGVuc2lvbiIgdGhlbiAiSW5mbyIKICBlbHNlIGlmIGV4aXN0cyAiQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiIHRoZW4gIkluZm8iCiAgZWxzZSBpZiAiSFROIENyaXNpcyIgdGhlbiAiQ3JpdGljYWwiCiAgZWxzZSBpZiBub3QgIkhhcyBCUCBTZXQiIHRoZW4gIkluZm8iCiAgZWxzZSBpZiAiSFROIFN0YWdlIDIiIHRoZW4gIldhcm5pbmciCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDIiIHRoZW4gIldhcm5pbmciCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDEiIHRoZW4gIkluZm8iCiAgZWxzZSBpZiAiUHJlc2NyaWJlIEhCUCBvciBBQlAgTW9uaXRvcmluZyIgdGhlbiAiSW5mbyIKICBlbHNlIGlmICJQcmVzY3JpYmUgQW1idWxhdG9yeSBCUCBNb25pdG9yaW5nIiB0aGVuICJJbmZvIgogIGVsc2UgIkluZm8iCgoKZGVmaW5lICJTb3VyY2UiOgogIGlmIGV4aXN0cyAiQ29uZGl0aW9uIEluZGljYXRpbmcgUHJlZ25hbmN5IiB0aGVuICdodHRwczovL3d3dy5haGFqb3VybmFscy5vcmcvZG9pLzEwLjExNjEvSFlQRVJURU5TSU9OQUhBLjEyMC4xNTAxNScKICBlbHNlIGlmICJEaWFnbm9zaXMgb2YgUHJlZXhpc3RpbmcgSHlwZXJ0ZW5zaW9uIiB0aGVuICdodHRwczovL3d3dy5haGFqb3VybmFscy5vcmcvZG9pLzEwLjExNjEvSFlQRVJURU5TSU9OQUhBLjEyMC4xNTAxNicKICBlbHNlIGlmIGV4aXN0cyAiQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiIHRoZW4gJ2h0dHBzOi8vd3d3LmFoYWpvdXJuYWxzLm9yZy9kb2kvMTAuMTE2MS9IWVBFUlRFTlNJT05BSEEuMTIwLjE1MDE3JwogIGVsc2UgaWYgIkhUTiBDcmlzaXMiIHRoZW4gJ2h0dHBzOi8vd3d3LmFoYWpvdXJuYWxzLm9yZy9kb2kvMTAuMTE2MS9IWVBFUlRFTlNJT05BSEEuMTIwLjE1MDE4JwogIGVsc2UgaWYgbm90ICJIYXMgQlAgU2V0IiB0aGVuICdodHRwczovL3d3dy5haGFqb3VybmFscy5vcmcvZG9pLzEwLjExNjEvSFlQRVJURU5TSU9OQUhBLjEyMC4xNTAxOScKICBlbHNlIGlmICJIVE4gU3RhZ2UgMiIgdGhlbiAnaHR0cHM6Ly93d3cuYWhham91cm5hbHMub3JnL2RvaS8xMC4xMTYxL0hZUEVSVEVOU0lPTkFIQS4xMjAuMTUwMjAnCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDIiIHRoZW4gJ2h0dHBzOi8vd3d3LmFoYWpvdXJuYWxzLm9yZy9kb2kvMTAuMTE2MS9IWVBFUlRFTlNJT05BSEEuMTIwLjE1MDIxJwogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAxIiB0aGVuICdodHRwczovL3d3dy5haGFqb3VybmFscy5vcmcvZG9pLzEwLjExNjEvSFlQRVJURU5TSU9OQUhBLjEyMC4xNTAyMicKICBlbHNlIGlmICJQcmVzY3JpYmUgSEJQIG9yIEFCUCBNb25pdG9yaW5nIiB0aGVuICdodHRwczovL3d3dy5haGFqb3VybmFscy5vcmcvZG9pLzEwLjExNjEvSFlQRVJURU5TSU9OQUhBLjEyMC4xNTAyMycKICBlbHNlIGlmICJQcmVzY3JpYmUgQW1idWxhdG9yeSBCUCBNb25pdG9yaW5nIiB0aGVuICdodHRwczovL3d3dy5haGFqb3VybmFscy5vcmcvZG9pLzEwLjExNjEvSFlQRVJURU5TSU9OQUhBLjEyMC4xNTAyNCcKICBlbHNlICcnCgpkZWZpbmUgIlN1Z2dlc3Rpb25zIjoKICBpZiBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIgdGhlbiAnJwogIGVsc2UgaWYgIkRpYWdub3NpcyBvZiBQcmVleGlzdGluZyBIeXBlcnRlbnNpb24iIHRoZW4gJycKICBlbHNlIGlmIGV4aXN0cyAiQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiIHRoZW4gJycKICBlbHNlIGlmICJIVE4gQ3Jpc2lzIiB0aGVuICcnCiAgZWxzZSBpZiBub3QgIkhhcyBCUCBTZXQiIHRoZW4gJycKICBlbHNlIGlmICJIVE4gU3RhZ2UgMiIgdGhlbiAnJwogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIiB0aGVuICcnCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDEiIHRoZW4gJycKICBlbHNlIGlmICJQcmVzY3JpYmUgSEJQIG9yIEFCUCBNb25pdG9yaW5nIiB0aGVuICcnCiAgZWxzZSBpZiAiUHJlc2NyaWJlIEFtYnVsYXRvcnkgQlAgTW9uaXRvcmluZyIgdGhlbiAnJwogIGVsc2UgJycKCmRlZmluZSAiU2VsZWN0aW9uIEJlaGF2aW9yIjoKICBpZiBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIgdGhlbiAnYXQtbW9zdC1vbmUnCiAgZWxzZSBpZiAiRGlhZ25vc2lzIG9mIFByZWV4aXN0aW5nIEh5cGVydGVuc2lvbiIgdGhlbiAnYXQtbW9zdC1vbmUnCiAgZWxzZSBpZiBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIEVuZCBTdGFnZSBSZW5hbCBEaXNlYXNlIiB0aGVuICdhdC1tb3N0LW9uZScKICBlbHNlIGlmICJIVE4gQ3Jpc2lzIiB0aGVuICdhdC1tb3N0LW9uZScKICBlbHNlIGlmIG5vdCAiSGFzIEJQIFNldCIgdGhlbiAnYXQtbW9zdC1vbmUnCiAgZWxzZSBpZiAiSFROIFN0YWdlIDIiIHRoZW4gJ2F0LW1vc3Qtb25lJwogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIiB0aGVuICdhdC1tb3N0LW9uZScKICBlbHNlIGlmICJDb25zaWRlciBIVE4gU3RhZ2UgMSIgdGhlbiAnYXQtbW9zdC1vbmUnCiAgZWxzZSBpZiAiUHJlc2NyaWJlIEhCUCBvciBBQlAgTW9uaXRvcmluZyIgdGhlbiAnYXQtbW9zdC1vbmUnCiAgZWxzZSBpZiAiUHJlc2NyaWJlIEFtYnVsYXRvcnkgQlAgTW9uaXRvcmluZyIgdGhlbiAnYXQtbW9zdC1vbmUnCiAgZWxzZSAnYXQtbW9zdC1vbmUnCgpkZWZpbmUgIkxpbmtzIjoKICBpZiBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWduYW5jeSIgdGhlbiAnaHR0cHM6Ly93d3cubWF5b2NsaW5pYy5vcmcvaGVhbHRoeS1saWZlc3R5bGUvcHJlZ25hbmN5LXdlZWstYnktd2Vlay9pbi1kZXB0aC9wcmVnbmFuY3kvYXJ0LTIwMDQ2MDk4Izp+OnRleHQ9SGlnaCUyMGJsb29kJTIwcHJlc3N1cmUlMjBkdXJpbmclMjBwcmVnbmFuY3klMjBwb3NlcyUyMHZhcmlvdXMlMjByaXNrcyUyQyUyMGluY2x1ZGluZyUzQSxiaXJ0aCUyMHdlaWdodCUyMG9yJTIwcHJlbWF0dXJlJTIwYmlydGguJwogIGVsc2UgaWYgIkRpYWdub3NpcyBvZiBQcmVleGlzdGluZyBIeXBlcnRlbnNpb24iIHRoZW4gJ2h0dHBzOi8vd3d3Lm1heW9jbGluaWMub3JnL2Rpc2Vhc2VzLWNvbmRpdGlvbnMvc2Vjb25kYXJ5LWh5cGVydGVuc2lvbi9zeW1wdG9tcy1jYXVzZXMvc3ljLTIwMzUwNjc5Izp+OnRleHQ9U2Vjb25kYXJ5JTIwaHlwZXJ0ZW5zaW9uJTIwKHNlY29uZGFyeSUyMGhpZ2glMjBibG9vZCxhcnRlcmllcyUyQyUyMGhlYXJ0JTIwb3IlMjBlbmRvY3JpbmUlMjBzeXN0ZW0uJwogIGVsc2UgaWYgZXhpc3RzICJDb25kaXRpb24gSW5kaWNhdGluZyBFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSIgdGhlbiAnaHR0cHM6Ly93d3cubWF5b2NsaW5pYy5vcmcvZGlzZWFzZXMtY29uZGl0aW9ucy9lbmQtc3RhZ2UtcmVuYWwtZGlzZWFzZS9zeW1wdG9tcy1jYXVzZXMvc3ljLTIwMzU0NTMyJwogIGVsc2UgaWYgIkhUTiBDcmlzaXMiIHRoZW4gJ2h0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUnCiAgZWxzZSBpZiBub3QgIkhhcyBCUCBTZXQiIHRoZW4gJ2h0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUvdW5kZXJzdGFuZGluZy1ibG9vZC1wcmVzc3VyZS1yZWFkaW5ncy9tb25pdG9yaW5nLXlvdXItYmxvb2QtcHJlc3N1cmUtYXQtaG9tZScKICBlbHNlIGlmICJIVE4gU3RhZ2UgMiIgdGhlbiAnaHR0cHM6Ly93d3cuaGVhcnQub3JnL2VuL2hlYWx0aC10b3BpY3MvaGlnaC1ibG9vZC1wcmVzc3VyZS91bmRlcnN0YW5kaW5nLWJsb29kLXByZXNzdXJlLXJlYWRpbmdzJwogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIiB0aGVuICdodHRwczovL3d3dy5oZWFydC5vcmcvZW4vaGVhbHRoLXRvcGljcy9oaWdoLWJsb29kLXByZXNzdXJlL3VuZGVyc3RhbmRpbmctYmxvb2QtcHJlc3N1cmUtcmVhZGluZ3MnCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDEiIHRoZW4gJ2h0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUvdW5kZXJzdGFuZGluZy1ibG9vZC1wcmVzc3VyZS1yZWFkaW5ncycKICBlbHNlIGlmICJQcmVzY3JpYmUgSEJQIG9yIEFCUCBNb25pdG9yaW5nIiB0aGVuICdodHRwczovL3d3dy5oZWFydC5vcmcvZW4vaGVhbHRoLXRvcGljcy9oaWdoLWJsb29kLXByZXNzdXJlL3VuZGVyc3RhbmRpbmctYmxvb2QtcHJlc3N1cmUtcmVhZGluZ3MvbW9uaXRvcmluZy15b3VyLWJsb29kLXByZXNzdXJlLWF0LWhvbWUnCiAgZWxzZSBpZiAiUHJlc2NyaWJlIEFtYnVsYXRvcnkgQlAgTW9uaXRvcmluZyIgdGhlbiAnaHR0cHM6Ly93d3cuaGVhcnQub3JnL2VuL2hlYWx0aC10b3BpY3MvaGlnaC1ibG9vZC1wcmVzc3VyZS91bmRlcnN0YW5kaW5nLWJsb29kLXByZXNzdXJlLXJlYWRpbmdzL21vbml0b3JpbmcteW91ci1ibG9vZC1wcmVzc3VyZS1hdC1ob21lJwogIGVsc2UgJycKCmRlZmluZSAiRXhjbHVzaW9uIFJlYXNvbiI6CiAgaWYgIk1lZXRzIEV4Y2x1c2lvbiBDcml0ZXJpYSIgdGhlbgogICAgKAogICAgICAnUGF0aWVudCB3YXMgZXhjbHVkZWQgZnJvbSBpbml0aWFsIGRpYWdub3NpcyBvZiBoeXBlcnRlbnNpb24gZHVlIHRvICcKICAgICAgKyAoCiAgICAgICAgICBpZiAiUGF0aWVudCBVbmRlciBBZ2UgMTgiIHRoZW4gJ2JlaW5nIHVuZGVyIHRoZSBhZ2Ugb2YgMTguJwogICAgICAgICAgZWxzZSBpZiAiUGF0aWVudCBPdmVyIEFnZSA4MCIgdGhlbiAnYmVpbmcgb3ZlciB0aGUgYWdlIG9mIDgwLicKICAgICAgICAgIGVsc2UgaWYgZXhpc3RzICJDb25kaXRpb24gSW5kaWNhdGluZyBFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSIgdGhlbiAnaGF2aW5nIGVuZCBzdGFnZSByZW5hbCBkaXNlYXNlLicKICAgICAgICAgIGVsc2UgaWYgZXhpc3RzICJDb25kaXRpb24gSW5kaWNhdGluZyBQcmVnbmFuY3kiIHRoZW4gJ2JlaW5nIHByZWduYW50LicKICAgICAgICAgIGVsc2UgJycKICAgICAgICApCiAgICApCiAgZWxzZSAnJwoKCi8qIFBhdGllbnQgRW50ZXJlZCBFbGV2YXRlZCBCUCBSZWFkaW5nIFRvZGF5ICovCi8vIE5PVEU6IE9mZmljZS1iYXNlZCB2aXNpdCBFbmNvdW50ZXIgdmFsdWVzZXQ/CmRlZmluZSAiUGF0aWVudCBBbWJ1bGF0b3J5IEVuY291bnRlcnMiOgogIFsiRW5jb3VudGVyIl0gUEUKICAgIHdoZXJlICgKICAgICAgUEUuc3RhdHVzIH4gJ2Fycml2ZWQnCiAgICAgIG9yIFBFLnN0YXR1cyB+ICdpbi1wcm9ncmVzcycKICAgICAgb3IgUEUuc3RhdHVzIH4gJ2ZpbmlzaGVkJwogICAgKQogICAgICBhbmQgUEUuY2xhc3MgfiAiYW1idWxhdG9yeSIKCgovKiBCbG9vZCBQcmVzc3VyZSBSZWFkaW5nICovCmRlZmluZSAiQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIjoKICAoQ29tbW9uLldpdGhVbml0KENvbW1vbi5RdWFsaWZpZWRPYnNlcnZhdGlvbihbT2JzZXJ2YXRpb246ICJCbG9vZCBQcmVzc3VyZSBNZWFzdXJlZCJdKSwgJ21tW0hnXScpKSBPCgpkZWZpbmUgIk1vc3QgUmVjZW50IEJQIjoKICBMYXN0KCJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIE8gc29ydCBieSBDb2FsZXNjZShpc3N1ZWQsIHN0YXJ0IG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihlZmZlY3RpdmUpKSkKCmRlZmluZSAiQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIGZvciBMYXN0IDIgWWVhcnMiOgogICgoCiAgICAiQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIiBCUAogICAgICB3aXRoICJNb3N0IFJlY2VudCBCUCIgTW9zdFJlY2VudEJQCiAgICAgICAgc3VjaCB0aGF0IENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihCUC5lZmZlY3RpdmUpIHN0YXJ0cyAyNCBtb250aHMgb3IgbGVzcyBiZWZvcmUgZW5kIG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihNb3N0UmVjZW50QlAuZWZmZWN0aXZlKQogICkKICB1bmlvbiB7ICJNb3N0IFJlY2VudCBCUCIgfSkgTwogICAgc29ydCBieSBDb2FsZXNjZShpc3N1ZWQsIHN0YXJ0IG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihlZmZlY3RpdmUpKQoKCmRlZmluZSAiQW1idWxhdG9yeSBCbG9vZCBQcmVzc3VyZSBNb25pdG9yaW5nIFByb2NlZHVyZXMiOgogIChDb21tb24uUXVhbGlmaWVkUHJvY2VkdXJlcyhbIlByb2NlZHVyZSI6ICJBbWJ1bGF0b3J5IEJsb29kIFByZXNzdXJlIE1vbml0b3JpbmcgKEFCUE0pIl0pKSBBQlBNUHJvY2VkdXJlCiAgICBsZXQgQUJQTVByb2NlZHVyZUludGVydmFsOiBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoQUJQTVByb2NlZHVyZS5wZXJmb3JtZWQpCiAgICAgIHdoZXJlIGV4aXN0cyAoCiAgICAgICAgIkJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyBmb3IgTGFzdCAyIFllYXJzIiBCUE9ic2VydmF0aW9uCiAgICAgICAgICB3aGVyZSBCUE9ic2VydmF0aW9uLnBhcnRPZi5yZWZlcmVuY2UgaW5jbHVkZXMgKCdQcm9jZWR1cmUvJyArIEFCUE1Qcm9jZWR1cmUuaWQpCiAgICAgICkKICAgICAgYW5kIGhvdXJzIGJldHdlZW4gc3RhcnQgb2YgQUJQTVByb2NlZHVyZUludGVydmFsIGFuZCBlbmQgb2YgQUJQTVByb2NlZHVyZUludGVydmFsID49IDEyCgpkZWZpbmUgIk9mZmljZSBCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiOgogICJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMgZm9yIExhc3QgMiBZZWFycyIgQlBPYnNlcnZhdGlvbgogICAgd2l0aCAiUGF0aWVudCBBbWJ1bGF0b3J5IEVuY291bnRlcnMiIEJQRW5jb3VudGVyCiAgICAgIHN1Y2ggdGhhdCBCUEVuY291bnRlci5jbGFzcyB+ICJhbWJ1bGF0b3J5IgogICAgICAgIGFuZCBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoQlBPYnNlcnZhdGlvbi5lZmZlY3RpdmUpIGR1cmluZyBCUEVuY291bnRlci5wZXJpb2QKCmRlZmluZSAiSG9tZSBCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiOgogICJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMgZm9yIExhc3QgMiBZZWFycyIgQlBPYnNlcnZhdGlvbgogICAgd2l0aG91dCAiUGF0aWVudCBBbWJ1bGF0b3J5IEVuY291bnRlcnMiIEJQRW5jb3VudGVyCiAgICAgIHN1Y2ggdGhhdCBCUEVuY291bnRlci5jbGFzcyB+ICJhbWJ1bGF0b3J5IgogICAgICAgIGFuZCBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoQlBPYnNlcnZhdGlvbi5lZmZlY3RpdmUpIGR1cmluZyBCUEVuY291bnRlci5wZXJpb2QKCmRlZmluZSAiQW1idWxhdG9yeSBCbG9vZCBQcmVzc3VyZSBNb25pdG9yaW5nIE9ic2VydmF0aW9ucyI6CiAgKExhc3QoIkFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUgTW9uaXRvcmluZyBQcm9jZWR1cmVzIiBQIHNvcnQgYnkgZW5kIG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihwZXJmb3JtZWQpKSkgQUJQTVByb2NlZHVyZQogICAgcmV0dXJuICgKICAgICAgIkJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyBmb3IgTGFzdCAyIFllYXJzIiBCUE9ic2VydmF0aW9uCiAgICAgIHdoZXJlIEJQT2JzZXJ2YXRpb24ucGFydE9mLnJlZmVyZW5jZSBpbmNsdWRlcyAoJ1Byb2NlZHVyZS8nICsgQUJQTVByb2NlZHVyZS5pZCkKICAgICkKCmRlZmluZSAiSGFzIEJQIFNldCI6CiAgaWYgZXhpc3RzICJBbWJ1bGF0b3J5IEJsb29kIFByZXNzdXJlIE1vbml0b3JpbmcgUHJvY2VkdXJlcyIgdGhlbiB0cnVlCiAgZWxzZSBpZiBDb3VudCgiT2ZmaWNlIEJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyIpID49IDQgdGhlbiB0cnVlCiAgZWxzZSBpZiBDb3VudCgiSG9tZSBCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiKSA+PSA2IHRoZW4gdHJ1ZQogIGVsc2UgZmFsc2UKCmRlZmluZSAiTW9zdCBSZWNlbnQgQlAgU2V0IjoKICBpZiBleGlzdHMgIkFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUgTW9uaXRvcmluZyBQcm9jZWR1cmVzIiB0aGVuCiAgICAiQW1idWxhdG9yeSBCbG9vZCBQcmVzc3VyZSBNb25pdG9yaW5nIE9ic2VydmF0aW9ucyIKICBlbHNlIGlmIENvdW50KCJPZmZpY2UgQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIikgPj0gNCB0aGVuCiAgICBUYWtlKAogICAgICAoIk9mZmljZSBCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIE8KICAgICAgICBzb3J0IGJ5IENvYWxlc2NlKGlzc3VlZCwgZW5kIG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihlZmZlY3RpdmUpKSBkZXNjCiAgICAgICksIDQpCiAgZWxzZSBpZiBDb3VudCgiSG9tZSBCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiKSA+PSA2IHRoZW4KICAgIFRha2UoCiAgICAgICgiSG9tZSBCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIE8KICAgICAgICBzb3J0IGJ5IENvYWxlc2NlKGlzc3VlZCwgZW5kIG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIihlZmZlY3RpdmUpKSBkZXNjCiAgICAgICksIDYpCiAgZWxzZSBudWxsCgoKLyogQmxvb2QgUHJlc3N1cmUgV29ya2Zsb3cgKi8KZGVmaW5lICJQYXRpZW50IEhhcyBBYm92ZSBOb3JtYWwgQlAiOgogIENvbW1vbi4iRWxldmF0ZWQgb3IgQWJvdmUgQlAiKHsgIk1vc3QgUmVjZW50IEJQIiB9KSBpcyBub3QgbnVsbAoKLy8gRG9lcyBwYXRpZW50IGhhdmUgJ3NldCcgb2YgQlBzPwpkZWZpbmUgIlBhdGllbnQgaGFzIFNldCBvZiBCUCBPYnNlcnZhdGlvbnMiOgogIGlmICJJbiBQb3B1bGF0aW9uIiBpcyBub3QgdHJ1ZSB0aGVuCiAgICBmYWxzZQogIGVsc2UKICAgICJIYXMgQlAgU2V0IgoKZGVmaW5lICJQYXRpZW50IGRvZXMgbm90IGhhdmUgYSBTZXQgb2YgQlAgT2JzZXJ2YXRpb25zIjoKICBpZiAiSW4gUG9wdWxhdGlvbiIgaXMgbm90IHRydWUgdGhlbgogICAgZmFsc2UKICBlbHNlCiAgICBub3QgIkhhcyBCUCBTZXQiCgpkZWZpbmUgIkFsbCBCUCI6CiAgIkJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyBmb3IgTGFzdCAyIFllYXJzIgoKLy8gSXMgU0JQID4gMTgwIGFuZC9vciBEQlAgPiAxMjA/CmRlZmluZSAiUGF0aWVudCBIYXMgSHlwZXJ0ZW5zaXZlIEJQIjoKICBDb21tb24uIkhUTiBDcmlzaXMgQlAiKHsgIk1vc3QgUmVjZW50IEJQIiB9KSBpcyBub3QgbnVsbAoKZGVmaW5lICJIVE4gQ3Jpc2lzIjoKICBpZiAiSW4gUG9wdWxhdGlvbiIgaXMgbm90IHRydWUgdGhlbgogICAgZmFsc2UKICBlbHNlCiAgICAiUGF0aWVudCBIYXMgSHlwZXJ0ZW5zaXZlIEJQIgoKLy8gSXMgbGFzdCBCUCBzZXQgb3IgYWxsIEJQcyBhdmVyYWdlID4gMTQwIFNCUCBvciA+IDkwIERCUD8KZGVmaW5lICJQYXRpZW50IEhhcyBQb3RlbnRpYWwgSFROIFN0YWdlIDIgQlAiOgogICgKICAgIENvbW1vbi4iSFROIFN0YWdlIDIgQlAiKCJNb3N0IFJlY2VudCBCUCBTZXQiKSBpcyBub3QgbnVsbAogICAgb3IgQ29tbW9uLiJIVE4gU3RhZ2UgMiBCUCIoIkFsbCBCUCIpIGlzIG5vdCBudWxsCiAgKQoKLy8gSXMgbGFzdCBCUCBzZXQgb3IgYWxsIEJQcyBhdmVyYWdlID4gMTYwIFNCUD8KZGVmaW5lICJQYXRpZW50IEhhcyBIVE4gU3RhZ2UgMiBCUCI6CiAgIlBhdGllbnQgSGFzIFBvdGVudGlhbCBIVE4gU3RhZ2UgMiBCUCIKICAgIGFuZCAoCiAgICAgICAgQ29tbW9uLiJIVE4gU3RhZ2UgMiBCUCBTeXN0b2xpYyBTZWNvbmQgVGVzdCIoIk1vc3QgUmVjZW50IEJQIFNldCIpIGlzIG5vdCBudWxsCiAgICAgICAgb3IgQ29tbW9uLiJIVE4gU3RhZ2UgMiBCUCBTeXN0b2xpYyBTZWNvbmQgVGVzdCIoIkFsbCBCUCIpIGlzIG5vdCBudWxsCiAgICApCgpkZWZpbmUgIkhUTiBTdGFnZSAyIjoKICBpZiAiSW4gUG9wdWxhdGlvbiIgaXMgbm90IHRydWUgdGhlbgogICAgZmFsc2UKICBlbHNlCiAgICAiUGF0aWVudCBIYXMgSFROIFN0YWdlIDIgQlAiCgpkZWZpbmUgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIjoKICBpZiAiSW4gUG9wdWxhdGlvbiIgaXMgbm90IHRydWUgdGhlbgogICAgZmFsc2UKICBlbHNlCiAgICAiUGF0aWVudCBIYXMgUG90ZW50aWFsIEhUTiBTdGFnZSAyIEJQIgogICAgICBhbmQgbm90ICJQYXRpZW50IEhhcyBIVE4gU3RhZ2UgMiBCUCIKCi8vIElzIGxhc3QgQlAgc2V0IEFORCBhbGwgQlBzIGF2ZyA+IDEzMC84MD8KZGVmaW5lICJQYXRpZW50IEhhcyBQb3RlbnRpYWwgSFROIFN0YWdlIDEgQlAiOgogICgKICAgIENvbW1vbi4iSFROIFN0YWdlIDEgQlAiKCJNb3N0IFJlY2VudCBCUCBTZXQiKSBpcyBub3QgbnVsbAogICAgYW5kIENvbW1vbi4iSFROIFN0YWdlIDEgQlAiKCJBbGwgQlAiKSBpcyBub3QgbnVsbAogICkKCmRlZmluZSAiQ29uc2lkZXIgSFROIFN0YWdlIDEiOgogIGlmICJJbiBQb3B1bGF0aW9uIiBpcyBub3QgdHJ1ZSB0aGVuCiAgICBmYWxzZQogIGVsc2UKICAgICJQYXRpZW50IEhhcyBQb3RlbnRpYWwgSFROIFN0YWdlIDEgQlAiCgovLyBJcyBsYXN0IEJQIHNldCBvciBhbGwgQlBzIGF2Z2UgPiAxMzAvODA/CmRlZmluZSAiQ29uZmlybSBIVE4iOgogICgKICAgIENvbW1vbi4iSFROIFN0YWdlIDEgQlAiKCJNb3N0IFJlY2VudCBCUCBTZXQiKSBpcyBub3QgbnVsbAogICAgb3IgQ29tbW9uLiJIVE4gU3RhZ2UgMSBCUCIoIkFsbCBCUCIpIGlzIG5vdCBudWxsCiAgKQoKZGVmaW5lICJQcmVzY3JpYmUgSEJQIG9yIEFCUCBNb25pdG9yaW5nIjoKICBpZiAiSW4gUG9wdWxhdGlvbiIgaXMgbm90IHRydWUgdGhlbgogICAgZmFsc2UKICBlbHNlCiAgICAiQ29uZmlybSBIVE4iCgovLyBJcyBTQlAgQ29lZmYgb2YgVmFyID4gMTEgZm9yIGFsbCBCUHMgYW5kIG5vIEFCUE0/CmRlZmluZSAiQ29uZmlybSBuZWVkIGZvciBQYXRpZW50IEFtYnVsYXRvcnkgQlAgTW9uaXRvcmluZyI6CiAgaWYgIlBhdGllbnQgaGFzIFNldCBvZiBCUCBPYnNlcnZhdGlvbnMiIHRoZW4KICAgICgKICAgICAgQ29tbW9uLiJTeXN0b2xpYyBCUCBWYXJpYWJpbGl0eSIoIkFsbCBCUCIpLnZhbHVlID4gMTEKICAgICAgYW5kIG5vdCBleGlzdHMgIkFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUgTW9uaXRvcmluZyBQcm9jZWR1cmVzIgogICAgKQogIGVsc2UgbnVsbAoKZGVmaW5lICJQcmVzY3JpYmUgQW1idWxhdG9yeSBCUCBNb25pdG9yaW5nIjoKICBpZiAiSW4gUG9wdWxhdGlvbiIgaXMgbm90IHRydWUgdGhlbgogICAgZmFsc2UKICBlbHNlCiAgICAiQ29uZmlybSBuZWVkIGZvciBQYXRpZW50IEFtYnVsYXRvcnkgQlAgTW9uaXRvcmluZyIKCmRlZmluZSAiTm8gRnVydGhlciBBY3Rpb24iOgogIG5vdCAoCiAgICAiSFROIENyaXNpcyIKICAgIGFuZCAiRGlhZ25vc2lzIG9mIFByZWV4aXN0aW5nIEh5cGVydGVuc2lvbiIKICAgIGFuZCAiUGF0aWVudCBkb2VzIG5vdCBoYXZlIGEgU2V0IG9mIEJQIE9ic2VydmF0aW9ucyIKICAgIGFuZCAiSFROIFN0YWdlIDIiCiAgICBhbmQgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIgogICAgYW5kICJDb25zaWRlciBIVE4gU3RhZ2UgMSIKICAgIGFuZCAiUHJlc2NyaWJlIEhCUCBvciBBQlAgTW9uaXRvcmluZyIKICAgIGFuZCAiUHJlc2NyaWJlIEFtYnVsYXRvcnkgQlAgTW9uaXRvcmluZyIKICApCgoKLyogRXhjbHVzaW9uIENyaXRlcmlhICovCmRlZmluZSAiUGF0aWVudCBVbmRlciBBZ2UgMTgiOgogIEFnZUluWWVhcnNBdChzdGFydCBvZiBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoIk1vc3QgUmVjZW50IEJQIi5lZmZlY3RpdmUpKSA8IDE4CgpkZWZpbmUgIlBhdGllbnQgT3ZlciBBZ2UgODAiOgogIEFnZUluWWVhcnNBdChzdGFydCBvZiBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoIk1vc3QgUmVjZW50IEJQIi5lZmZlY3RpdmUpKSA+IDgwCgpkZWZpbmUgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIEVuZCBTdGFnZSBSZW5hbCBEaXNlYXNlIjoKICAoQ29tbW9uLlF1YWxpZmllZENvbmRpdGlvbihbIkNvbmRpdGlvbiI6ICJFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSJdKSkgRVNSRAogICAgd2l0aCAiTW9zdCBSZWNlbnQgQlAiIFJlY2VudEJQCiAgICAgIHN1Y2ggdGhhdCBDb21tb24uIlByZXZhbGVuY2UgUGVyaW9kIihFU1JEKSBvdmVybGFwcyBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoUmVjZW50QlAuZWZmZWN0aXZlKQoKZGVmaW5lICJDb25kaXRpb24gSW5kaWNhdGluZyBQcmVnbmFuY3kiOgogIChDb21tb24uUXVhbGlmaWVkQ29uZGl0aW9uKFsiQ29uZGl0aW9uIjogIlByZWduYW5jeSJdKSkgUHJlZ25hbmN5CiAgICB3aXRoICJNb3N0IFJlY2VudCBCUCIgUmVjZW50QlAKICAgICAgc3VjaCB0aGF0IENvbW1vbi4iUHJldmFsZW5jZSBQZXJpb2QiKFByZWduYW5jeSkgb3ZlcmxhcHMgQ29tbW9uLiJOb3JtYWxpemUgSW50ZXJ2YWwiKFJlY2VudEJQLmVmZmVjdGl2ZSkKCi8vIEhhcyBwYXRpZW50IGFscmVhZHkgYmVlbiBkaWFnbm9zZWQgd2l0aCBIVE4/CmRlZmluZSAiQ29uZGl0aW9uIEluZGljYXRpbmcgUHJlZXhpc3RpbmcgSHlwZXJ0ZW5zaW9uIjoKICAoCiAgICAoQ29tbW9uLlF1YWxpZmllZENvbmRpdGlvbihbIkNvbmRpdGlvbiI6ICJIeXBlcnRlbnNpb24iXSkpCiAgICB1bmlvbiAoQ29tbW9uLlF1YWxpZmllZENvbmRpdGlvbihbIkNvbmRpdGlvbiI6ICJOb24gZXNzZW50aWFsIEh5cGVydGVuc2lvbiBTTk9NRURDVCJdKSkKICApIFByZWV4aXN0aW5nQ29uZGl0aW9uCiAgICB3aXRoICJNb3N0IFJlY2VudCBCUCIgUmVjZW50QlAKICAgICAgc3VjaCB0aGF0IENvbW1vbi4iUHJldmFsZW5jZSBQZXJpb2QiKFByZWV4aXN0aW5nQ29uZGl0aW9uKSBvdmVybGFwcyBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoUmVjZW50QlAuZWZmZWN0aXZlKQoKZGVmaW5lICJEaWFnbm9zaXMgb2YgUHJlZXhpc3RpbmcgSHlwZXJ0ZW5zaW9uIjoKICBpZiAiSW4gUG9wdWxhdGlvbiIgaXMgbm90IHRydWUgdGhlbgogICAgZmFsc2UKICBlbHNlCiAgICBleGlzdHMgIkNvbmRpdGlvbiBJbmRpY2F0aW5nIFByZWV4aXN0aW5nIEh5cGVydGVuc2lvbiIKCgovKiBURVNUUyAqLwpkZWZpbmUgIlRlc3QgUGF0aWVudCBBZ2Ugb24gQlAgUmVhZGluZyI6CiAgQWdlSW5ZZWFyc0F0KHN0YXJ0IG9mIENvbW1vbi4iTm9ybWFsaXplIEludGVydmFsIigiTW9zdCBSZWNlbnQgQlAiLmVmZmVjdGl2ZSkpCgpkZWZpbmUgIlRlc3QgQ291bnQgQWxsIEJQIjoKICBDb3VudCgiQWxsIEJQIikKCmRlZmluZSAiVGVzdCBNb3N0IFJlY2VudCBCUCI6CiAgIk1vc3QgUmVjZW50IEJQIiBCUAogICAgcmV0dXJuIFR1cGxlIHsKICAgICAgIklEIjogQlAuaWQsCiAgICAgICJEYXRlIjogQlAuZWZmZWN0aXZlLmVuZCwKICAgICAgIlN5c3RvbGljIjogc2luZ2xldG9uIGZyb20gKEJQLmNvbXBvbmVudCBDIHdoZXJlIEMuY29kZSBpbiAiU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUiKS52YWx1ZS52YWx1ZSwKICAgICAgIkRpYXN0b2xpYyI6IHNpbmdsZXRvbiBmcm9tIChCUC5jb21wb25lbnQgQyB3aGVyZSBDLmNvZGUgaW4gIkRpYXN0b2xpYyBCbG9vZCBQcmVzc3VyZSIpLnZhbHVlLnZhbHVlCiAgICB9CgpkZWZpbmUgIlRlc3QgR2V0IEFsbCBCUCBPYnNlcnZhdGlvbiBSZXNvdXJjZXMiOgogICgiQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIiBCUCBzb3J0IGJ5IENvYWxlc2NlKGlzc3VlZCwgc3RhcnQgb2YgQ29tbW9uLiJOb3JtYWxpemUgSW50ZXJ2YWwiKGVmZmVjdGl2ZSkpKSBCUAogICAgcmV0dXJuIFR1cGxlIHsKICAgICAgIk9ic2VydmF0aW9uIElEIjogQlAuaWQKICAgICAgfQoKZGVmaW5lICJUZXN0IEdldCBFbmNvdW50ZXIgQlAgT2JzZXJ2YXRpb25zIjoKICBmcm9tCiAgICAiQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIiBCUE9ic2VydmF0aW9uLAogICAgICAiUGF0aWVudCBBbWJ1bGF0b3J5IEVuY291bnRlcnMiIEJQRW5jb3VudGVyCiAgICAgICAgd2hlcmUgQlBFbmNvdW50ZXIuY2xhc3MgfiAiYW1idWxhdG9yeSIKICAgICAgICAgIGFuZCBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoQlBPYnNlcnZhdGlvbi5lZmZlY3RpdmUpIGR1cmluZyBCUEVuY291bnRlci5wZXJpb2QKICAgICAgcmV0dXJuIFR1cGxlIHsKICAgICAgICAiT2JzZXJ2YXRpb24gSUQiOiBCUE9ic2VydmF0aW9uLmlkLAogICAgICAgICJFbmNvdW50ZXIgSUQiOiBCUEVuY291bnRlci5pZAogICAgICAgIH0KCmRlZmluZSAiVGVzdCBHZXQgTW9zdCBSZWNlbnQgQlAgU2V0IjoKICAiTW9zdCBSZWNlbnQgQlAgU2V0IiBCUFNldAogICAgcmV0dXJuIFR1cGxlIHsKICAgICAgIk9ic2VydmF0aW9uIElEIjogQlBTZXQuaWQsCiAgICAgICJFbmNvdW50ZXIgUmVmZXJlbmNlIjogQlBTZXQuZW5jb3VudGVyLnJlZmVyZW5jZQogICAgICB9CgpkZWZpbmUgIlRlc3QgQWxsIEJQIExhc3QgMiBZZWFycyI6CiAgIkJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyBmb3IgTGFzdCAyIFllYXJzIiBCUHMKICAgIHJldHVybiBUdXBsZSB7CiAgICAgICJPYnNlcnZhdGlvbiBJRCI6IEJQcy5pZCwKICAgICAgIkRhdGUiOiBCUHMuZWZmZWN0aXZlLmVuZCwKICAgICAgIkVuY291bnRlciBSZWZlcmVuY2UiOiBCUHMuZW5jb3VudGVyLnJlZmVyZW5jZQogICAgICB9CgpkZWZpbmUgIlRlc3QgR2V0IEF2ZXJhZ2UgQWxsIEJQIExhc3QgMiBZZWFycyI6CiAgQ29tbW9uLiJBdmcgQlAiKCJBbGwgQlAiKQoKZGVmaW5lICJUZXN0IEdldCBBdmVyYWdlIE1vc3QgUmVjZW50IEJQIFNldCI6CiAgQ29tbW9uLiJBdmcgQlAiKCJNb3N0IFJlY2VudCBCUCBTZXQiKQoKZGVmaW5lICJUZXN0IEdldCBBbGwgQlAgU0JQIENvZWZmaWNpZW50IFZhcmlhYmlsaXR5IjoKICBDb21tb24uIlN5c3RvbGljIEJQIFZhcmlhYmlsaXR5IigiQWxsIEJQIikudmFsdWUK"
  } ]
}