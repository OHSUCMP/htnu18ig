{
  "resourceType": "Library",
  "id": "library-Hypertension",
  "meta": {
    "versionId": "1",
    "lastUpdated": "2020-04-15T12:00:00.000-07:00"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/ohsu/htnu18ig/Library/Hypertension",
  "version": "0.1",
  "name": "Hypertension",
  "title": "Initial Diagnosis Logic",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://hl7.org/fhir/library-type",
      "code": "logic-library",
      "display": "Logic Library"
    } ]
  },
  "date": "2020-04-15T00:00:00-08:00",
  "publisher": "Oregon Health and Science University (OHSU)",
  "description": "Decision logic for identifying hypertension in undiagnosed patients",
  "useContext": [ {
    "code": {
      "system": "http://hl7.org/fhir/usage-context-type",
      "code": "focus",
      "display": "Clinical Focus"
    }
  } ],
  "jurisdiction": [ {
    "coding": [ {
      "system": "urn:iso:std:iso:3166",
      "code": "US",
      "display": "United States of America"
    } ]
  } ],
  "purpose": "The purpose of this is to act as a 'hello world' sort of simple logic for testing end-to-end processing of the system.",
  "usage": "This is to be used in conjunction with a patient-facing FHIR application.",
  "copyright": "Â© OHSU 2020+.",
  "topic": [ {
    "text": "Hypertension Management"
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBIeXBlcnRlbnNpb24gdmVyc2lvbiAnMC4xJw0KDQp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJw0KDQppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJyBjYWxsZWQgRkhJUkhlbHBlcnMNCmluY2x1ZGUgT0hTVUhUTkNvbW1vbiB2ZXJzaW9uICcwLjEnIGNhbGxlZCBDb21tb24NCg0KY29kZXN5c3RlbSAidjMgQ29kZSBTeXN0ZW0gQWN0Q29kZSI6ICdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL3YzLUFjdENvZGUnDQoNCi8qIEluY2x1c2lvbiAqLw0KdmFsdWVzZXQgIlN5c3RvbGljIGJsb29kIHByZXNzdXJlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTEwNC4yJw0KdmFsdWVzZXQgIkRpYXN0b2xpYyBCbG9vZCBQcmVzc3VyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMi4xMDQ1Jw0KDQpjb2RlICJhbWJ1bGF0b3J5IjogJ0FNQicgZnJvbSAidjMgQ29kZSBTeXN0ZW0gQWN0Q29kZSIgZGlzcGxheSAnYW1idWxhdG9yeScNCg0KY29udGV4dCBQYXRpZW50DQoNCmRlZmluZSAiSW5mbyI6DQogICdpbmZvJw0KDQpkZWZpbmUgIldhcm5pbmciOg0KICAnd2FybmluZycNCg0KZGVmaW5lICJDcml0aWNhbCI6DQogICdjcml0aWNhbCcNCg0KZGVmaW5lICJFcnJvcnMiOg0KICBudWxsDQoNCmRlZmluZSAiUGF0aWVudCBOYW1lIjoNCiAgRmlyc3QoUGF0aWVudC5uYW1lLmdpdmVuKQ0KICAgKyAnICcgKw0KICBGaXJzdChQYXRpZW50Lm5hbWUuZmFtaWx5KQ0KDQoNCi8qIFJlY29tbWVuZGF0aW9uIENyaXRlcmlhIC0gSHlwZXJ0ZW5zaW9uICAqLw0KZGVmaW5lICJNZWV0cyBJbmNsdXNpb24gQ3JpdGVyaWEiOg0KIG5vdCBleGlzdHMgQ29tbW9uLiJDb25kaXRpb24gSW5kaWNhdGluZyBQcmVleGlzdGluZyBIeXBlcnRlbnNpb24iDQoNCmRlZmluZSAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIjoNCiAgQ29tbW9uLiJQYXRpZW50IFVuZGVyIEFnZSAxOCINCiAgICBvciBDb21tb24uIlBhdGllbnQgT3ZlciBBZ2UgODAiDQogICAgb3IgZXhpc3RzIENvbW1vbi4iQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiDQogICAgb3IgZXhpc3RzIENvbW1vbi4iQ29uZGl0aW9uIEluZGljYXRpbmcgUHJlZ25hbmN5Ig0KICAgIG9yIENvbW1vbi4iSFROIENyaXNpcyINCg0KZGVmaW5lICJJbiBQb3B1bGF0aW9uIjoNCiAgIk1lZXRzIEluY2x1c2lvbiBDcml0ZXJpYSINCiAgYW5kIG5vdCAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIg0KDQpkZWZpbmUgIlJlY29tbWVuZGF0aW9uIjoNCiAgaWYgbm90ICJJbiBQb3B1bGF0aW9uIiB0aGVuICdOb25lJw0KICBlbHNlIGlmIG5vdCBDb21tb24uIkhhcyBCUCBTZXQiIHRoZW4gJ0NvbnNpZGVyIG9idGFpbmluZyBhZGRpdGlvbmFsIGJsb29kIHByZXNzdXJlIG1lYXN1cmVtZW50cy4nDQogIGVsc2UgaWYgIkhUTiBTdGFnZSAyIiB0aGVuICdDb25zaWRlciBkaWFnbm9zaXMgb2YgU3RhZ2UgMiBoeXBlcnRlbnNpb24uJw0KICBlbHNlIGlmICJDb25zaWRlciBIVE4gU3RhZ2UgMiIgdGhlbiAnQ29uc2lkZXIgZGlhZ25vc2lzIG9mIFN0YWdlIDIgaHlwZXJ0ZW5zaW9uLicNCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDEiIHRoZW4gJ0NvbnNpZGVyIGRpYWdub3NpcyBvZiBTdGFnZSAxIGh5cGVydGVuc2lvbi4nDQogIGVsc2UgaWYgIlByZXNjcmliZSBNb25pdG9yaW5nIHRvIENvbmZpcm0gSFROIiB0aGVuICdVc2UgYW1idWxhdG9yeSBvciBob21lIGJsb29kIHByZXNzdXJlIG1vbml0b3JpbmcgdG8gY29uZmlybSBkaWFnbm9zaXMuJw0KICBlbHNlIGlmIENvbW1vbi4iQlAgSGlnaGx5IFZhcmlhYmxlIiB0aGVuICdVc2UgYW1idWxhdG9yeSBibG9vZCBwcmVzc3VyZSBtb25pdG9yaW5nIHRvIGFkZHJlc3MgYmxvb2QgcHJlc3N1cmUgdmFyaWFiaWxpdHkuJw0KICBlbHNlICcnDQoNCmRlZmluZSAiUmF0aW9uYWxlIENvbWJpbmVkIERhdGEiOg0KICAiUmF0aW9uYWxlIiArICd8JyArICJTdWdnZXN0aW9ucyIgKyAnfCcgKyAiU2VsZWN0aW9uIEJlaGF2aW9yIiArICd8JyArICJMaW5rcyINCg0KZGVmaW5lICJSYXRpb25hbGUiOg0KICBpZiBub3QgIkluIFBvcHVsYXRpb24iIHRoZW4gJ05vbmUnDQogIGVsc2UgaWYgbm90IENvbW1vbi4iSGFzIEJQIFNldCIgdGhlbiAne3sjcGF0aWVudH19WW91IHJlY2VudGx5IGhhZCBhIGhpZ2ggYmxvb2QgcHJlc3N1cmUgcmVhZGluZywgYnV0IDxzdHJvbmc+d2UgZG8gbm90IGhhdmUgZW5vdWdoIGJsb29kIHByZXNzdXJlIG1lYXN1cmVtZW50czwvc3Ryb25nPiB0byBvYnRhaW4gYSBmdWxsIHBpY3R1cmUgb2YgeW91ciBjdXJyZW50IGhlYWx0aC4gV2UgY29uc2lkZXIgYSBmdWxsIHNldCBvZiBtZWFzdXJlbWVudHMgdG8gYmUgbW9yZSB0aGFuIDQgaW4tb2ZmaWNlIG1lYXN1cmVtZW50cywgNiBob21lIG1lYXN1cmVtZW50cywgb3IgMjQgaG91cnMgb2YgYW1idWxhdG9yeSBtb25pdG9yaW5nLnt7L3BhdGllbnR9fXt7I2NhcmVUZWFtfX1QYXRpZW50IGRvZXMgbm90IGhhdmUgZW5vdWdoIGJsb29kIHByZXNzdXJlcyB0byBtYWtlIGEgc3Ryb25nIGRldGVybWluYXRpb24gb2YgY29udHJvbCBvciBkaWFnbm9zaXMuICBXZSBjb25zaWRlciBhIGZ1bGwgc2V0IHRvIGJlIG1vcmUgdGhhbiA0IGluLW9mZmljZSBtZWFzdXJlbWVudHMsIDYgaG9tZSBtZWFzdXJlbWVudHMsIG9yIDI0IGhvdXJzIG9mIGFtYnVsYXRvcnkgbW9uaXRvcmluZy57ey9jYXJlVGVhbX19Jw0KICBlbHNlIGlmICJIVE4gU3RhZ2UgMiIgdGhlbiAne3sjcGF0aWVudH19WW91IGhhZCBtdWx0aXBsZSBoaWdoIGJsb29kIHByZXNzdXJlIHJlYWRpbmdzIHJlY2VudGx5ICjiiaUgMTQwIG1tSGcgc3lzdG9saWMgYW5kL29yIOKJpSA5MCBtbUhnIGRpYXN0b2xpYykuIFRoZXNlIHJlYWRpbmdzIDxzdHJvbmc+c3VnZ2VzdCB5b3UgaGF2ZSBzdGFnZSAyIGh5cGVydGVuc2lvbjwvc3Ryb25nPiwgYSB0cmVhdGFibGUgY29uZGl0aW9uIG9mIGhpZ2ggYmxvb2QgcHJlc3N1cmUuIFBsZWFzZSBkaXNjdXNzIG5leHQgc3RlcHMgd2l0aCB5b3VyIGNhcmUgdGVhbS57ey9wYXRpZW50fX17eyNjYXJlVGVhbX19UGF0aWVudCBoYWQgbXVsdGlwbGUgYmxvb2QgcHJlc3N1cmUgcmVhZGluZ3Mgb2YgU0JQID49IDE0MCBtbSBIRyBhbmQvb3IgREJQID49IDkwIG1tIEhnLiBUaGlzIHN0cm9uZ2x5IHN1Z2dlc3RzIHRoZSBwYXRpZW50IGhhcyBTdGFnZSAyIEh5cGVydGVuc2lvbiBidXQgbm8gZGlhZ25vc2lzIHdhcyBmb3VuZC57ey9jYXJlVGVhbX19Jw0KICBlbHNlIGlmICJDb25zaWRlciBIVE4gU3RhZ2UgMiIgdGhlbiAne3sjcGF0aWVudH19WW91IHJlY2VudGx5IGhhZCBoaWdoIGJsb29kIHByZXNzdXJlIHJlYWRpbmdzICjiiaUgMTQwIG1tSGcgc3lzdG9saWMgYW5kL29yIOKJpSBtbUhnIDkwIGRpYXN0b2xpYykgd2hpY2ggPHN0cm9uZz5zdWdnZXN0IHlvdSBoYXZlIGh5cGVydGVuc2lvbjwvc3Ryb25nPiwgYnV0IHRoZXJlIGlzIG5vIGRpYWdub3NpcyBpbiB5b3VyIGNoYXJ0LiBZb3UgbWF5IHdhbnQgdG8gZGlzY3VzcyB5b3VyIGJsb29kIHByZXNzdXJlIHdpdGggeW91ciBjYXJlIHRlYW0ue3svcGF0aWVudH19e3sjY2FyZVRlYW19fVBhdGllbnQgaGFkIG11bHRpcGxlIGJsb29kIHByZXNzdXJlIHJlYWRpbmdzIG9mIFNCUCA+IDE0MG1tIEhnIGFuZC9vciBEQlAgPiA5MC4gVGhpcyBzdWdnZXN0cyB0aGUgcGF0aWVudCBtYXkgaGF2ZSBTdGFnZSAyIEh5cGVydGVuc2lvbiwgYnV0IG5vIGRpYWdub3NpcyB3YXMgZm91bmQue3svY2FyZVRlYW19fScNCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDEiIHRoZW4gJ3t7I3BhdGllbnR9fVlvdSByZWNlbnRseSBoYWQgaGlnaCBibG9vZCBwcmVzc3VyZSByZWFkaW5ncyAo4omlIDEzMCBtbUhnIHN5c3RvbGljIGFuZC9vciDiiaUgODAgbW1IZyBkaWFzdG9saWMpIHdoaWNoIDxzdHJvbmc+c3VnZ2VzdCB5b3UgaGF2ZSBoeXBlcnRlbnNpb248L3N0cm9uZz4sIGJ1dCBkbyBub3QgaGF2ZSBhIHJlY29yZGVkIGRpYWdub3NpcyBvZiBoeXBlcnRlbnNpb24uIFlvdSBtYXkgd2FudCB0byBkaXNjdXNzIHlvdXIgYmxvb2QgcHJlc3N1cmUgd2l0aCB5b3VyIGNhcmUgdGVhbS57ey9wYXRpZW50fX17eyNjYXJlVGVhbX19UGF0aWVudCBoYWQgbXVsdGlwbGUgYmxvb2QgcHJlc3N1cmUgcmVhZGluZ3Mgb2YgU0JQID4gMTMwbW0gSGcgYW5kL29yIERCUCA+IDgwLiBUaGlzIHN1Z2dlc3RzIHRoZSBwYXRpZW50IG1heSBoYXZlIFN0YWdlIDEgSHlwZXJ0ZW5zaW9uLCBidXQgbm8gZGlhZ25vc2lzIHdhcyBmb3VuZC57ey9jYXJlVGVhbX19Jw0KICBlbHNlIGlmICJQcmVzY3JpYmUgTW9uaXRvcmluZyB0byBDb25maXJtIEhUTiIgdGhlbiAne3sjcGF0aWVudH19WW91IHJlY2VudGx5IGhhZCBhIDxzdHJvbmc+aGlnaCBibG9vZCBwcmVzc3VyZSByZWFkaW5nPC9zdHJvbmc+LCBidXQgZG8gbm90IGhhdmUgYSByZWNvcmRlZCBkaWFnbm9zaXMgb2YgaHlwZXJ0ZW5zaW9uLiBEaXNjdXNzIG91dCBvZiBvZmZpY2UgYmxvb2QgcHJlc3N1cmUgbW9uaXRvcmluZyB3aXRoIHlvdXIgY2FyZSB0ZWFtLnt7L3BhdGllbnR9fXt7I2NhcmVUZWFtfX1JbiBhZHVsdHMgd2l0aCBzdXNwZWN0ZWQgaHlwZXJ0ZW5zaW9uIGFuZCB3aXRob3V0IGRpYWdub3N0aWMgdW5jZXJ0YWludHkgb3IgQlAgdmFyaWFiaWxpdHksIHVzZSBBbWJ1bGF0b3J5IEJsb29kIFByZXNzdXJlIE1vbml0b3Jpbmcgb3IgSEJQTSBmb3IgZGlhZ25vc3RpYyBjb25maXJtYXRpb24ue3svY2FyZVRlYW19fScNCiAgZWxzZSBpZiBDb21tb24uIkJQIEhpZ2hseSBWYXJpYWJsZSIgdGhlbiAne3sjcGF0aWVudH19WW91IHJlY2VudGx5IGhhdmUgaGFkIHNvbWUgPHN0cm9uZz52YXJpYXRpb24gaW4geW91ciBibG9vZCBwcmVzc3VyZSByZWFkaW5nczwvc3Ryb25nPi4gU29tZXRpbWVzIHZhcmlhdGlvbiBpbiBibG9vZCBwcmVzc3VyZSBpcyBhIGhlYWx0aCByaXNrOyBwbGVhc2UgY29udGFjdCB5b3VyIGNhcmUgdGVhbSwgYXMgdGhleSBtYXkgcmVjb21tZW5kIGFtYnVsYXRvcnkgYmxvb2QgcHJlc3N1cmUgbW9uaXRvcmluZy57ey9wYXRpZW50fX17eyNjYXJlVGVhbX19SW4gYWR1bHRzIHdpdGggc3VzcGVjdGVkIGJsb29kIHByZXNzdXJlIHZhcmlhYmlsaXR5LCB1c2UgQW1idWxhdG9yeSBCbG9vZCBQcmVzc3VyZSBNb25pdG9yaW5nIHRvIGJldHRlciB1bmRlcnN0YW5kIHJpc2sue3svY2FyZVRlYW19fScNCiAgZWxzZSAnJw0KDQpkZWZpbmUgIkluZGljYXRvciBTdGF0dXMiOg0KICBpZiBub3QgIkluIFBvcHVsYXRpb24iIHRoZW4gIkluZm8iDQogIGVsc2UgaWYgbm90IENvbW1vbi4iSGFzIEJQIFNldCIgdGhlbiAiSW5mbyINCiAgZWxzZSBpZiAiSFROIFN0YWdlIDIiIHRoZW4gIldhcm5pbmciDQogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIiB0aGVuICJJbmZvIg0KICBlbHNlIGlmICJDb25zaWRlciBIVE4gU3RhZ2UgMSIgdGhlbiAiSW5mbyINCiAgZWxzZSBpZiAiUHJlc2NyaWJlIE1vbml0b3JpbmcgdG8gQ29uZmlybSBIVE4iIHRoZW4gIkluZm8iDQogIGVsc2UgaWYgQ29tbW9uLiJCUCBIaWdobHkgVmFyaWFibGUiIHRoZW4gIkluZm8iDQogIGVsc2UgIkluZm8iDQoNCmRlZmluZSAiU3VnZ2VzdGlvbnMiOg0KICBpZiBub3QgIkluIFBvcHVsYXRpb24iIHRoZW4gJ05vbmUnDQogIGVsc2UgaWYgbm90IENvbW1vbi4iSGFzIEJQIFNldCIgdGhlbiAnWyB7ICJpZCI6ICJlbnRlci1icC1zdWdnZXN0aW9uIiwgImxhYmVsIjogIkVudGVyIEJsb29kIFByZXNzdXJlIiwgInR5cGUiOiAic3VnZ2VzdGlvbi1saW5rIiwgImFjdGlvbnMiOiBbeyJsYWJlbCI6IkNsaWNrIGhlcmUgdG8gZ28gdG8gdGhlIEhvbWUgQmxvb2QgUHJlc3N1cmUgZW50cnkgcGFnZSIsICJ1cmwiOiIvYnAtcmVhZGluZ3MifV0gfSBdJw0KICBlbHNlIGlmICJIVE4gU3RhZ2UgMiIgdGhlbiAnWyB7ICJpZCI6ICJjb250YWN0LXN1Z2dlc3Rpb24iLCAibGFiZWwiOiAiQ29udGFjdCBjYXJlIHRlYW0iLCAidHlwZSI6ICJzdWdnZXN0aW9uLWxpbmsiLCAiYWN0aW9ucyI6IFt7ImxhYmVsIjoiQ29udGFjdCB5b3VyIGNhcmUgdGVhbSBhYm91dCBhIGhpZ2ggYmxvb2QgcHJlc3N1cmUgZGlhZ25vc2lzIiwgInVybCI6Ii9jb250YWN0P3Rva2VuPXN1c3BlY3QtaHRuLXN0YWdlMiJ9XSB9IF0nDQogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIiB0aGVuICdbIHsgImlkIjogImNvbnRhY3Qtc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJDb250YWN0IGNhcmUgdGVhbSIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJDb250YWN0IHlvdXIgY2FyZSB0ZWFtIGFib3V0IGEgaGlnaCBibG9vZCBwcmVzc3VyZSBkaWFnbm9zaXMiLCAidXJsIjoiL2NvbnRhY3Q/dG9rZW49cG9zc2libGUtaHRuLXN0YWdlMiJ9XSB9IF0nDQogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAxIiB0aGVuICdbIHsgImlkIjogImNvbnRhY3Qtc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJDb250YWN0IGNhcmUgdGVhbSIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJDb250YWN0IHlvdXIgY2FyZSB0ZWFtIGFib3V0IGEgaGlnaCBibG9vZCBwcmVzc3VyZSBkaWFnbm9zaXMiLCAidXJsIjoiL2NvbnRhY3Q/dG9rZW49cG9zc2libGUtaHRuLXN0YWdlMSJ9XSB9IF0nDQogIGVsc2UgaWYgIlByZXNjcmliZSBNb25pdG9yaW5nIHRvIENvbmZpcm0gSFROIiB0aGVuICdbIHsgImlkIjogImNvbnRhY3Qtc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJDb250YWN0IGNhcmUgdGVhbSIsICJ0eXBlIjogInN1Z2dlc3Rpb24tbGluayIsICJhY3Rpb25zIjogW3sibGFiZWwiOiJDb250YWN0IHlvdXIgY2FyZSB0ZWFtIGFib3V0IG91dCBvZiBvZmZpY2UgYmxvb2QgcHJlc3N1cmUgbWVhc3VyZW1lbnRzIiwgInVybCI6Ii9jb250YWN0P3Rva2VuPW9mZmljZS1icHMifV0gfSBdJw0KICBlbHNlIGlmIENvbW1vbi4iQlAgSGlnaGx5IFZhcmlhYmxlIiB0aGVuICdbIHsgImlkIjogImFtYnVsYXRvcnktc3VnZ2VzdGlvbiIsICJsYWJlbCI6ICJSZXF1ZXN0IEFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUiLCAidHlwZSI6ICJzdWdnZXN0aW9uLWxpbmsiLCAiYWN0aW9ucyI6IFt7ImxhYmVsIjoiQ2xpY2sgaGVyZSB0byByZXF1ZXN0IEFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUiLCAidXJsIjoiL2NvbnRhY3Q/dG9rZW49YW1idWxhdG9yeS1icHMifV0gfSBdJw0KICBlbHNlICcnDQoNCmRlZmluZSAiU2VsZWN0aW9uIEJlaGF2aW9yIjoNCiAgaWYgbm90ICJJbiBQb3B1bGF0aW9uIiB0aGVuICdOb25lJw0KICBlbHNlIGlmIG5vdCBDb21tb24uIkhhcyBCUCBTZXQiIHRoZW4gJ2F0LW1vc3Qtb25lJw0KICBlbHNlIGlmICJIVE4gU3RhZ2UgMiIgdGhlbiAnYXQtbW9zdC1vbmUnDQogIGVsc2UgaWYgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIiB0aGVuICdhdC1tb3N0LW9uZScNCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDEiIHRoZW4gJ2F0LW1vc3Qtb25lJw0KICBlbHNlIGlmICJQcmVzY3JpYmUgTW9uaXRvcmluZyB0byBDb25maXJtIEhUTiIgdGhlbiAnYXQtbW9zdC1vbmUnDQogIGVsc2UgaWYgQ29tbW9uLiJCUCBIaWdobHkgVmFyaWFibGUiIHRoZW4gJ2F0LW1vc3Qtb25lJw0KICBlbHNlICdhdC1tb3N0LW9uZScNCg0KZGVmaW5lICJMaW5rcyI6DQogIGlmIG5vdCAiSW4gUG9wdWxhdGlvbiIgdGhlbiAnJw0KICBlbHNlIGlmIG5vdCBDb21tb24uIkhhcyBCUCBTZXQiIHRoZW4gJ1t7ImxhYmVsIjoiQ0RDOiBIb3cgdG8gbWVhc3VyZSBibG9vZCBwcmVzc3VyZSIsICJ1cmwiOiJodHRwczovL3d3dy5jZGMuZ292L2Jsb29kcHJlc3N1cmUvbWVhc3VyZS5odG0ifV0nDQogIGVsc2UgaWYgIkhUTiBTdGFnZSAyIiB0aGVuICdbeyJsYWJlbCI6IkFIQTogVW5kZXJzdGFuZGluZyBIaWdoIEJsb29kIFByZXNzdXJlIFJlYWRpbmdzIiwgInVybCI6Imh0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUvdW5kZXJzdGFuZGluZy1ibG9vZC1wcmVzc3VyZS1yZWFkaW5ncyJ9XScNCiAgZWxzZSBpZiAiQ29uc2lkZXIgSFROIFN0YWdlIDIiIHRoZW4gJ1t7ImxhYmVsIjoiQUhBOiBVbmRlcnN0YW5kaW5nIEhpZ2ggQmxvb2QgUHJlc3N1cmUgUmVhZGluZ3MiLCAidXJsIjoiaHR0cHM6Ly93d3cuaGVhcnQub3JnL2VuL2hlYWx0aC10b3BpY3MvaGlnaC1ibG9vZC1wcmVzc3VyZS91bmRlcnN0YW5kaW5nLWJsb29kLXByZXNzdXJlLXJlYWRpbmdzIn1dJw0KICBlbHNlIGlmICJDb25zaWRlciBIVE4gU3RhZ2UgMSIgdGhlbiAnW3sibGFiZWwiOiJBSEE6IFVuZGVyc3RhbmRpbmcgSGlnaCBCbG9vZCBQcmVzc3VyZSBSZWFkaW5ncyIsICJ1cmwiOiJodHRwczovL3d3dy5oZWFydC5vcmcvZW4vaGVhbHRoLXRvcGljcy9oaWdoLWJsb29kLXByZXNzdXJlL3VuZGVyc3RhbmRpbmctYmxvb2QtcHJlc3N1cmUtcmVhZGluZ3MifV0nDQogIGVsc2UgaWYgIlByZXNjcmliZSBNb25pdG9yaW5nIHRvIENvbmZpcm0gSFROIiB0aGVuICdbeyJsYWJlbCI6IkFIQTogTW9uaXRvcmluZyB5b3VyIGJsb29kIHByZXNzdXJlIGF0IGhvbWUiLCAidXJsIjogImh0dHBzOi8vd3d3LmhlYXJ0Lm9yZy9lbi9oZWFsdGgtdG9waWNzL2hpZ2gtYmxvb2QtcHJlc3N1cmUvdW5kZXJzdGFuZGluZy1ibG9vZC1wcmVzc3VyZS1yZWFkaW5ncy9tb25pdG9yaW5nLXlvdXItYmxvb2QtcHJlc3N1cmUtYXQtaG9tZSJ9XScNCiAgZWxzZSBpZiBDb21tb24uIkJQIEhpZ2hseSBWYXJpYWJsZSIgdGhlbiAnW3sibGFiZWwiOiIyNC1ob3VyIEFtYnVsYXRvcnkgQmxvb2QgUHJlc3N1cmUgTW9uaXRvcmluZyIsICJ1cmwiOiJodHRwczovL215LmNsZXZlbGFuZGNsaW5pYy5vcmcvaGVhbHRoL2RpYWdub3N0aWNzLzE2MzMwLTI0LWhvdXItYW1idWxhdG9yeS1ibG9vZC1wcmVzc3VyZS1tb25pdG9yaW5nIn1dJw0KICBlbHNlICcnDQoNCmRlZmluZSAiRXhjbHVzaW9uIFJlYXNvbiI6DQogIGlmICJNZWV0cyBFeGNsdXNpb24gQ3JpdGVyaWEiIHRoZW4NCiAgICAoDQogICAgICAnUGF0aWVudCB3YXMgZXhjbHVkZWQgZnJvbSBpbml0aWFsIGRpYWdub3NpcyBvZiBoeXBlcnRlbnNpb24gZHVlIHRvICcNCiAgICAgICsgKA0KICAgICAgICAgIGlmIENvbW1vbi4iUGF0aWVudCBVbmRlciBBZ2UgMTgiIHRoZW4gJ2JlaW5nIHVuZGVyIHRoZSBhZ2Ugb2YgMTguJw0KICAgICAgICAgIGVsc2UgaWYgQ29tbW9uLiJQYXRpZW50IE92ZXIgQWdlIDgwIiB0aGVuICdiZWluZyBvdmVyIHRoZSBhZ2Ugb2YgODAuJw0KICAgICAgICAgIGVsc2UgaWYgZXhpc3RzIENvbW1vbi4iQ29uZGl0aW9uIEluZGljYXRpbmcgRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiIHRoZW4gJ2hhdmluZyBlbmQgc3RhZ2UgcmVuYWwgZGlzZWFzZS4nDQogICAgICAgICAgZWxzZSBpZiBleGlzdHMgQ29tbW9uLiJDb25kaXRpb24gSW5kaWNhdGluZyBQcmVnbmFuY3kiIHRoZW4gJ2JlaW5nIHByZWduYW50LicNCiAgICAgICAgICBlbHNlIGlmIENvbW1vbi4iSFROIENyaXNpcyIgdGhlbiAnYSByZWNlbnQgaGlnaCBibG9vZCBwcmVzc3VyZSB3YXJuaW5nLicNCiAgICAgICAgICBlbHNlICcnDQogICAgICAgICkNCiAgICApDQogIGVsc2UgJycNCg0KLy8gSXMgbGFzdCBCUCBzZXQgb3IgYWxsIEJQcyBhdmVyYWdlID4gMTYwIFNCUD8NCmRlZmluZSAiUGF0aWVudCBIYXMgSFROIFN0YWdlIDIgQlAiOg0KICBDb21tb24uIlBhdGllbnQgSGFzIFBvdGVudGlhbCBIVE4gU3RhZ2UgMiBCUCINCiAgICBhbmQgKA0KICAgICAgICBDb21tb24uIkhUTiBTdGFnZSAyIEJQIFN5c3RvbGljIFNlY29uZCBUZXN0IihDb21tb24uIk1vc3QgUmVjZW50IEJQIFNldCIpIGlzIG5vdCBudWxsDQogICAgICAgIG9yIENvbW1vbi4iSFROIFN0YWdlIDIgQlAgU3lzdG9saWMgU2Vjb25kIFRlc3QiKENvbW1vbi4iQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIGZvciBMYXN0IDIgWWVhcnMiKSBpcyBub3QgbnVsbA0KICAgICkNCg0KZGVmaW5lICJIVE4gU3RhZ2UgMiI6DQogICJJbiBQb3B1bGF0aW9uIiBhbmQgIlBhdGllbnQgSGFzIEhUTiBTdGFnZSAyIEJQIg0KDQpkZWZpbmUgIkNvbnNpZGVyIEhUTiBTdGFnZSAyIjoNCiAgIkluIFBvcHVsYXRpb24iIGFuZCBDb21tb24uIlBhdGllbnQgSGFzIFBvdGVudGlhbCBIVE4gU3RhZ2UgMiBCUCINCiAgICAgIGFuZCBub3QgIlBhdGllbnQgSGFzIEhUTiBTdGFnZSAyIEJQIg0KDQovLyBJcyBsYXN0IEJQIHNldCBBTkQgYWxsIEJQcyBhdmcgPiAxMzAvODA/DQpkZWZpbmUgIkNvbnNpZGVyIEhUTiBTdGFnZSAxIjoNCiAgIkluIFBvcHVsYXRpb24iIGFuZCAoDQogICAgQ29tbW9uLiJIVE4gU3RhZ2UgMSBCUCIoQ29tbW9uLiJNb3N0IFJlY2VudCBCUCBTZXQiKSBpcyBub3QgbnVsbA0KICAgIGFuZCBDb21tb24uIkhUTiBTdGFnZSAxIEJQIihDb21tb24uIkJsb29kIFByZXNzdXJlIE9ic2VydmF0aW9ucyBmb3IgTGFzdCAyIFllYXJzIikgaXMgbm90IG51bGwNCiAgKQ0KDQpkZWZpbmUgIlByZXNjcmliZSBNb25pdG9yaW5nIHRvIENvbmZpcm0gSFROIjoNCiAgIkluIFBvcHVsYXRpb24iIGFuZCBDb21tb24uIlBhdGllbnQgSGFzIFBvdGVudGlhbCBIVE4gU3RhZ2UgMSBCUCIgYW5kIG5vdCAiQ29uc2lkZXIgSFROIFN0YWdlIDEiDQoNCi8qIFRFU1RTICovDQpkZWZpbmUgIlRlc3QgUGF0aWVudCBBZ2Ugb24gQlAgUmVhZGluZyI6DQogIEFnZUluWWVhcnNBdChzdGFydCBvZiBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoQ29tbW9uLiJNb3N0IFJlY2VudCBCUCBSZWFkaW5nIi5lZmZlY3RpdmUpKQ0KDQpkZWZpbmUgIlRlc3QgQ291bnQgQWxsIEJQIjoNCiAgQ291bnQoQ29tbW9uLiJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMgZm9yIExhc3QgMiBZZWFycyIpDQoNCmRlZmluZSAiVGVzdCBNb3N0IFJlY2VudCBCUCI6DQogIENvbW1vbi4iTW9zdCBSZWNlbnQgQlAgUmVhZGluZyIgQlANCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgIklEIjogQlAuaWQsDQogICAgICAiRGF0ZSI6IEJQLmVmZmVjdGl2ZS5lbmQsDQogICAgICAiU3lzdG9saWMiOiBzaW5nbGV0b24gZnJvbSAoQlAuY29tcG9uZW50IEMgd2hlcmUgQy5jb2RlIGluICJTeXN0b2xpYyBibG9vZCBwcmVzc3VyZSIpLnZhbHVlLnZhbHVlLA0KICAgICAgIkRpYXN0b2xpYyI6IHNpbmdsZXRvbiBmcm9tIChCUC5jb21wb25lbnQgQyB3aGVyZSBDLmNvZGUgaW4gIkRpYXN0b2xpYyBCbG9vZCBQcmVzc3VyZSIpLnZhbHVlLnZhbHVlDQogICAgfQ0KDQpkZWZpbmUgIlRlc3QgR2V0IEFsbCBCUCBPYnNlcnZhdGlvbiBSZXNvdXJjZXMiOg0KICAoQ29tbW9uLiJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMiIEJQIHNvcnQgYnkgQ29hbGVzY2UoaXNzdWVkLCBzdGFydCBvZiBDb21tb24uIk5vcm1hbGl6ZSBJbnRlcnZhbCIoZWZmZWN0aXZlKSkpIEJQDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgICJPYnNlcnZhdGlvbiBJRCI6IEJQLmlkDQogICAgICB9DQoNCmRlZmluZSAiVGVzdCBHZXQgTW9zdCBSZWNlbnQgQlAgU2V0IjoNCiAgQ29tbW9uLiJNb3N0IFJlY2VudCBCUCBTZXQiIEJQU2V0DQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgICJPYnNlcnZhdGlvbiBJRCI6IEJQU2V0LmlkLA0KICAgICAgIkVuY291bnRlciBSZWZlcmVuY2UiOiBCUFNldC5lbmNvdW50ZXIucmVmZXJlbmNlDQogICAgICB9DQoNCmRlZmluZSAiVGVzdCBBbGwgQlAgTGFzdCAyIFllYXJzIjoNCiAgQ29tbW9uLiJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMgZm9yIExhc3QgMiBZZWFycyIgQlBzDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgICJPYnNlcnZhdGlvbiBJRCI6IEJQcy5pZCwNCiAgICAgICJEYXRlIjogQlBzLmVmZmVjdGl2ZS5lbmQsDQogICAgICAiRW5jb3VudGVyIFJlZmVyZW5jZSI6IEJQcy5lbmNvdW50ZXIucmVmZXJlbmNlDQogICAgICB9DQoNCmRlZmluZSAiVGVzdCBHZXQgQXZlcmFnZSBBbGwgQlAgTGFzdCAyIFllYXJzIjoNCiAgQ29tbW9uLiJBdmcgQlAiKENvbW1vbi4iQmxvb2QgUHJlc3N1cmUgT2JzZXJ2YXRpb25zIGZvciBMYXN0IDIgWWVhcnMiKQ0KDQpkZWZpbmUgIlRlc3QgR2V0IEF2ZXJhZ2UgTW9zdCBSZWNlbnQgQlAgU2V0IjoNCiAgQ29tbW9uLiJBdmcgQlAiKENvbW1vbi4iTW9zdCBSZWNlbnQgQlAgU2V0IikNCg0KZGVmaW5lICJUZXN0IEdldCBBbGwgQlAgU0JQIENvZWZmaWNpZW50IFZhcmlhYmlsaXR5IjoNCiAgQ29tbW9uLiJTeXN0b2xpYyBCUCBWYXJpYWJpbGl0eSIoQ29tbW9uLiJCbG9vZCBQcmVzc3VyZSBPYnNlcnZhdGlvbnMgZm9yIExhc3QgMiBZZWFycyIpLnZhbHVlDQo="
  } ]
}